webpackJsonp([1],{"+BTi":function(e,t){},"/Bxx":function(e,t,i){e.exports=i.p+"static/img/Bitmap@2x.5ec3897.png"},"0/SW":function(e,t){},"1Ja4":function(e,t){},"1TJJ":function(e,t){},"2AR/":function(e,t){},"2rGO":function(e,t){},"3Uj3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAABBCAYAAAELTKx2AAAAAXNSR0IArs4c6QAABLRJREFUaAXdWltslEUUPvP3hxRKvGCU7qV0kVJMJCRQbHwplwcTE/HSB3mWCJJalFoU4otUEgkBxd1tS2k0MTEYSDFRGnkBAiSASRMfVODBhKQJvXGJIfDApXb3+M3K/vbvXro7nfl3fzbZ/HM55zvnzDn/zJn5hyjfLxDjV/P1z6Av3M11M2AvhDUY403T0oWivH5aokyCQJQ/ymw101LbyYs0IFfHeEADTAEQgTg3FUBWDiTVcX62tHoEu3ilo4FKWFkkKOwgFFiwqgR9jtd7qEB635AFO/mNMlf2+V5+UklFvFdblBhf7OZ5SozBbq5RYkRoHVNihP9eUGKUTJD6ozKzixGTZTzcx3NcjZorlsQTggYSY/RepIcjmvFLCBfo4lqT4lNDJwWIBL1rUlBpsINx3umZZKRJO7wU1uqZMEwHPZ4Je7uPK2rivNgzgaEurldeSlS0XP49VyFY3lThVeapjnIfMwtlABVGBM7h8Lc8X4V3RjwY3o3IAa9hpd+89izbDpiMLqdioGDJMT4/RscNYDuQVqiLXocnf0foPuO0ai5YnKR2pMQPEhN0STO2AyfXnwgxVSFBWIHZeoXTo7FgBStpCSJ/3mCbuIFhu6UR2w2Fl2yfu0Vv7b/l2qJBvbButJSQ2TYddTf7uRaK8TpT+jspVIJotXEhFbbZqcUxIPIdVzoVjQVnuCTm+B36VCO2A+USUjmHDjg9JgvBKGvPoV2WSOWFTedNGuFgY+3e41RMFTqYrbo4P6ELP2O4JHCHEMl7RC/rEpIXB8P2TV4CXZ1Ya7yZoWGR2hFEsZbirKC/WB4les+GLhTndzCRPqWkZTFMMslG+vRJMTzKtAiIk8rMxTDKsxwI+6oYHmVaHLWsxpbhUDYAJI16f3ILePM2HRdMI7ag/UPbxGXtQiarLE8ub/9D/weI/IphYsGaLNR0OTXbY6u3EId/p5NEdxEsRvIJ04ZI/JQxzLQZ/weob0c8LEVAfu2FcN0yrNSZr6CPbUa+KuhE/XLahOcyeOiwbmGm8ayJ69QIIceG28SfeC44t05MjG0Tr8BDB+Ghn0wrYAwfS8aXxsA9AHale3hvxk0f75i0yWUMKqd+HaO1JgV6io1perenAjUKc3nmEe49UxtkjXpnhcow5ukAHRi/S21Zqcu8McOYKxvEODKBCZlglbnuhauHXG1X4dTlQZnhmbRaFYJ+RhbQnK774ZnTmJEPxR/I4UORbq72gyEF6Yi7PJ/5dXbLaiD2+3sbenlW1k4/NkoPLe7h5/yoe1ad5Xc6eOmlrJ1+bJQTgrz74kfdc+qMHK4j0MmrchL4rSPYy3OxFv3wWL1L8kYwQu+I8mW1cvSivBEit9omv3h7bveiKC+Ap/oRgg1eCjd60ii34BdG8cnNolujH9AXQiBBehx+0kvw1hmT3jLqmVxOQDbRgjsYr1k2tYy2iqFcdMW2l8SYtJIyDC9ep/YkU5NtU/twq7ia7lN5ltSYqQqH49yYSOLbuaDfrAo6NLJV/D2VJl+9rIyZqmhNjJfhLsX72MbLWfEXbBj75T5rKl26XtbGpJWc/Kzt5cDD+9SMrxZv4b1bAy/i7JL+mj2Lmv8FTQ1lU4PIOXcAAAAASUVORK5CYII="},"44v0":function(e,t){},"4uAZ":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASUAAABvCAYAAACq09bJAAAH10lEQVR4Xu3cX6hlZRnH8e8zTWPqKCSB4IU4YsTkVYHMyAjjf8Mw9cIwRghBUbpQSG88Eg4Sc5MjKAoOgl5JlKSJRFBpDTQo3niTWiApEZJ0leONYj7x2jo2NOfP3u/Z7z7r7Pe7bg6cs9eznufzHn6svc67T+ChQEOBzDwVuCEiftrwMpZeIIFYoFkcZYQCmXkLcHdEXDTC9mxphAKG0ggXZZFaysw/APuBb0bE64s0m7O0ETCU2rhaFcjMa4FfDRi/jYirhVFgPQFDaT0hf14lkJk7gD8BXz2hwI0R8cuqgp7UjYCh1M1Sz3fQzPwJcO//XfXvwEUR8Y/5duPVtpKAobSVVmuL9JqZ3weeBlb6/XoFuCwiPtoi49jmnAUMpTmDL/rlMvMa4AXglDVmfRa4JSI+XnQP55tewFCa3swzVhHIzFuBI8AXJ0B6GSjPmD6Y4LW+pCMBQ6mjxW41amaeDvy47Eda5S3bapd+E7g1Il5r1Zt1t56AobT11mxUHWfmt4HHgPMqG/s38AjwYET8q7KGpy2QgKG0QIs5r1Ey80vAzcBdwDdmdN3jwFPAoxHx1xnVtMwWFDCUtuCizavlzNxe9kACZwHnAxcDlwKXAGeu0MdKv0+Tfq+UK68t1ytv634HlN3gfwHeA45HRPmZx4ILzDSUhl/i8pGC64ePFpRb+p3AtgV3dDwFFFhZ4FPgQ+Bd4Ojwl9mjEfHJamAzC6XMvAk4BFzg6iiggAJrCLwNLEVE2Rpy0rHhUMrMM4BngOtcBgUUUGAKgReBAxFRnid+fmwolDLzbOAl4MIpGvGlCiigwLLAG8AVEfH+8jeqQ2n4wGXZALdPXwUUUGADAseAy5d3+G8klB4C7tlAI56qgAIKLAscjojPPsBdFUqZuQt4a53PN8mtgAIKTCpQPqC9OyLeqQ2lJ4A7Jr2ar1NAAQUmEDgSEXdOHUqZWfYclc1s5SG3hwIKKDArgfKw+5yaUNoDvDqrLqyjgAIKnCCwtyaUbgOelFEBBRRoIHB7TSjdN+zcbtCPJRVQoHOBpZpQegA42Dmc4yugQBuBg4ZSG1irKqBAnYChVOfmWQoo0EjAUGoEa1kFFKgTMJTq3DxLAQUaCRhKjWAtq4ACdQKGUp2bZymgQCMBQ6kRrGUVUKBOwFCqc/MsBRRoJGAoNYK1rAIK1AkYSnVunqWAAo0EDKVGsJZVQIE6AUOpzs2zFFCgkYCh1AjWsgooUCdgKNW5eZYCCjQSMJQawVpWAQXqBAylOjfPUkCBRgKGUiNYyyqgQJ2AoVTn5lkKKNBIwFBqBGtZBRSoEzCU6tw8SwEFGgkYSo1gLauAAnUChlKdm2cpoEAjgapQ+hnw3UYNWVYBBfoWmC6UMnMH8E/gzL7dnF4BBRoJTB1KNwLPNWrGsgoooMDUofRHYJ9uCiigQCOByUMpMy8Fft+oEcsqoIACRWCyUBqeJb0OfF03BRRQoKHAxKH0IPCjho1YWgEFFJjsTikzbwB+AWzTTAEFFGgssPadUmZeAvwa2Nm4EcsroIACa98pZea3hjuk07RSQAEF5iRw8p1SZn4BuH94hrR9To14GQUUUODkO6XM3As8DFysjwIKKLAJAgcjM8sD7CuBHwDfAWITGvGSCiigwH/vlDLzALDkHiR/IxRQYAQC/3umNOzYPuRbtxEsiy0o0K/Aig+6vwc8Dny5XxcnV0CBTRJYeZ9SZp4L/BzYs0mNeVkFFOhTYPXNk5l5OvA8cFWfNk6tgAKbILDuju7yT91+A+zfhOa8pAIK9Cew/gdyM/MrwGvArv58nFgBBeYssH4olYaGTZXH/FDunJfHyynQn8BkoTQEU/mLXNlg6aGAAgq0EpgqlM4C/gaUB+AeCiigQAuByUNpuFt6BLirRSfWVEABBSb+d7jLVJn5NeDP0imggAKNBKa7Uxrult4EdjdqyLIKKNC3QFUoHQZ+2Leb0yugQCOBqlB6oLzva9SQZRVQoG8BQ6nv9Xd6BUYnYCiNbklsSIG+BQylvtff6RUYnYChNLolsSEF+hYwlPpef6dXYHQChtLolsSGFOhbwFDqe/2dXoHRCRhKo1sSG1KgbwFDqe/1d3oFRidgKI1uSWxIgb4FDKW+19/pFRidgKE0uiWxIQX6FjCU+l5/p1dgdAKG0uiWxIYU6FvAUOp7/Z1egdEJGEqjWxIbUqBvAUOp7/V3egVGJ2AojW5JbEiBvgUMpb7X3+kVGJ2AoTS6JbEhBfoWMJT6Xn+nV2B0AobS6JbEhhToW8BQ6nv9nV6B0QlUhdJ9wKHRjWJDCiiwCAJLMe0UmXkb8OS05/l6BRRQYAKB22tCaQ/w6gTFfYkCCigwrcDemlDaBrwHnD3t1Xy9AgoosIbA+8A5U4dSKZiZTwB3yKuAAgrMUOBIRNxZG0q7gLeAU2bYkKUUUKBfgY+A3RHxTlUoDXdLDwH39Gvo5AooMEOBwxFxb6m3kVDaAbwM7JthY5ZSQIH+BI4Bl0fExxsKpeFuqTzsfgm4sD9HJ1ZAgRkIvAFcERHlIfdnR/Wd0nKBzDwDeAa4bgYNWkIBBfoReBE4EBHHTxx5w6F0QjjdNOz0vqAfUydVQIEKgbeBpYh4dqVzZxZKw9u57cB+4Prh63nATqDsbfJQQIH+BD4FPgTeBY4CL5SvEfHJahT/Ad3RI3rHaoSjAAAAAElFTkSuQmCC"},"6FPN":function(e,t){},"75lX":function(e,t){},"7PkA":function(e,t){},"8jhb":function(e,t){},"8lGH":function(e,t){},"8z31":function(e,t){},"94/p":function(e,t){},"991W":function(e,t){},A2qz:function(e,t){},A8Uu:function(e,t){},Az6u:function(e,t){},BBAr:function(e,t){},BNJR:function(e,t){},Df1Z:function(e,t){},Dzb6:function(e,t){},G9d7:function(e,t){},GEWA:function(e,t){},GI2n:function(e,t){},GXEp:function(e,t){},H488:function(e,t){},I4nB:function(e,t){},"Kr3/":function(e,t){},LL4n:function(e,t){},"MCm/":function(e,t){},MqRL:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("MICi"),r=i.n(o),a=(i("cwe7"),i("+BTi"),i("2X9z")),n=i.n(a),s=(i("oq7i"),i("+TD8")),l=i.n(s),d=(i("X+ky"),i("HJMx")),c=i.n(d),h=(i("2rGO"),i("nu7/")),u=i.n(h),p=(i("Df1Z"),i("D3wm")),f=i.n(p),g=(i("RWjY"),i("aMwW")),v=i.n(g),m=(i("8z31"),i("SXzR")),b=i.n(m),P=(i("BNJR"),i("fDPO")),y=i.n(P),w=(i("bRYy"),i("eBGF")),C=i.n(w),T=(i("8jhb"),i("RDoK")),S=i.n(T),F=(i("TFIm"),i("s3ue")),x=i.n(F),D=(i("Xd7X"),i("L6k1")),k=i.n(D),B=(i("dmRH"),i("EKTV")),_=i.n(B),A=(i("jAzQ"),i("wOhx")),R=i.n(A),I=(i("GXEp"),i("mtrD")),O=i.n(I),L=(i("Yq4J"),i("qubY")),z=i.n(L),H=(i("LL4n"),i("BrEC")),G=i.n(H),W=(i("U/ZW"),i("+nRk")),M=i.n(W),E=(i("Dzb6"),i("o6kb")),j=i.n(E),N=(i("I4nB"),i("STLj")),U=i.n(N),V=(i("cDSy"),i("e0Bm")),Y=i.n(V),X=(i("jZDA"),i("91Nw")),Q=i.n(X),q=(i("d7TW"),i("ajQY")),$=i.n(q),J=i("BTaQ"),K=i.n(J),Z=i("7t+N"),ee=i.n(Z);function te(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function ie(e){var t=parseFloat(e.toString().replace("px",""));return r()(t)&&(t=0),t}ee.a.fn.inRangeOf=function(e){var t=ee()(e),i=ee()(this).offset().left,o=ee()(this).offset().top;return!(!ee()(this).offset()||!ee()(t).offset())&&(t.offset().left<i&&t.offset().left+t.width()>i&&t.offset().top<o&&t.offset().top+t.height()>o)},ee.a.fn.partInRangeOf=function(e){var t=ee()(e),i=ee()(this).offset().left,o=ee()(this).offset().top,r=parseInt(ee()(this).css("width"),10),a=parseInt(ee()(this).css("height"),10);return!(!ee()(this).offset()||!ee()(t).offset())&&(t.offset().left<i+r&&t.offset().left+t.width()>i&&t.offset().top<o+a&&t.offset().top+t.height()>o)},ee.a.fn.move=function(e){if(e&&e.x&&e.x!==Number.POSITIVE_INFINITY){var t=ie(ee()(this).css("left"))+e.x;if(t=Math.ceil(t),ee()(this).css("left",t),e.y&&e.y!==Number.POSITIVE_INFINITY){var i=ie(ee()(this).css("top"))+e.y;ee()(this).css("top",Math.ceil(i))}}},ee.a.fn.innerOffsetLeft=function(){return ee()(this).offset().left+ie(ee()(this).css("border-left-width"))},ee.a.fn.innerTop=function(){return ee()(this).offset().top+ie(ee()(this).css("border-top-width"))},ee.a.fn.isOffsetLeftMouseDown=function(e){return(0===e.button||1===e.button)&&"mousedown"===e.type};var oe=i("/5sW"),re=i("d7EF"),ae=i.n(re),ne=i("fZjL"),se=i.n(ne),le=i("BO1k"),de=i.n(le),ce=i("Xxa5"),he=i.n(ce),ue=i("woOf"),pe=i.n(ue),fe=i("exGp"),ge=i.n(fe),ve=(i("991W"),i("Qbok"),i("MqRL"),i("TExn"),i("PR7e"),""),me=/DingTalk/.test(navigator.userAgent),be={DraggingFieldModel:null,DraggingProxy:null},Pe={Field:"field-instance",SubTableField:"field-subtab",QrCodeField:"field-qrcode",BarCodeField:"field-barcode",TextField:"field-text",RectangleField:"field-rectangle",LineField:"field-line",ActivityContent:"field_content",FlowSealField:"field-flowSeal",ImageField:"field-image",WatermarkField:"field-watermark",FieldSelected:"field-selected",FieldSelectedFirst:"field-selected-first",FieldDragProxy:"field_drag_proxy",Resizeing:"resizeing",Resize:"resize",ResizeUp:"resize_up",ResizeDown:"resize_down",ResizeLeft:"resize_left",ResizeRight:"resize_right",ResizeTopLeft:"resize_topleft",ResizeTopRight:"resize_topright",ResizeBottomLeft:"resize_bottomleft",ResizeBottomRight:"resize_bottomright"},ye={FieldModelDragProxy:"field-model-proxy",FieldModelDragProxyOuter:"field-model-proxy-outer",FieldModelDragProxyInner:"field-model-proxy-inner",FieldModel:"field-modal"},we="field",Ce=".resizeable",Te={MovingFields:[],AdsorbX:!1,AdsorbY:!1,InAdsorb:7,OutAdsorb:8,ContentEdgeTop:0,ContentEdgeRight:0,ContentEdgeBottom:0,ContentEdgeLeft:0},Se={LeftDockFiles:[],RightDockFiles:[],TopDockFiles:[],BottomDockFiles:[],HorizontalFields:[],VerticalFields:[]},Fe={PageSize:4,HeaderHeight:30,DefaultRowHeight:30},xe={FormCreate:0,FormDataView:1,FormDataField:2,Other:3},De={FormDataField:0,Other:1},ke={Horizontal:"line-horizontal",Vertical:"line-vertical"},Be=8,_e={Normal:0,Rotate:1},Ae={Form:0,System:1,QrCode:2,BarCode:3,SubTable:4,FlowSeal:5,Text:6,Rectangle:7,Line:8,Image:9,WorkFlowLog:10,Transition:100,ImageControl:11,MultiPropertyCode:12,TextWatermark:13,ImageWatermark:14,CustomWorkFlowLog:15,FormHandSign:16},Re="${",Ie="}",Oe="system",Le="{System_SeqNo}",ze="{System_BlankColumn}",He="div.workspace",Ge="#divPropertyContainer",We="#TemplateSet",Me="#ControlSet",Ee={WorkSpace:"workspace",WorkSpaceActive:"workspace-active",SelectSpace:"workspace-select",WorkSpaceContent:"workspace-content",TriggerDelete:"trigger-delete",Boundary:"boundary",BoundaryLeftTop:"boundary-left-top",BoundaryLeftBottom:"boundary-left-bottom",BoundaryRightTop:"boundary-right-top",BoundaryRightBottom:"boundary-right-bottom",TaoDaDockLine:"dock-line",TaoDaDockLineHorizontal:"dock-line-horizontal",TaoDaDockLineVertical:"dock-line-vertical",TaoDaDockLineLeft:"dock-line-left",TaoDaDockLineCenter:"dock-line-center",TaoDaDockLineRight:"dock-line-right",TaoDaDockLineTop:"dock-line-top",TaoDaDockLineMiddle:"dock-line-middle",TaoDaDockLineBottom:"dock-line-bottom",MultiSelectBox:"taoda-multi-selectbox",InvalidSubTable:"invalid-field-position"},je=".field",Ne=".multiSelect",Ue={FieldsInRange:[],StartPoint:{x:0,y:0}},Ve={None:void 0,ModelDrag:1,FieldKeyMove:2,FieldDragMove:3,FieldResize:4,DragMultiSelect:5},Ye={IsKeyDown:!1,CurrentMultiAction:Ve.None,Objects:[],SourceStates:[]},Xe={FormDataField:0,FixedText:1},Qe={Document:0,Bill:1},qe=[{text:"横向",value:0},{text:"纵向",value:1}],$e=[{text:"A3",value:0,width:297,height:420},{text:"A4",value:1,width:210,height:297},{text:"B4",value:2,width:250,height:353},{text:"B5",value:3,width:176,height:250},{text:"自定义",value:4,width:210,height:297}],Je={Horizontal:{name:"水平",value:0},Vertical:{name:"垂直",value:1}},Ke={Focus:!1},Ze=1,et=["Width","Height","MarginTop","MarginRight","MarginBottom","MarginLeft",["PageHeader","MarginTop"],["PageFooter","MarginBottom"]],tt=i("Gu7T"),it=i.n(tt),ot=i("ifoU"),rt=i.n(ot);function at(e){return e/10/2.54*72}function nt(e){return e/72*2.54*10}function st(e){return e*window.GlobalPrintProperties.Zoom}function lt(e){return e/window.GlobalPrintProperties.Zoom}function dt(e){var t=window.GlobalPrintProperties.pageSettings,i=t.Height-e.PointY-t.MarginBottom;return t.PrintDocType===Qe.Document&&(i-=31),i}function ct(e){var t=dt(e)-e.HeaderHeight;return Math.floor(t/e.DefaultRowHeight)}function ht(e){var t=dt(e)-e.HeaderHeight;return Math.floor(t/e.PageSize)}function ut(e){return window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document?st(e.DefaultRowHeight+e.HeaderHeight)+31:st(e.DefaultRowHeight*e.PageSize+e.HeaderHeight)}function pt(){var e=window.GlobalPrintProperties.Print.workspace_content;if(e){var t=window.GlobalPrintProperties.pageSettings.MarginTop,i=window.GlobalPrintProperties.pageSettings.MarginLeft;Te.ContentEdgeTop=Math.floor(t),Te.ContentEdgeRight=Math.floor(i+e.width()),Te.ContentEdgeBottom=Math.floor(t+e.height()),Te.ContentEdgeLeft=Math.floor(i)}}function ft(e,t){return"string"!=typeof e||""===e?null:(t||window.GlobalPrintProperties.Print.fields).find(function(t){return t.Code===e})}function gt(e,t){var i=function(e){return e},o=e;switch(t){case"getPxFromMm":i=at;break;case"getMmFromPx":i=nt;break;case"getZoomValue":i=st;break;case"getRealValue":i=lt}et.forEach(function(e){"string"==typeof e?o[e]=i(o[e]):o[e[0]][e[1]]=i(o[e[0]][e[1]])})}function vt(e){return(e.PropertyType===Ae.Form||e.PropertyType===Ae.System||e.PropertyType===Ae.Text)&&!!e.PairFieldCode}function mt(e){return e.PropertyType===Ae.SubTable||e.PropertyType===Ae.WorkFlowLog}function bt(e){return!(vt(e)||mt(e))}function Pt(e,t,i,o){for(var r=window.GlobalPrintProperties.Print.fields,a=0,n=1e4,s=[],l=0;l<r.length;l+=1)if(!bt(r[l]))if(r[l].PointY+r[l].Height<=e.PointY&&r[l].PointY+r[l].Height>=a)a=r[l].PointY+r[l].Height;else if(r[l].PointY>=e.PointY+e.Height&&r[l].PointY<=n)n=r[l].PointY;else if(r[l].PointY===e.PointY){s.push(r[l]);var d={};d="position"===o?{x:r[l].PointX,y:r[l].PointY}:{width:r[l].Width,height:r[l].Height,x:r[l].PointX,y:r[l].PointY,defaultRowHeight:r[l].PropertyType===Ae.SubTable||r[l].PropertyType===Ae.WorkFlowLog?r[l].DefaultRowHeight:""},t.push(d),i.push(r[l])}var c={};return c.PreRowLine=a,c.NextRowLine=n,c.CurrentLineField=s,c}function yt(e,t,i,o){for(var r=e.top,a=e.height,s={},l=t,d=[],c=[],h={},u=0;u<l.length;u+=1)if(vt(l[u])){var p=l[u].PointY;if(h[p])continue;var f=l[u].PointY+l[u].Height;c.push({top:p,height:l[u].Height,bottom:f}),h[p]=f}else if(mt(l[u])){var g=l[u].PointY;if(h[g])continue;var v=l[u].PointY+l[u].Height;d.push({top:g,bottom:v}),h[g]=v}if(d="subTable"===i?d.concat(c):d,"subTable"===i)return s.canPlace=!0,s;for(var m=null,b=null,P=[],y=0;y<c.length;y+=1){if(c[y].top<r&&c[y].bottom>r){m=c[y];break}c[y].top<r+a&&c[y].bottom>r+a&&(b=c[y]),c[y].top>=r&&c[y].bottom<=r+a&&P.push(c[y])}if(P.length>=2){if(!o)return n()({message:"没有办法定位移动的字段到底与哪一行对齐，请调整后再移动",showClose:!0,type:"error"}),s.canPlace=!1,s;P.sort(function(e,t){return e.PointY-t.PointY})}s.canPlace=!0;var w=m||b||P[0];return w?(s.top=w.top,s.height=w.height):(s.top=r,s.height=a),s}function wt(e){for(var t=[],i=window.GlobalPrintProperties.Print.fields,o=0;o<i.length;o+=1){for(var r=!1,a=0;a<e.length;a+=1)if(e[a].Code===i[o].Code){r=!0;break}r||t.push(i[o])}return t}function Ct(e,t,i,o){for(var r=!0,a=0;a<e.length;a+=1){var n="";if(vt(e[a])?n="Form":mt(e[a])&&(n="subTable"),n){var s=yt(i(a),t,n);if(!s.canPlace){r=!1;break}"Form"===n&&o&&"function"==typeof o&&o(a,s)}}return r}function Tt(){for(var e=window.GlobalPrintProperties.Prints,t=se()(e),i=0;i<t.length;i+=1)for(var o=e[t[i]].fields.slice(0),r=0;r<o.length;){var a=o[r];if(mt(a)){var n={top:a.PointY,height:a.Height};if(o.splice(r,1),!yt(n,o,"subTable").canPlace){ee()(a.htmlObject).addClass(Ee.InvalidSubTable);var s=Math.floor(a.PointY+(window.GlobalPrintProperties.pageSettings.Height+30)*i);return document.getElementsByClassName("workspace-container")[0].scrollTop=s,!1}}else r+=1}return!0}function St(e){var t=0;switch(e){case 6:t=.5;break;case 7:t=.59;break;case 8:t=.67;break;case 9:t=.75;break;case 10:t=.83;break;case 11:t=.92}return t}function Ft(e){var t=0;return 1===e&&(t="-50%"),t}var xt=".FieldDraggable",Dt={Resizing:!1,CurrentField:void 0,CurrentResizer:void 0,Direction:void 0,StartPoint:{x:0,y:0},PrePoint:{x:0,y:0},WorkspaceMinRight:0,WorkspaceMinBottom:0,WorkflowCurrentRight:0,WorkflowCurrentBottom:0,SourceStates:void 0},kt={FieldDockCalculaterWorker:null,IsDragging:!1,ColumnNum:0,DraggingFields:null,DraggingProxy:null,DragStartFieldPoint:[0,0,0,0],DragStartPoint:{x:0,y:0},PreDragPoint:{x:0,y:0},ReferencePosition:[],ProxyPosition:[],CreateDragProxy:function(e){kt.DraggingFields.push(e),e.IsInSubTable?function(){var t=ee()(e.htmlObject).width(),i=ee()(e.htmlObject).closest("table").parent().clone().hide();i.find("tr.select-subtab-tr").remove(),i.find(".printAll").remove();for(var o=0;o<2;o+=1){ee()(i.find("tr")[o]).find("td").each(function(e,t){var o=ee()(t).find("div[data-controlkey]");e!==kt.ColumnNum?ee()(t).remove():(i.dragColumnIndex=e,o.removeClass(Pe.FieldSelectedFirst).removeClass(Pe.FieldSelected))})}i.css("width",t).addClass(Pe.FieldDragProxy).appendTo(window.GlobalPrintProperties.Print.workspace),kt.DraggingProxy.push(i)}():kt.DraggingProxy.push(ee()(e.htmlObject).clone().removeClass(Pe.FieldSelectedFirst).removeClass(Pe.FieldSelected).addClass(Pe.FieldDragProxy).hide().appendTo(ee()(e.htmlObject).parent())),kt.DraggingProxy[kt.DraggingProxy.length-1].PointX=e.PointX,kt.DraggingProxy[kt.DraggingProxy.length-1].PointY=e.PointY}},Bt={TraceType:{Content:1,Position:2,Size:3,Delete:4,Align:5,TextSource:6,Border:7,Font:8,TextAlign:9,TablePx:10,FillColor:11,QrCode:12,BarCode:13,MoveScaleAction:14},copyObj:function(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},AddNewFields:function(e){var t=window.GlobalPrintProperties.Print,i=e,o=[];if(i&&i.length){for(var r=0;r<i.length;r+=1){var a=ee()(i[r].html),n=pe()({},i[r].field,{Code:""});n.oldCode=i[r].field.Code,n.isSelected=!1,ee()(t.workspace).append(a);var s=t.addField(a,n);if(s.PropertyType===Ae.WorkFlowLog||s.PropertyType===Ae.SubTable){var l=i[r].field.Properties,d=ee()(s.htmlObject).find("tr>td");if(s.Properties=[],d&&d.length)for(var c=0;c<d.length;c+=1){var h=ee()(l[c].htmlObject),u=l[c];u.isSelected=!1,d.eq(c).html(h),s.Properties.push(t.addField(h,u))}}o.push(s),i[r].field=s}for(var p=0;p<i.length;p+=1)for(var f=i[p].field.PairFieldCode,g=0;g<i.length;g+=1)if(p!=g&&f==i[g].field.oldCode){i[p].field.PairFieldCode=i[g].field.Code;break}for(var v=[],m=0;m<o.length;m+=1)ee()(o[m].htmlObject).hasClass(Pe.FieldSelected)&&(o[m].Select(),v.push(o[m]),window.GlobalPrintProperties.PrintProperty.UpdateDeleteState());v.length>1?window.GlobalPrintProperties.PrintProperty.DisplayProperties(v):1===v.length&&window.GlobalPrintProperties.PrintProperty.DisplayProperties(v[0])}if(Bt.RedoTraceStack.length>1&&i)for(var b=Bt.RedoTraceStack.length-1;b>-1;b-=1)for(var P=Bt.RedoTraceStack[b].fields,y=0;y<i.length;y+=1)for(var w=0;w<P.length;w+=1)P[w].field&&i[y].field.oldCode===P[w].field.Code?P[w].field=i[y].field:P[w]&&i[y].field.oldCode===P[w].Code&&(P[w]=i[y].field);if(Bt.UndoTraceStack.length>1&&i)for(var C=Bt.UndoTraceStack.length-1;C>-1;C-=1)for(var T=Bt.UndoTraceStack[C].fields,S=0;S<i.length;S+=1)for(var F=0;F<T.length;F+=1)T[F].field&&i[S].field.oldCode===T[F].field.Code?T[F].field=i[S].field:T[F]&&i[S].field.oldCode===T[F].Code&&(T[F]=i[S].field)},UndoTraceStack:[],RedoTraceStack:[],CopyTraceStack:[],PasteTraceStack:[],Undo:function(){var e=window.GlobalPrintProperties.Print,t=Bt.UndoTraceStack.length-1;if(t>-1){var i=Bt.UndoTraceStack[t],o={subTable:i.fields[0]};switch(i.type){case Bt.TraceType.Content:for(var r=0;r<i.fields.length;r+=1)i.fields[r].html=ee()(i.fields[r].field.htmlObject).prop("outerHTML"),ee()(i.fields[r].field.htmlObject).hasClass(Pe.FieldSelected)&&e.removeSelectedField(i.fields[r].field.Id),e.removeField(i.fields[r].field.Id);0===e.selectedFields.length&&window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(!1),Bt.RedoTraceStack.push(i);break;case Bt.TraceType.MoveScaleAction:for(var a=0;a<i.fields.length;a+=1){var n=i.fields[a];i.target[a].x=n.field.PointX,i.target[a].y=n.field.PointY,i.target[a].w=n.field.Width,i.target[a].h=n.field.Height,ee()(n.field.htmlObject).css({left:n.source.x,top:n.source.y,width:n.source.width,height:n.source.height}),n.field.PointX=n.source.x,n.field.PointY=n.source.y,n.field.Width=n.source.width,n.field.Height=n.source.height}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.Position:for(var s=0;s<i.fields.length;s+=1){var l=i.fields[s];i.target[s].x=l.field.PointX,i.target[s].y=l.field.PointY,ee()(l.field.htmlObject).css({left:l.source.x,top:l.source.y}),l.field.PointX=l.source.x,l.field.PointY=l.source.y}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.Size:for(var d=0;d<i.fields.length;d+=1){var c=i.fields[d];if(c.field.IsInSubTable){ee()(c.field.htmlObject).parent().parent("tr").find(".field-instance").css("height",c.source.height);var h=ee()(c.field.htmlObject).parent("td")[0].cellIndex,u="",p="",f=ee()(c.field.htmlObject).parents("."+Pe.SubTableField+":first").data(we);ee()(c.field.htmlObject).parents(".table").find("tr").find("td").eq(h).css("width",c.source.width),void 0!==c.source.pWidth&&(u=ee()(c.field.htmlObject).parent("td").prev()[0].cellIndex,i.target[d].pWidth=ee()(c.field.htmlObject).parents(".table").find("tr").find("td").eq(u).outerWidth(),ee()(c.field.htmlObject).parents(".table").find("tr").find("td").eq(u).css("width",c.source.pWidth)),void 0!==c.source.nWidth&&(p=ee()(c.field.htmlObject).parent("td").next()[0].cellIndex,i.target[d].nWidth=ee()(c.field.htmlObject).parents(".table").find("tr").find("td").eq(p).outerWidth(),ee()(c.field.htmlObject).parents(".table").find("tr").find("td").eq(p).css("width",c.source.nWidth)),ee()(c.field.htmlObject).parent().parent("tr").css("height",c.source.height+2),ee()(c.field.htmlObject).parents(".field-subtab").css({width:c.source.tWidth,height:c.source.tHeight,left:c.source.x,top:c.source.y}),i.target[d].x=f.PointX,i.target[d].y=f.PointY,i.target[d].w=c.field.Width,i.target[d].h=c.field.Height,i.target[d].defaultRowHeight=f.DefaultRowHeight,i.target[d].headerHeight=f.HeaderHeight,i.target[d].tWidth=f.Width,i.target[d].tHeight=f.Height,f.PointX=c.source.x,f.PointY=c.source.y,f.Width=c.source.tWidth,f.Height=c.source.tHeight;var g=f.Properties.length/2;if(f.Properties[h].Width=c.source.width,f.Properties[h].Height=c.source.height,f.Properties[h+g].Width=c.source.width,f.Properties[h+g].Height=c.source.height,!!ee()(c.field.htmlObject).parents("thead").length){for(var v=0;v<g;v+=1)f.Properties[v].Height=c.source.height;f.HeaderHeight=c.source.headerHeight}else{for(var m=g;m<f.Properties.length;m+=1)f.Properties[m].Height=c.source.height;f.DefaultRowHeight=c.source.defaultRowHeight}f.Properties[h+g].Width=c.source.width,""!==p&&(f.Properties[p].Width=c.source.nWidth,f.Properties[p+g].Width=c.source.nWidth),""!==u&&(f.Properties[u].Width=c.source.pWidth,f.Properties[u+g].Width=c.source.pWidth)}else if(i.target[d].x=c.field.PointX,i.target[d].y=c.field.PointY,i.target[d].w=c.field.Width,i.target[d].h=c.field.Height,i.target[d].defaultRowHeight=c.field.DefaultRowHeight,ee()(c.field.htmlObject).css({left:c.source.x,top:c.source.y,width:c.source.width,height:c.source.height}),c.field.Width=c.source.width,c.field.Height=c.source.height,c.field.PointX=c.source.x,c.field.PointY=c.source.y,c.field.PropertyType!==Ae.QrCode&&c.field.PropertyType!==Ae.BarCode||(c.field.Width>c.field.Height?ee()(c.field.htmlObject).find(".icon").css("font-size",c.field.Height):ee()(c.field.htmlObject).find(".icon").css("font-size",c.field.Width)),c.source.defaultRowHeight&&""!==c.source.defaultRowHeight){for(var b=ee()(c.field.htmlObject).find("table tbody")[0],P=0;P<b.rows.length;P+=1)ee()(b.rows[P]).css("height",c.source.defaultRowHeight),ee()(b.rows[P]).find(".field-instance").css("height",c.source.defaultRowHeight-2);c.field.DefaultRowHeight=c.source.defaultRowHeight}}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.Delete:for(var y=i.fields,w=0;w<y.length;w+=1)y[w].html=ee()(y[w].field.htmlObject).prop("outerHTML");Bt.AddNewFields(y),Bt.RedoTraceStack.push(i);break;case Bt.TraceType.TextSource:i.target.propertyType=i.fields[0].PropertyType,i.target.textSource=i.fields[0].TextSource,i.target.text=i.fields[0].Text,i.target.dataField=i.fields[0].DataField,i.fields[0].PropertyType=i.textSource.PropertyType,i.fields[0].TextSource=i.textSource.TextSource,i.fields[0].Text=i.textSource.Text,i.fields[0].DataField=i.textSource.DataField,ri(i.fields[0],"Text"),Bt.RedoTraceStack.push(i);break;case Bt.TraceType.Border:for(var C=0;C<i.fields.length;C+=1)i.target[C].borderSize=i.fields[C].field.Border.BorderSize,i.target[C].borderColor=i.fields[C].field.Border.BorderColor,i.target[C].borderType=i.fields[C].field.Border.BorderType,i.target[C].enable=i.fields[C].field.Border.Enable,i.target[C].borderTop=i.fields[C].field.Border.BorderTop,i.target[C].borderRight=i.fields[C].field.Border.BorderRight,i.target[C].borderBottom=i.fields[C].field.Border.BorderBottom,i.target[C].borderLeft=i.fields[C].field.Border.BorderLeft,i.fields[C].field.Border.BorderSize=i.fields[C].border.BorderSize,i.fields[C].field.Border.BorderColor=i.fields[C].border.BorderColor,i.fields[C].field.Border.BorderType=i.fields[C].border.BorderType,i.fields[C].field.Border.Enable=i.fields[C].border.Enable,i.fields[C].field.Border.BorderTop=i.fields[C].border.BorderTop,i.fields[C].field.Border.BorderRight=i.fields[C].border.BorderRight,i.fields[C].field.Border.BorderBottom=i.fields[C].border.BorderBottom,i.fields[C].field.Border.BorderLeft=i.fields[C].border.BorderLeft,ri(i.fields[C].field,"border");Bt.RedoTraceStack.push(i);break;case Bt.TraceType.Font:for(var T=0;T<i.fields.length;T+=1){if(i.target[T].bold=i.fields[T].field.Font.Bold,i.target[T].fontColor=i.fields[T].field.Font.FontColor,i.target[T].fontSize=i.fields[T].field.Font.FontSize,i.target[T].italic=i.fields[T].field.Font.Italic,i.target[T].underLine=i.fields[T].field.Font.UnderLine,i.fields[T].field.Font.Bold=i.fields[T].font.Bold,i.fields[T].field.Font.FontColor=i.fields[T].font.FontColor,i.fields[T].field.Font.FontSize=i.fields[T].font.FontSize,i.fields[T].field.Font.Italic=i.fields[T].font.Italic,i.fields[T].field.Font.UnderLine=i.fields[T].font.UnderLine,i.fields[T].field.PropertyType===Ae.SubTable||i.fields[T].field.PropertyType===Ae.WorkFlowLog)for(var S=0;S<i.fields[T].field.Properties.length;S+=1){var F=i.fields[T].field.Properties[S];F.Font.Bold=i.fields[T].font.Bold,F.Font.FontColor=i.fields[T].font.FontColor,F.Font.FontSize=i.fields[T].font.FontSize,F.Font.Italic=i.fields[T].font.Italic,F.Font.UnderLine=i.fields[T].font.UnderLine}ri(i.fields[T].field,"font")}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.TextAlign:for(var x=0;x<i.fields.length;x+=1){if(i.target[x].horizontalType=i.fields[x].field.Alignment.HorizontalType,i.target[x].verticalType=i.fields[x].field.Alignment.VerticalType,i.fields[x].field.Alignment.HorizontalType=i.fields[x].textAlign.HorizontalType,i.fields[x].field.Alignment.VerticalType=i.fields[x].textAlign.VerticalType,i.fields[x].field.PropertyType===Ae.SubTable||i.fields[x].field.PropertyType===Ae.WorkFlowLog)for(var D=0;D<i.fields[x].field.Properties.length;D+=1){var k=i.fields[x].field.Properties[D];k.Alignment.HorizontalType=i.fields[x].textAlign.HorizontalType,k.Alignment.VerticalType=i.fields[x].textAlign.VerticalType}ri(i.fields[x].field,"textAlign")}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.TablePx:if(i.target.pageSize=i.fields[0].PageSize,i.target.defaultRowHeight=i.fields[0].DefaultRowHeight,i.target.properties=i.fields[0].Properties,i.fields[0].PageSize=i.tableSource.PageSize,i.fields[0].DefaultRowHeight=i.tableSource.DefaultRowHeight,i.fields[0].Properties=i.tableSource.Properties,i.tableSource.AddDatas){var B=i.fields[0].Properties.length/2-1;i.tableSource.AddDatas.config.ColumnType===Oe&&i.tableSource.AddDatas.config.FieldName===Le&&(B=0);var _={subTable:i.fields[0],index:B};ri(_,"DeleteColumn"),i.tableSource.DeleteDatas={subTable:i.fields[0],field:i.tableSource.AddDatas.config,index:i.tableSource.AddDatas.columnIndex},i.tableSource.AddDatas=null}else if(i.tableSource.DeleteDatas){var A={subTable:i.fields[0],config:{FieldName:i.tableSource.DeleteDatas.field.DataField,DataType:"System.String",FieldDes:i.tableSource.DeleteDatas.field.Text,FieldType:0},columnIndex:i.tableSource.DeleteDatas.index};ri(A,"AddColumn"),i.tableSource.AddDatas={subTable:i.fields[0],config:i.tableSource.DeleteDatas.field,columnIndex:i.tableSource.DeleteDatas.index},i.tableSource.DeleteDatas=null}else if(i.tableSource.DragDatas){var R=i.tableSource.DragDatas.dragDatas,I=R.newIndex,O=R.oldIndex,L=i.tableSource.DragDatas.field.Properties.length/2,z=i.tableSource.DragDatas.field.Properties,H=z.splice(I,1);z.splice(O,0,H[0]);var G=z.splice(I+L,1);z.splice(O+L,0,G[0]);var W={start:I,end:O,subTable:i.tableSource.DragDatas.field,onlyDom:!0};ri(W,"SortTableColumn"),i.target.properties=i.tableSource.DragDatas.field.Properties}else{ri(o,"UpdateRowHeight"),ri(o,"UpdateRows");for(var M=0;M<i.fields[0].Properties.length;M+=1){var E=i.fields[0].Properties[M];ri({column:E},"UpdateColumnTitle")}}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.FillColor:for(var j=0;j<i.fields.length;j+=1){if(i.target[j].fillColor=i.fields[j].field.FillColor,i.fields[j].field.FillColor=i.fields[j].fillColor.FillColor,i.fields[j].field.PropertyType===Ae.SubTable||i.fields[j].field.PropertyType===Ae.WorkFlowLog)for(var N=0;N<i.fields[j].field.Properties.length;N+=1){i.fields[j].field.Properties[N].FillColor=i.fields[j].fillColor.FillColor}ri(i.fields[j].field,"fillColor")}Bt.RedoTraceStack.push(i);break;case Bt.TraceType.QrCode:i.target.qrCodeSource=i.fields[0].QrCodeSource,i.target.qrCodeContentArray=i.fields[0].QrCodeContentArray,i.target.qrCodeContent=i.fields[0].QrCodeContent,i.fields[0].QrCodeSource=i.qrSource.QrCodeSource,i.fields[0].QrCodeContentArray=i.qrSource.QrCodeContentArray,i.fields[0].QrCodeContent=i.qrSource.QrCodeContent,Bt.RedoTraceStack.push(i);break;case Bt.TraceType.BarCode:i.target.barCodeContent=i.fields[0].BarCodeContent,i.target.barCodeSource=i.fields[0].BarCodeSource,i.fields[0].BarCodeContent=i.barSource.BarCodeContent,i.fields[0].BarCodeSource=i.barSource.BarCodeSource,Bt.RedoTraceStack.push(i)}Bt.UndoTraceStack.pop()}},Redo:function(){var e=window.GlobalPrintProperties.Print,t=Bt.RedoTraceStack.length-1;if(t>-1){var i=Bt.RedoTraceStack[t],o={subTable:i.fields[0]};switch(Bt.UndoTraceStack.push(i),i.type){case Bt.TraceType.Content:for(var r=i.fields,a=[],n=0;n<r.length;n+=1)a.push(r[n].field.Code);Bt.AddNewFields(r,a);break;case Bt.TraceType.MoveScaleAction:for(var s=0;s<i.fields.length;s+=1){var l=i.fields[s];ee()(l.field.htmlObject).css({left:i.target[s].x,top:i.target[s].y,width:i.target[s].w,height:i.target[s].h}),l.field.PointX=i.target[s].x,l.field.PointY=i.target[s].y,l.field.Width=i.target[s].w,l.field.Height=i.target[s].h}break;case Bt.TraceType.Position:for(var d=0;d<i.fields.length;d+=1){var c=i.fields[d];ee()(c.field.htmlObject).css({left:i.target[d].x,top:i.target[d].y}),c.field.PointX=i.target[d].x,c.field.PointY=i.target[d].y}break;case Bt.TraceType.Size:for(var h=0;h<i.fields.length;h+=1){var u=i.fields[h];if(u.field.IsInSubTable){ee()(u.field.htmlObject).parent().parent("tr").find(".field-instance").css("height",i.target[h].h);var p=ee()(u.field.htmlObject).parent("td")[0].cellIndex,f="",g="";ee()(u.field.htmlObject).parents(".table").find("tr").find("td").eq(p).css("width",i.target[h].w),void 0!==u.source.pWidth&&(f=ee()(u.field.htmlObject).parent("td").prev()[0].cellIndex,ee()(u.field.htmlObject).parents(".table").find("tr").find("td").eq(f).css("width",i.target[h].pWidth)),void 0!==u.source.nWidth&&(g=ee()(u.field.htmlObject).parent("td").next()[0].cellIndex,ee()(u.field.htmlObject).parents(".table").find("tr").find("td").eq(g).css("width",i.target[h].nWidth)),ee()(u.field.htmlObject).parent().parent("tr").css("height",i.target[h].h+2),ee()(u.field.htmlObject).parents(".field-subtab").css({width:i.target[h].tWidth,height:i.target[h].tHeight,left:i.target[h].x,top:i.target[h].y});var v=ee()(u.field.htmlObject).parents("."+Pe.SubTableField+":first").data(we);v.PointX=i.target[h].x,v.PointY=i.target[h].y,v.Width=i.target[h].tWidth;var m=v.Properties.length/2;if(v.Properties[p].Width=i.target[h].w,v.Properties[p+m].Width=i.target[h].w,!!ee()(u.field.htmlObject).parents("thead").length){for(var b=0;b<m;b+=1)v.Properties[b].Height=i.target[h].h;v.HeaderHeight=i.target[h].headerHeight}else{for(var P=m;P<v.Properties.length;P+=1)v.Properties[P].Height=i.target[h].h;v.DefaultRowHeight=i.target[h].defaultRowHeight}""===!g&&(v.Properties[g].Width=i.target[h].nWidth,v.Properties[g+m].Width=i.target[h].nWidth),""===!f&&(v.Properties[f].Width=i.target[h].pWidth,v.Properties[f+m].Width=i.target[h].pWidth)}else{var y=i.fields[h];if(ee()(y.field.htmlObject).css({left:i.target[h].x,top:i.target[h].y,width:i.target[h].w,height:i.target[h].h}),y.field.PointX=i.target[h].x,y.field.PointY=i.target[h].y,y.field.Width=i.target[h].w,y.field.Height=i.target[h].h,y.field.PropertyType!==Ae.QrCode&&y.field.PropertyType!==Ae.BarCode||(y.field.Width>y.field.Height?ee()(y.field.htmlObject).find(".icon").css("font-size",y.field.Height):ee()(y.field.htmlObject).find(".icon").css("font-size",y.field.Width)),y.source.defaultRowHeight&&""!==y.source.defaultRowHeight){for(var w=ee()(y.field.htmlObject).find("table tbody")[0],C=0;C<w.rows.length;C+=1)ee()(w.rows[C]).css("height",i.target[h].defaultRowHeight),ee()(w.rows[C]).find(".field-instance").css("height",i.target[h].defaultRowHeight-2);y.field.DefaultRowHeight=i.target[h].defaultRowHeight}}}break;case Bt.TraceType.Delete:for(var T=0;T<i.fields.length;T+=1)i.fields[T].html=ee()(i.fields[T].field.htmlObject).prop("outerHTML"),ee()(i.fields[T].field.htmlObject).hasClass(Pe.FieldSelected)&&e.removeSelectedField(i.fields[T].field.Id),e.removeField(i.fields[T].field.Id);0===e.selectedFields.length&&window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(!1);break;case Bt.TraceType.TextSource:i.fields[0].PropertyType=i.target.propertyType,i.fields[0].TextSource=i.target.textSource,i.fields[0].Text=i.target.text,i.fields[0].DataField=i.target.dataField,ri(i.fields[0],"Text");break;case Bt.TraceType.Border:for(var S=0;S<i.fields.length;S+=1)i.fields[S].field.Border.BorderSize=i.target[S].borderSize,i.fields[S].field.Border.BorderColor=i.target[S].borderColor,i.fields[S].field.Border.BorderType=i.target[S].borderType,i.fields[S].field.Border.Enable=i.target[S].enable,i.fields[S].field.Border.BorderTop=i.target[S].borderTop,i.fields[S].field.Border.BorderRight=i.target[S].borderRight,i.fields[S].field.Border.BorderBottom=i.target[S].borderBottom,i.fields[S].field.Border.BorderLeft=i.target[S].borderLeft,ri(i.fields[S].field,"border");break;case Bt.TraceType.Font:for(var F=0;F<i.fields.length;F+=1){if(i.fields[F].field.Font.Bold=i.target[F].bold,i.fields[F].field.Font.FontColor=i.target[F].fontColor,i.fields[F].field.Font.FontSize=i.target[F].fontSize,i.fields[F].field.Font.Italic=i.target[F].italic,i.fields[F].field.Font.UnderLine=i.target[F].underLine,i.fields[F].field.PropertyType===Ae.SubTable||i.fields[F].field.PropertyType===Ae.WorkFlowLog)for(var x=0;x<i.fields[F].field.Properties.length;x+=1){var D=i.fields[F].field.Properties[x];D.Font.Bold=i.target[F].bold,D.Font.FontColor=i.target[F].fontColor,D.Font.FontSize=i.target[F].fontSize,D.Font.Italic=i.target[F].italic,D.Font.UnderLine=i.target[F].underLine}ri(i.fields[F].field,"font")}break;case Bt.TraceType.TextAlign:for(var k=0;k<i.fields.length;k+=1){if(i.fields[k].field.Alignment.HorizontalType=i.target[k].horizontalType,i.fields[k].field.Alignment.VerticalType=i.target[k].verticalType,i.fields[k].field.PropertyType===Ae.SubTable||i.fields[k].field.PropertyType===Ae.WorkFlowLog)for(var B=0;B<i.fields[k].field.Properties.length;B+=1){var _=i.fields[k].field.Properties[B];_.Alignment.HorizontalType=i.target[k].horizontalType,_.Alignment.VerticalType=i.target[k].verticalType}ri(i.fields[k].field,"textAlign")}break;case Bt.TraceType.TablePx:if(i.fields[0].PageSize=i.target.pageSize,i.fields[0].DefaultRowHeight=i.target.defaultRowHeight,i.fields[0].Properties=i.target.properties,i.tableSource.AddDatas){var A=i.tableSource.AddDatas.columnIndex;i.tableSource.AddDatas.config.ColumnType===Oe&&i.tableSource.AddDatas.config.FieldName===Le&&(A=0);var R={subTable:i.fields[0],index:A};ri(R,"DeleteColumn"),i.tableSource.DeleteDatas={subTable:i.fields[0],field:i.tableSource.AddDatas.config,index:i.tableSource.AddDatas.columnIndex},i.tableSource.AddDatas=null}else if(i.tableSource.DeleteDatas){var I=i.tableSource.DeleteDatas.index;i.tableSource.DeleteDatas.field.ColumnType===Oe&&i.tableSource.DeleteDatas.field.FieldName===Le&&(I=0);var O={subTable:i.fields[0],config:{FieldName:i.tableSource.DeleteDatas.field.DataField||i.tableSource.DeleteDatas.field.FieldName,DataType:"System.String",FieldDes:i.tableSource.DeleteDatas.field.Text||i.tableSource.DeleteDatas.field.FieldDes,FieldType:0},columnIndex:I};ri(O,"AddColumn"),i.tableSource.AddDatas={subTable:i.fields[0],config:i.tableSource.DeleteDatas.field,columnIndex:i.tableSource.DeleteDatas.index},i.tableSource.DeleteDatas=null}else if(i.tableSource.DragDatas){var L=i.tableSource.DragDatas.dragDatas,z=L.newIndex,H=L.oldIndex,G=i.tableSource.DragDatas.field.Properties.length/2,W=i.tableSource.DragDatas.field.Properties,M=W.splice(z,1);W.splice(H,0,M[0]);var E=W.splice(z+G,1);W.splice(H+G,0,E[0]);var j={start:z,end:H,subTable:i.tableSource.DragDatas.field,onlyDom:!0};ri(j,"SortTableColumn")}else{ri(o,"UpdateRowHeight"),ri(o,"UpdateRows");for(var N=0;N<i.fields[0].Properties.length;N+=1){var U=i.fields[0].Properties[N];ri({column:U},"UpdateColumnTitle")}}break;case Bt.TraceType.FillColor:for(var V=0;V<i.fields.length;V+=1){if(i.fields[V].field.FillColor=i.target[V].fillColor,i.fields[V].field.PropertyType===Ae.SubTable||i.fields[V].field.PropertyType===Ae.WorkFlowLog)for(var Y=0;Y<i.fields[V].field.Properties.length;Y+=1){i.fields[V].field.Properties[Y].FillColor=i.target[V].fillColor}ri(i.fields[V].field,"fillColor")}break;case Bt.TraceType.QrCode:i.fields[0].QrCodeSource=i.target.qrCodeSource,i.fields[0].QrCodeContentArray=i.target.qrCodeContentArray,i.fields[0].QrCodeContent=i.target.qrCodeContent;break;case Bt.TraceType.BarCode:i.fields[0].BarCodeContent=i.target.barCodeContent,i.fields[0].BarCodeSource=i.target.barCodeSource}Bt.RedoTraceStack.pop()}},AddTrace:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;var o={type:e,target:[],html:"",fields:[]};if(t&&t.length)for(var r=0;r<t.length;r+=1)if(i&&i.length){var a={field:t[r],source:i[r]},n={field:t[r],x:"",y:"",w:"",h:"",defaultRowHeight:"",headerHeight:"",nWidth:"",pWidth:"",tWidth:"",tHeight:""};o.fields.push(a),o.target.push(n)}else{var s={html:"",field:t[r]};o.fields.push(s)}Bt.UndoTraceStack.push(o)},AddTraceTextSource:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;var o={type:e,target:{propertyType:i.PropertyType,textSource:i.TextSource,text:i.Text,dataField:i.DataField},fields:t,textSource:i};Bt.UndoTraceStack.push(o)},AddTraceBorder:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;for(var o={type:e,target:[],fields:[]},r=0;r<t.length;r+=1){var a={field:t[r],border:i[r]},n={borderSize:i[r].BorderSize,borderColor:i[r].BorderColor,borderType:i[r].BorderType,enable:i[r].Enable,borderTop:i[r].BorderTop,borderRight:i[r].BorderRight,borderBottom:i[r].BorderBottom,borderLeft:i[r].BorderLeft};o.fields.push(a),o.target.push(n)}Bt.UndoTraceStack.push(o)},AddTraceFont:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;for(var o={type:e,target:[],fields:[]},r=0;r<t.length;r+=1){var a={field:t[r],font:i[r]},n={bold:i[r].Bold,fontColor:i[r].FontColor,fontSize:i[r].FontSize,italic:i[r].Italic,underLine:i[r].UnderLine};o.fields.push(a),o.target.push(n)}Bt.UndoTraceStack.push(o)},AddTraceTextAlign:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;for(var o={type:e,target:[],fields:[]},r=0;r<t.length;r+=1){var a={field:t[r],textAlign:i[r]},n={horizontalType:i[r].HorizontalType,verticalType:i[r].VerticalType};o.fields.push(a),o.target.push(n)}Bt.UndoTraceStack.push(o)},AddTraceFillColor:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;for(var o={type:e,target:[],fields:[]},r=0;r<t.length;r+=1){var a={field:t[r],fillColor:i[r]},n={fillColor:i[r].FillColor};o.fields.push(a),o.target.push(n)}Bt.UndoTraceStack.push(o)},AddTraceTablePx:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;var o={type:e,target:{pageSize:i.PageSize,defaultRowHeight:i.DefaultRowHeight,properties:i.Properties,addDatas:i.AddDatas,deleteDatas:i.DeleteDatas},fields:t,tableSource:i};Bt.UndoTraceStack.push(o)},AddTraceQrSource:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;var o={type:e,target:{qrCodeSource:i.QrCodeSource,qrCodeContentArray:i.QrCodeContentArray,qrCodeContent:i.QrCodeContent},fields:t,qrSource:i};Bt.UndoTraceStack.push(o)},AddTraceBarSource:function(e,t,i){window.GlobalPrintProperties.VueInstance.isUndoDisabled=!1,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0;var o={type:e,target:{barCodeContent:i.BarCodeContent,barCodeSource:i.BarCodeSource},fields:t,barSource:i};Bt.UndoTraceStack.push(o)},CopyFields:function(){Bt.CopyTraceStack=[],Bt.PasteTraceStack=[];var e=window.GlobalPrintProperties.Print,t=pe()({},e.selectedFields);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=[];if(t[i].PropertyType===Ae.WorkFlowLog||t[i].PropertyType===Ae.SubTable)for(var r=0;r<t[i].Properties.length;r+=1)o.push(ee()(t[i].Properties[r].htmlObject).prop("outerHTML"));var a={field:t[i],html:ee()(t[i].htmlObject).prop("outerHTML"),childHtml:o.length>0?o:""};Bt.CopyTraceStack.push(a)}},PasteFields:function(){var e=Bt.CopyTraceStack,t=window.GlobalPrintProperties.Print;if(0!==e.length){for(var i=0;i<t.fields.length;i+=1)t.fields[i].Unselect();for(var o=[],r={},a=0;a<e.length;a+=1){var n=ee()(e[a].html),s=pe()({},e[a].field,{Code:""});s.dockLine=pe()({},{},e[a].field.dockLine),s.PointX+=Be*(Bt.PasteTraceStack.length+1),s.PointY+=Be*Bt.PasteTraceStack.length,s.PointX+s.Width>Te.ContentEdgeRight&&(s.PointX-=Be*Bt.PasteTraceStack.length),n.css({left:s.PointX,top:s.PointY}),s.isSelected=!1,ee()(t.workspace).append(n);var l=t.addField(n,s);if(r[e[a].field.Code]=l.Code,l.PropertyType===Ae.WorkFlowLog||l.PropertyType===Ae.SubTable){var d=e[a].field.Properties,c=ee()(l.htmlObject).find("tr>td");if(l.Properties=[],c&&c.length)for(var h=0;h<c.length;h+=1){var u=ee()(e[a].childHtml[h]),p=pe()({},d[h],{Code:""});p.isSelected=!1,c.eq(h).html(u),l.Properties.push(t.addField(u,p))}}o.push(l)}for(var f=0;f<o.length;f+=1)o[f].PairFieldCode&&(o[f].PairFieldCode=r[o[f].PairFieldCode]),ee()(o[f].htmlObject).hasClass(Pe.FieldSelected)&&o[f].Select();window.GlobalPrintProperties.VueInstance.changeDeleteState(!0),1===o.length?window.GlobalPrintProperties.PrintProperty.DisplayProperties(o[0]):o.length>1&&window.GlobalPrintProperties.PrintProperty.DisplayProperties(o),Bt.AddTrace(Bt.TraceType.Content,o),Bt.PasteTraceStack.push(o)}},MoveToLeft:function(){this.checkArrorKeyEvent("left",Te.ContentEdgeLeft)},MoveToTop:function(){this.checkArrorKeyEvent("up",Te.ContentEdgeTop)},MoveToRight:function(){this.checkArrorKeyEvent("right",Te.ContentEdgeRight)},MoveToBottom:function(){this.checkArrorKeyEvent("down",Te.ContentEdgeBottom)},moveTrack:function(e){var t=[],i=[];ee()(e).each(function(){t.push(this);var e={x:this.PointX,y:this.PointY};i.push(e)}),Bt.AddTrace(Bt.TraceType.Position,t,i)},MoveCheck:function(e){for(var t=wt(e),i=Ct(e,t,function(t){var i={};return i.top=parseInt(ee()(e[t].htmlObject).css("top"),10),i.height=e[t].Height,i},function(t,i){ee()(e[t].htmlObject).css("top",i.top),ee()(e[t].htmlObject).css("height",i.height)}),o=0;o<e.length;){var r=e[o];i?(r.Height=parseInt(ee()(r.htmlObject).css("height"),10),r.PointY=parseInt(ee()(r.htmlObject).css("top"),10),r.PointX=parseInt(ee()(r.htmlObject).css("left"),10)):(ee()(r.htmlObject).css("height",r.Height),ee()(r.htmlObject).css("top",r.PointY),ee()(r.htmlObject).css("left",r.PointX)),ee()(r.htmlObject).hasClass("field-selected")?o+=1:(r.isSelected=!1,e.splice(o,1))}},checkArrorKeyEvent:function(e,t){var i=window.GlobalPrintProperties.Print.selectedFields,o=Ze,r=!1;"up"!==e&&"left"!==e||(o=-o);for(var a=0;a<i.length;a+=1){var n=i[a],s=parseInt(ee()(n.htmlObject).css("height"),10),l=parseInt(ee()(n.htmlObject).css("top"),10),d=parseInt(ee()(n.htmlObject).css("width"),10),c=parseInt(ee()(n.htmlObject).css("left"),10);switch(e){case"up":r=l<=t;break;case"left":r=c<=t;break;case"right":r=c+d>=t;break;case"down":r=l+s>=t}if(r)break}r||(Bt.moveTrack(i),ee()(i).each(function(){switch(e){case"up":case"down":var t=parseInt(this.htmlObject.css("top"),10);t+=o,ee()(this.htmlObject).css("top",t);break;case"left":case"right":var i=parseInt(this.htmlObject.css("left"),10);i+=o,ee()(this.htmlObject).css("left",i)}}))}},_t=function(e,t){return this.Id=null,this.PointX=0,this.PointY=0,this.Width=0,this.Height=0,this.Font={FontSize:12,FontColor:"#333",UnderLine:!1,Italic:!1,Bold:!1},this.Border={Enable:!0,BorderType:1,BorderColor:"",BorderSize:0,BorderTop:!0,BorderRight:!0,BorderBottom:!0,BorderLeft:!0},this.Alignment={HorizontalType:1,VerticalType:1},this.FillColor="",this.Code=void 0,this.PropertyType=void 0,this.htmlObject=null,this.isSelected=!1,this.isEditing=!1,this.isInit=!1,this.dockLine={LeftPointX:0,RightPointX:0,TopPointY:0,BottomPointY:0},pe()(this,t),this.init(e),this};_t.prototype={init:function(e){var t=this;if(this.htmlObject=ee()(e),this.Code?(this.Id=+this.Code.split("Field")[1],this.Id>window.GlobalPrintProperties.FieldCount&&(window.GlobalPrintProperties.FieldCount=this.Id)):(window.GlobalPrintProperties.FieldCount+=1,this.Code="Field"+window.GlobalPrintProperties.FieldCount,this.Id=window.GlobalPrintProperties.FieldCount),ee()(this.htmlObject).hasClass(Pe.Field)||ee()(this.htmlObject).addClass(Pe.Field),this.savePosition(),0===ee()(this.htmlObject).find("."+Pe.Resize).length){var i=ee()("<div class='"+Pe.Resize+"'></div>"),o=i.clone().addClass(Pe.ResizeUp),r=i.clone().addClass(Pe.ResizeDown),a=i.clone().addClass(Pe.ResizeLeft),n=i.clone().addClass(Pe.ResizeRight),s=i.clone().addClass(Pe.ResizeTopLeft),l=i.clone().addClass(Pe.ResizeTopRight),d=i.clone().addClass(Pe.ResizeBottomLeft),c=i.clone().addClass(Pe.ResizeBottomRight);ee()(this.htmlObject).append(o).append(r).append(a).append(n).append(s).append(l).append(d).append(c)}return setTimeout(function(){t.isInit=!0},100),ee()(this.htmlObject).data(we,this),this},savePosition:function(){var e=ee()(this.htmlObject).position();e&&(this.PointX=Math.round(e.left),this.PointY=Math.round(e.top),this.Height=Math.round(ee()(this.htmlObject).outerHeight()),this.Width=Math.round(ee()(this.htmlObject).outerWidth()),this.PropertyType===Ae.Line?this.Direction===Je.Horizontal.value?this.Height=1:this.Width=1:this.isInit||ee()(this.htmlObject).hasClass("field-subtab")&&92===this.Height&&(this.Height=91))},doDown:function(e,t){if(e){e.preventDefault(),ee()("input").blur();var i=t?ft(t):null,o=void 0;if(o=ee()(e.target).hasClass(Pe.Field)?ee()(e.target):ee()(e.target).parents("."+Pe.Field+":first")){var r=o.data(we);if(r){var a=!r.IsInSubTable;ee()(e.target).hasClass(Pe.Resize)&&(a=!1);var n=o.parents(".workspace").attr("id"),s=!1,l=!1;if(e.shiftKey&&(s=!0),!s||!window.GlobalPrintProperties.Print.selectedFields.length||window.GlobalPrintProperties.Print.id===n){if(!s){if(this.isSelected)this.SwitchToFirst(),l=!0;else{this.Select(!0);for(var d=window.GlobalPrintProperties.Print.fields,c=0;c<d.length;c+=1)d[c].Border.BorderSize<1?ee()(d[c].htmlObject).css({borderColor:"#e1e1e1"}):d[c].Border.BorderSize>0&&0===d[c].Border.BorderType&&ee()(d[c].htmlObject).css({borderColor:"#e1e1e1"}),"no-border-color"===d[c].Border.BorderColor&&ee()(d[c].htmlObject).css({borderColor:"#e1e1e1"}),d[c].Border.BorderTop||ee()(d[c].htmlObject).css({borderTopColor:"#e1e1e1"}),d[c].Border.BorderRight||ee()(d[c].htmlObject).css({borderRightColor:"#e1e1e1"}),d[c].Border.BorderBottom||ee()(d[c].htmlObject).css({borderBottomColor:"#e1e1e1"}),d[c].Border.BorderLeft||ee()(d[c].htmlObject).css({borderLeftColor:"#e1e1e1"});this.Border.BorderSize<1?ee()(this.htmlObject).css({borderColor:"#e9c109"}):this.Border.BorderSize>0&&0===this.Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),"no-border-color"===this.Border.BorderColor&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),this.Border.BorderTop||ee()(this.htmlObject).css({borderTopColor:"#e9c109"}),this.Border.BorderRight||ee()(this.htmlObject).css({borderRightColor:"#e9c109"}),this.Border.BorderBottom||ee()(this.htmlObject).css({borderBottomColor:"#e9c109"}),this.Border.BorderLeft||ee()(this.htmlObject).css({borderLeftColor:"#e9c109"})}1===window.GlobalPrintProperties.Print.selectedFields.length&&window.GlobalPrintProperties.PrintProperty.DisplayProperties(window.GlobalPrintProperties.Print.selectedFields[0])}if(a)if(r.isInit){kt.DraggingFields=[],kt.DraggingProxy=[],kt.CreateDragProxy(r),i&&kt.CreateDragProxy(i),r.isSelected||e.shiftKey?ee()(window.GlobalPrintProperties.Print.selectedFields).each(function(){if(this.Id!==r.Id&&ee()(this.htmlObject).hasClass(Pe.FieldSelected)&&(kt.CreateDragProxy(this),this.PairFieldCode)){var e=ft(this.PairFieldCode);e&&kt.CreateDragProxy(e)}}):ee()(window.GlobalPrintProperties.Print.selectedFields).each(function(){this.Id!==r.Id&&this.Unselect()}),kt.DragStartPoint={x:e.pageX,y:e.pageY},kt.PreDragPoint={x:e.pageX,y:e.pageY},window.GlobalPrintProperties.Print.onFieldsMovingStart();var h=[],u=!1;if(!u&&!e.shiftKey){for(var p=window.GlobalPrintProperties.Print.fields,f=0;f<p.length;f+=1)p[f].Border.BorderSize<1?ee()(p[f].htmlObject).css({borderColor:"#e1e1e1"}):p[f].Border.BorderSize>0&&0===p[f].Border.BorderType&&ee()(p[f].htmlObject).css({borderColor:"#e1e1e1"}),"no-border-color"===p[f].Border.BorderColor&&ee()(p[f].htmlObject).css({borderColor:"#e1e1e1"}),p[f].Border.BorderTop||ee()(p[f].htmlObject).css({borderTopColor:"#e1e1e1"}),p[f].Border.BorderRight||ee()(p[f].htmlObject).css({borderRightColor:"#e1e1e1"}),p[f].Border.BorderBottom||ee()(p[f].htmlObject).css({borderBottomColor:"#e1e1e1"}),p[f].Border.BorderLeft||ee()(p[f].htmlObject).css({borderLeftColor:"#e1e1e1"});this.Border.BorderSize<1?ee()(this.htmlObject).css({borderColor:"#e9c109"}):this.Border.BorderSize>0&&0===this.Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),"no-border-color"===this.Border.BorderColor&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),this.Border.BorderTop||ee()(this.htmlObject).css({borderTopColor:"#e9c109"}),this.Border.BorderRight||ee()(this.htmlObject).css({borderRightColor:"#e9c109"}),this.Border.BorderBottom||ee()(this.htmlObject).css({borderBottomColor:"#e9c109"}),this.Border.BorderLeft||ee()(this.htmlObject).css({borderLeftColor:"#e9c109"})}ee()(document).unbind(xt).bind("mousemove"+xt,function(e){if(!kt.IsDragging){kt.IsDragging=!0,Te.AdsorbX=!1,Te.AdsorbY=!1,window.GlobalPrintProperties.Print.setMultiActionFlag(Ve.FieldDragMove);var t=1e4,i=0,o=0,r=1e4;ee()(kt.DraggingProxy).each(function(){ee()(this).show(),this.PointY<t&&(t=this.PointY);var e=this.PointX+this.outerWidth();e>i&&(i=e);var a=this.PointY+this.outerHeight();a>o&&(o=a),this.PointX<r&&(r=this.PointX)}),kt.DragStartFieldPoint=[t,i,o,r],kt.ProxyPosition=[t,i,o,r],ee()(window.GlobalPrintProperties.Print.fields).each(function(){this.UpdateDockLinePosition(),h.push(this.dockLine.TopPointY),h.push(this.dockLine.RightPointX),h.push(this.dockLine.BottomPointY),h.push(this.dockLine.LeftPointX)}),kt.ReferencePosition=h}var a,n,s,l,d,c,p,f=(n=(a=e).pageX-kt.DragStartPoint.x,s=a.pageY-kt.DragStartPoint.y,l=kt.DragStartFieldPoint[0]+s,d=kt.DragStartFieldPoint[1]+n,c=kt.DragStartFieldPoint[2]+s,p=kt.DragStartFieldPoint[3]+n,c>Te.ContentEdgeBottom&&(l+=Te.ContentEdgeBottom-c,c=Te.ContentEdgeBottom),l<Te.ContentEdgeTop&&(c+=Te.ContentEdgeTop-l,l=Te.ContentEdgeTop),d>Te.ContentEdgeRight&&(p+=Te.ContentEdgeRight-d,d=Te.ContentEdgeRight),p<Te.ContentEdgeLeft&&(d+=Te.ContentEdgeLeft-p,p=Te.ContentEdgeLeft),{_moveX:p-kt.ProxyPosition[3],_moveY:l-kt.ProxyPosition[0]}),g=f._moveX,v=f._moveY;return Te.AdsorbY&&Math.abs(v)<Te.OutAdsorb&&kt.ProxyPosition[0]>Te.ContentEdgeTop+Te.OutAdsorb&&kt.ProxyPosition[2]<Te.ContentEdgeBottom-Te.OutAdsorb&&(v=0),Te.AdsorbX&&Math.abs(g)<Te.OutAdsorb&&kt.ProxyPosition[3]>Te.ContentEdgeLeft+Te.OutAdsorb&&kt.ProxyPosition[1]<Te.ContentEdgeRight-Te.OutAdsorb&&(g=0),(0!==g||0!==v)&&(u=!0,window.GlobalPrintProperties.Print.CalculateFieldDock(g,v),ee()(kt.DraggingProxy).each(function(){this.PointX+=g,this.PointY+=v}),kt.PreDragPoint.x+=g,kt.PreDragPoint.y+=v,ee()(kt.DraggingProxy).each(function(){this.css("left",Math.round(this.PointX)),this.css("top",Math.round(this.PointY))}),window.GlobalPrintProperties.Print.onFieldsMoving(),!0)}),ee()(document).one("mouseup"+xt,function(){window.GlobalPrintProperties.Print.setMultiActionFlag(Ve.None),ee()(window.GlobalPrintProperties.Print.workspace).find("."+Ee.TaoDaDockLine).hide();var t={x:kt.DraggingProxy[0].PointX-kt.DraggingFields[0].PointX,y:kt.DraggingProxy[0].PointY-kt.DraggingFields[0].PointY};if(0!==t.x||0!==t.y){var i=[],o=[];ee()(kt.DraggingFields).each(function(){i.push(this);var e={x:this.PointX,y:this.PointY};o.push(e),this.isSelected&&(this.Border.BorderSize<1?ee()(this.htmlObject).css({borderColor:"#e9c109"}):this.Border.BorderSize>0&&0===this.Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),"no-border-color"===this.Border.BorderColor&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),this.Border.BorderTop||ee()(this.htmlObject).css({borderTopColor:"#e9c109"}),this.Border.BorderRight||ee()(this.htmlObject).css({borderRightColor:"#e9c109"}),this.Border.BorderBottom||ee()(this.htmlObject).css({borderBottomColor:"#e9c109"}),this.Border.BorderLeft||ee()(this.htmlObject).css({borderLeftColor:"#e9c109"}))}),Bt.AddTrace(Bt.TraceType.Position,i,o)}if(setTimeout(function(){var e=window.GlobalPrintProperties.Print.selectedFields;e.length>1?window.GlobalPrintProperties.PrintProperty.DisplayProperties(e):1===e.length?window.GlobalPrintProperties.PrintProperty.DisplayProperties(e[0]):window.GlobalPrintProperties.PrintProperty.DisplayProperties()},50),kt.DraggingProxy&&kt.DraggingFields&&kt.DraggingProxy.length===kt.DraggingFields.length&&(0!==t.x||0!==t.y)){var a=wt(kt.DraggingFields);Ct(kt.DraggingFields,a,function(e){var t={};return t.top=kt.DraggingProxy[e].PointY,t.height=Number(kt.DraggingFields[e].Height),t},function(e,t){kt.DraggingProxy[e].PointY=t.top,kt.DraggingProxy[e].Height=t.height})?(ee()(kt.DraggingFields).each(function(e,t){console.log(t.isSelected);var i=Math.round(kt.DraggingProxy[e].PointX),o=Math.round(kt.DraggingProxy[e].PointY);ee()(this.htmlObject).css({left:i,top:o}),kt.DraggingProxy[e].Height&&ee()(this.htmlObject).css("height",kt.DraggingProxy[e].Height),kt.DraggingProxy[e].remove()}),kt.IsDragging&&window.GlobalPrintProperties.Print.saveFieldPositions(kt.DraggingFields,t)):ee()(kt.DraggingFields).each(function(e){kt.DraggingProxy[e].remove()})}else ee()(kt.DraggingFields).each(function(e){kt.DraggingProxy[e].remove()});if(kt.IsDragging)window.GlobalPrintProperties.Print.onFieldsMovingEnd(),kt.DraggingFields[0]&&kt.DraggingFields[0].Select();else{if(kt.DraggingFields[0])if(e.shiftKey)if(kt.DraggingFields[0].isSelected)kt.DraggingFields[0].Unselect(),kt.DraggingFields[0].Border.BorderSize<1?ee()(kt.DraggingFields[0].htmlObject).css({borderColor:"#e1e1e1"}):kt.DraggingFields[0].Border.BorderSize>0&&0===kt.DraggingFields[0].Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e1e1e1"}),"no-border-color"===kt.DraggingFields[0].Border.BorderColor&&ee()(kt.DraggingFields[0].htmlObject).css({borderColor:"#e1e1e1"}),kt.DraggingFields[0].Border.BorderTop||ee()(kt.DraggingFields[0].htmlObject).css({borderTopColor:"#e1e1e1"}),kt.DraggingFields[0].Border.BorderRight||ee()(kt.DraggingFields[0].htmlObject).css({borderRightColor:"#e1e1e1"}),kt.DraggingFields[0].Border.BorderBottom||ee()(kt.DraggingFields[0].htmlObject).css({borderBottomColor:"#e1e1e1"}),kt.DraggingFields[0].Border.BorderLeft||ee()(kt.DraggingFields[0].htmlObject).css({borderLeftColor:"#e1e1e1"});else{for(var n=window.GlobalPrintProperties.Print.selectedFields,s=0;s<n.length;s+=1)n[s].IsInSubTable&&n[s].Unselect();kt.DraggingFields[0].Select(),kt.DraggingFields[0].Border.BorderSize<1?ee()(kt.DraggingFields[0].htmlObject).css({borderColor:"#e9c109"}):kt.DraggingFields[0].Border.BorderSize>0&&0===kt.DraggingFields[0].Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),"no-border-color"===kt.DraggingFields[0].Border.BorderColor&&ee()(kt.DraggingFields[0].htmlObject).css({borderColor:"#e9c109"}),kt.DraggingFields[0].Border.BorderTop||ee()(kt.DraggingFields[0].htmlObject).css({borderTopColor:"#e9c109"}),kt.DraggingFields[0].Border.BorderRight||ee()(kt.DraggingFields[0].htmlObject).css({borderRightColor:"#e9c109"}),kt.DraggingFields[0].Border.BorderBottom||ee()(kt.DraggingFields[0].htmlObject).css({borderBottomColor:"#e9c109"}),kt.DraggingFields[0].Border.BorderLeft||ee()(kt.DraggingFields[0].htmlObject).css({borderLeftColor:"#e9c109"})}else kt.DraggingFields[0].Select();l&&r.Select(!0)}kt.IsDragging=!1,ee()(document).unbind(xt)})}else r.isInit=!0;else if(r.IsInSubTable){var g=ee()(e.target).parents("."+Pe.SubTableField+":first").data(we);kt.DragStartPoint={x:e.pageX,y:e.pageY},kt.PreDragPoint={x:e.pageX,y:e.pageY};var v=g.PointX,m=g.Width;if(window.GlobalPrintProperties.Print.onFieldsMovingStart(),ee()(e.target).hasClass(Pe.Resize)){Dt.CurrentField=r,Dt.CurrentResizer=ee()(e.target);var b=void 0,P=void 0,y=void 0,w=ht(g),C=dt(g)-g.Height+g.HeaderHeight;b||(b=ee()(r.htmlObject).parent(),P=b.prev(),y=b.next());var T=[],S=[],F={width:Dt.CurrentField.Width,height:Dt.CurrentField.Height,x:g.PointX,y:g.PointY,tWidth:g.Width,tHeight:g.Height,defaultRowHeight:g.DefaultRowHeight,headerHeight:g.HeaderHeight,pWidth:P.outerWidth(),nWidth:y.outerWidth()};T.push(F),S.push(Dt.CurrentField),Bt.AddTrace(Bt.TraceType.Size,S,T);ee()(document).unbind(xt).bind("mousemove"+xt,function(e){kt.IsDragging||(kt.IsDragging=!0);var t=e.pageX-kt.PreDragPoint.x,i=e.pageY-kt.PreDragPoint.y;kt.PreDragPoint={x:e.pageX,y:e.pageY},t=Math.round(t),i=Math.round(i);var o=ee()(Dt.CurrentResizer).attr("class"),r=!!b.parents("thead").length;if(o.indexOf(Pe.ResizeUp)>-1)if(r){var a=g.PointY+i;a<Te.ContentEdgeTop&&(i+=Te.ContentEdgeTop-a);var n=Math.round(b.outerHeight()-i);n>6&&(Dt.CurrentField.Height=n,g.HeaderHeight=n,g.PointY+=i,ee()(b).parent().css("height",n),ee()(g.Properties).each(function(){this.TextSource===Xe.FixedText&&(this.Height=n-2,ee()(this.htmlObject).css("height",n-2))}),g.Height=ee()(g.htmlObject).find("table").height()+30,ee()(g.htmlObject).css({top:g.PointY,height:g.Height}),ri({subTable:g},"UpdateRowHeight"))}else{var s=g.PointY+i;if(s<Te.ContentEdgeTop&&(i+=Te.ContentEdgeTop-s),0===i)return;var l=g.DefaultRowHeight;if(l<=6&&i>0)return;(l=Math.round(l-i))<6&&(l=6),l>w&&(l=w),g.DefaultRowHeight=l,g.PointY+=i,g.Height=ee()(g.htmlObject).find("table").height()+(window.GlobalPrintProperties.pageSettings.PrintDocType?0:30),ee()(g.htmlObject).css({top:g.PointY,height:g.Height}),ri({subTable:g},"UpdateRowHeight")}else if(o.indexOf(Pe.ResizeDown)>-1)if(r){var d=Math.round(b.outerHeight()+i);d>6&&(d>C&&(d=C),g.HeaderHeight=d,ri({subTable:g},"UpdateHeaderHeight"))}else{var c=g.DefaultRowHeight;if(c<=6&&i<0)return;(c=Math.round(c+i))<6&&(c=6),c>w&&(c=w),g.DefaultRowHeight=c,ri({subTable:g},"UpdateRowHeight")}else if(o.indexOf(Pe.ResizeLeft)>-1){var h=Math.round(b.outerWidth()-t);if(0===P.length){m-=t,(v+=t)<Te.ContentEdgeLeft?(m-=Te.ContentEdgeLeft-v,v=Te.ContentEdgeLeft):v+m>Te.ContentEdgeRight&&(m-=v+m-Te.ContentEdgeRight);var u=b[0].cellIndex;ee()(g.htmlObject).css("left",v).outerWidth(m);var p=b.parents(".table").find("tr").find("td").eq(u);if(p.length>0){var f=ee()(p[0]);f.css("width",h),f.find(".field-in-subtab").css("width",h)}g.Width=m,g.PointX=v;var T=g.Properties.length/2;g.Properties[u].Width=h,g.Properties[u+T].Width=h}else{if(h<=20&&t>0)return;var S=P.outerWidth();if(S<=20&&t<0)return;S=Math.round(S+t),h<20?S-=20-(h=20):S<20&&(h-=20-S,S=20);var F=b[0].cellIndex,x=P[0].cellIndex,D=b.parents(".table").find("tr").find("td").eq(F);if(D.length>0){var k=ee()(D[0]);k.css("width",h),k.find(".field-in-subtab").css("width",h)}var B=b.parents(".table").find("tr").find("td").eq(x);if(B.length>0){var _=ee()(B[0]);_.css("width",S),_.find(".field-in-subtab").css("width",S)}var A=g.Properties.length/2;g.Properties[F].Width=h,g.Properties[x].Width=S,g.Properties[F+A].Width=h,g.Properties[x+A].Width=S}}else if(o.indexOf(Pe.ResizeRight)>-1){var R=Math.round(b.outerWidth()+t);if(0===y.length){m+=t,v<Te.ContentEdgeLeft?(m-=Te.ContentEdgeLeft-v,v=Te.ContentEdgeLeft):v+m>Te.ContentEdgeRight&&(m-=v+m-Te.ContentEdgeRight);var I=b[0].cellIndex;ee()(g.htmlObject).outerWidth(m);var O=b.parents(".table").find("tr").find("td").eq(I);if(O.length>0){var L=ee()(O[0]);L.css("width",R),L.find(".field-in-subtab").css("width",R)}g.Width=m;var z=g.Properties.length/2;g.Properties[I].Width=R,g.Properties[I+z].Width=R}else{if(R<=20&&t<0)return;var H=y.outerWidth();if(H<=20&&t>0)return;(H=Math.round(H-t))<20&&(R-=20-H,H=20);var G=b[0].cellIndex,W=y[0].cellIndex,M=b.parents(".table").find("tr:first").find("td").eq(G);if(M.length>0){var E=ee()(M[0]);E.css("width",R),E.find(".field-in-subtab").css("width",R)}var j=b.parents(".table").find("tr:first").find("td").eq(W);if(j.length>0){var N=ee()(j[0]);N.css("width",H),N.find(".field-in-subtab").css("width",H)}var U=g.Properties.length/2;g.Properties[G].Width=R,g.Properties[W].Width=H,g.Properties[G+U].Width=R,g.Properties[W+U].Width=H}}}),ee()(document).one("mouseup"+xt,function(){kt.IsDragging=!1,ee()(document).unbind(xt)})}else{kt.DraggingFields=[],kt.DraggingProxy=[],kt.ColumnNum=ee()(e.target).closest("td").index(),kt.CreateDragProxy(r);var x=ee()(r.htmlObject).offset(),D=Math.round(x.left-ee()(window.GlobalPrintProperties.Print.workspace).innerOffsetLeft());kt.DraggingProxy[0].PointX=D,ee()(kt.DraggingProxy[0]).css("left",D);var k=g.PointX,B=g.PointX+g.Width-ee()(r.htmlObject).width();ee()(document).unbind(xt).bind("mousemove"+xt,function(e){var t=e.pageX-kt.PreDragPoint.x;if(kt.IsDragging||!(Math.abs(t)<1)){kt.IsDragging||(kt.IsDragging=!0,kt.DraggingProxy[0].show());var i=kt.DraggingProxy[0].PointX+t;i<k?i=k:i>B&&(i=B),kt.DraggingProxy[0].PointX=i,ee()(kt.DraggingProxy[0]).css("left",i),kt.PreDragPoint={x:e.pageX,y:e.pageY}}}),ee()(document).one("mouseup"+xt,function(e){var t=ee()(window.GlobalPrintProperties.Print.workspace).innerOffsetLeft(),i=e.pageX-t,o=null;if(ee()(g.htmlObject).find("thead td").each(function(e,r){var a=Math.round(ee()(r).width()),n=Math.round(ee()(r).offset().left-t);return!(n<i&&n+a>i&&(o=e,1))}),ee()(kt.DraggingFields).each(function(e){kt.DraggingProxy[e].remove()}),null!==o&&o!==kt.ColumnNum&&kt.IsDragging){var r=kt.ColumnNum;ri({start:r,end:o,subTable:g},"SortTableColumn")}kt.IsDragging=!1,ee()(document).unbind(xt)})}}else if(ee()(e.target).hasClass(Pe.Resize)){Dt.Resizing=!0,window.GlobalPrintProperties.Print.setMultiActionFlag(Ve.FieldResize),Dt.CurrentField=r,Dt.CurrentResizer=ee()(e.target),kt.DragStartPoint={x:e.pageX,y:e.pageY},kt.PreDragPoint={x:e.pageX,y:e.pageY};var _=[],A=[],R={width:Dt.CurrentField.Width,height:Dt.CurrentField.Height,x:Dt.CurrentField.PointX,y:Dt.CurrentField.PointY,defaultRowHeight:Dt.CurrentField.PropertyType===Ae.SubTable||Dt.CurrentField.PropertyType===Ae.WorkFlowLog?Dt.CurrentField.DefaultRowHeight:""};_.push(R),A.push(Dt.CurrentField);var I=0,O=1e4,L=[];if(!bt(Dt.CurrentField)){var z=Pt(Dt.CurrentField,_,A);I=Number(z.PreRowLine),O=Number(z.NextRowLine),L=z.CurrentLineField.slice(0)}var H="left"===Dt.CurrentField.PairPosition,G=!1;Bt.AddTrace(Bt.TraceType.Size,A,_),window.GlobalPrintProperties.Print.onFieldsMovingStart();ee()(document).unbind(Ce).bind("mousemove"+Ce,function(e){kt.IsDragging||(kt.IsDragging=!0),ee()(Dt.CurrentField.htmlObject).addClass(Pe.Resizeing),ee()("."+Ee.TaoDaDockLine).hide();var t=Dt.CurrentField,o=t.PointX,r=t.PointY,a=t.Width,n=t.Height,s=e.pageX-kt.PreDragPoint.x,l=e.pageY-kt.PreDragPoint.y,d=ee()(Dt.CurrentResizer).attr("class");if(d.indexOf(Pe.ResizeUp)>-1?(n-=l,r+=l):d.indexOf(Pe.ResizeDown)>-1?n+=l:d.indexOf(Pe.ResizeLeft)>-1?(a-=s,o+=s):d.indexOf(Pe.ResizeRight)>-1?(a+=s,G=!0):d.indexOf(Pe.ResizeTopLeft)>-1?(n-=l,r+=l,a-=s,o+=s):d.indexOf(Pe.ResizeTopRight)>-1?(n-=l,r+=l,a+=s):d.indexOf(Pe.ResizeBottomLeft)>-1?(n+=l,a-=s,o+=s):d.indexOf(Pe.ResizeBottomRight)>-1&&(n+=l,a+=s),r<I&&(n-=I-r,r=I),r+n>O&&(n-=r+n-O),o<Te.ContentEdgeLeft?(a-=Te.ContentEdgeLeft-o,o=Te.ContentEdgeLeft):o+a>Te.ContentEdgeRight&&(a-=o+a-Te.ContentEdgeRight),r<Te.ContentEdgeTop?(n-=Te.ContentEdgeTop-r,r=Te.ContentEdgeTop):r+n>Te.ContentEdgeBottom&&(n-=r+n-Te.ContentEdgeBottom),!((n<5||a<5)&&Dt.CurrentField.PropertyType!==Ae.Line||H&&G&&i.Width-s<5)){(ee()(Dt.CurrentField.htmlObject).hasClass("field-barcode")||ee()(Dt.CurrentField.htmlObject).hasClass("field-qrcode"))&&(n>a?ee()(Dt.CurrentField.htmlObject).children(".icon").css("font-size",a):ee()(Dt.CurrentField.htmlObject).children(".icon").css("font-size",n)),o=Math.round(o),r=Math.round(r),a=Math.round(a),n=Math.round(n),ee()(Dt.CurrentField.htmlObject).css({left:o,top:r}).outerWidth(a).outerHeight(n),Dt.CurrentField.PointX=o,Dt.CurrentField.PointY=r,Dt.CurrentField.Width=a,Dt.CurrentField.Height=n;for(var c=0;c<L.length;c+=1)ee()(L[c].htmlObject).css({top:r}).outerHeight(n),L[c].Height=n,L[c].PointY=r;if(H&&G&&(i.PointX+=s,i.Width-=s,ee()(i.htmlObject).css({left:i.PointX}).outerWidth(i.Width)),kt.PreDragPoint.x+=s,kt.PreDragPoint.y+=l,Dt.CurrentField.PropertyType===Ae.SubTable||Dt.CurrentField.PropertyType===Ae.WorkFlowLog){var h=0;h=window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document?Dt.CurrentField.Height-Dt.CurrentField.HeaderHeight-31:(Dt.CurrentField.Height-Dt.CurrentField.HeaderHeight)/Dt.CurrentField.PageSize,h=Math.floor(h),Dt.CurrentField.DefaultRowHeight=h;for(var u=ee()(Dt.CurrentField.htmlObject).find("table tbody")[0],p=0;p<u.rows.length;p+=1)ee()(u.rows[p]).css("height",h),ee()(u.rows[p]).find(".field-in-subtab").css("height",h-2)}}}),ee()(document).one("mouseup"+Ce,function(){if(ee()(Dt.CurrentField.htmlObject).removeClass(Pe.Resizeing),ee()(document).unbind(Ce),window.GlobalPrintProperties.Print.setMultiActionFlag(Ve.None),ee()("."+Ee.TaoDaDockLine).hide(),Dt.CurrentField.PropertyType===Ae.SubTable||Dt.CurrentField.PropertyType===Ae.WorkFlowLog){var e=Dt.CurrentField.DefaultRowHeight;e=e>6?e:6,Dt.CurrentField.DefaultRowHeight=Math.floor(e);var t={subTable:Dt.CurrentField};kt.IsDragging&&ri(t,"UpdateColumnWidth"),ri(t,"UpdateRowHeight")}kt.IsDragging=!1})}}}}}},SwitchToFirst:function(){if(this.Select(),window.GlobalPrintProperties.Print.selectedFields[0]!==this){ee()(this.htmlObject).parent().find("."+Pe.FieldSelectedFirst).removeClass(Pe.FieldSelectedFirst),ee()(this.htmlObject).addClass(Pe.FieldSelectedFirst);var e=ee.a.inArray(this,window.GlobalPrintProperties.Print.selectedFields);window.GlobalPrintProperties.Print.selectedFields.splice(e,1),window.GlobalPrintProperties.Print.selectedFields.splice(0,0,this)}},Select:function(e){var t=this;if(e){var i=window.GlobalPrintProperties.Prints;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&function(){var e=i[o];o===window.GlobalPrintProperties.Print.id?ee()(e.selectedFields).each(function(){this!==t&&this.Unselect()}):ee()(e.selectedFields).each(function(){this.Unselect(e)})}()}this.isSelected||(window.GlobalPrintProperties.Print.selectedFields.push(this),this.isSelected=!0,ee()(this.htmlObject).addClass(Pe.FieldSelected),this.PairPosition&&ee()(this.htmlObject).addClass(Pe.FieldSelected+"-"+this.PairPosition),this.Border.BorderSize<1&&this.PropertyType!==Ae.Rectangle&&this.PropertyType!==Ae.Line&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),ee()(this.htmlObject).parent().find("."+Pe.FieldSelectedFirst).removeClass(Pe.FieldSelectedFirst),window.GlobalPrintProperties.Print.selectedFields.length>0&&ee()(window.GlobalPrintProperties.Print.selectedFields[0].htmlObject).addClass(Pe.FieldSelectedFirst))},Unselect:function(e){var t=e||window.GlobalPrintProperties.Print;if(this.isSelected){this.isSelected=!1,ee()(this.htmlObject).removeClass(Pe.FieldSelected),this.Border.BorderSize<1&&this.PropertyType!==Ae.Rectangle&&this.PropertyType!==Ae.Line&&ee()(this.htmlObject).css({borderColor:"#e1e1e1"});var i=ee.a.inArray(this,t.selectedFields);i>-1&&t.selectedFields.splice(i,1)}ee()(this.htmlObject).parent().find("."+Pe.FieldSelectedFirst).removeClass(Pe.FieldSelectedFirst),t.selectedFields.length>0&&ee()(t.selectedFields[0].htmlObject).addClass(Pe.FieldSelectedFirst)},UpdateDockLinePosition:function(){this.dockLine.LeftPointX=this.PointX,this.dockLine.RightPointX=this.PointX+this.Width,this.dockLine.TopPointY=this.PointY,this.dockLine.BottomPointY=this.PointY+this.Height}};var At=function(e,t){return this.id=t,this.workspace=void 0,this.NewShapeID=1,this.workspace_content=void 0,this.deletespace=void 0,this.fields=[],this.selectedFields=[],this.showAssistLine=!1,this.dockLine={},this.dockLinePositions=[],this.init(e,t),this};At.prototype={init:function(e,t){var i=e;ee()(i).length?this.workspace=ee()(i).attr("id",t):(i='<div class="workspace"></div>',this.workspace=ee()(i).attr("id",t).insertBefore(window.GlobalPrintProperties.PageAdd)),0===ee()(this.workspace).find("."+Ee.WorkSpaceContent).length&&(ee()("<div></div>").addClass(Ee.WorkSpaceContent).appendTo(this.workspace),this.deletespace=ee()("<div></div>").addClass(Ee.TriggerDelete).appendTo(this.workspace)),this.workspace_content=ee()(this.workspace).children("."+Ee.WorkSpaceContent);var o=window.GlobalPrintProperties.pageSettings;o.BackGround&&ee()(this.workspace).css("background-image","url("+o.BackGround+")"),this.workspace.css({width:o.Width,height:o.Height}),this.workspace_content.css({top:o.MarginTop,bottom:o.MarginBottom,left:o.MarginLeft,right:o.MarginRight}),this.outerContainer=ee()(this.workspace).parent(),this.initActions()},initActions:function(){var e=this;ee()(this.workspace).unbind(je).bind("mousedown"+je,this.doDown).bind("dblclick"+je,this.doDblClick).bind("contextmenu"+je,this.doContextMenu),ee()(this.deletespace).unbind(je).bind("click"+je,this.doSelect),ee()(Ge).find(".property-tabs").on("click.tabs","a",function(t){"btn_TemplateSet"===ee()(t.target).attr("id")?e.showProperty(1):e.showProperty(0)})},doDblClick:function(){},doContextMenu:function(){},doKeyUp:function(){},doDown:function(e){if(ee()("."+Ee.InvalidSubTable).removeClass(Ee.InvalidSubTable),ee.a.fn.isOffsetLeftMouseDown(e)){e.preventDefault(),setTimeout(function(){window.GlobalPrintProperties.PrintProperty.UpdateDeleteState()},20);var t=ee()(e.target),i=void 0;i=t.hasClass(Pe.Field)?t.data("field"):t.parents("."+Pe.Field).data("field");var o="";if(t.hasClass(Ee.WorkSpace)?o=t.attr("id"):t.hasClass("fsGuide-close")||t.parent().hasClass("fsGuide-close")?(1===ee()(".hasPadding").length&&ee()(window.GlobalPrintProperties.PrintContainer).css("padding-top",0),o=t.parents("."+Ee.WorkSpace).attr("id"),t.parents(".fsTop-guide").remove()):t.hasClass("tbGuide-close")||t.parent().hasClass("tbGuide-close")?(1===ee()(".hasPadding").length&&ee()(window.GlobalPrintProperties.PrintContainer).css("padding-top",0),o=t.parents("."+Ee.WorkSpace).attr("id"),t.parents(".tbTop-guide").remove()):t.hasClass("tbGuide-down-close")||t.parent().hasClass("tbGuide-down-close")?(ee()(".tbGuide_dotted_line").remove(),o=t.parents("."+Ee.WorkSpace).attr("id"),t.parents(".tbDown-guide").remove()):o=t.parents("."+Ee.WorkSpace).attr("id"),window.GlobalPrintProperties.Print&&window.GlobalPrintProperties.Print.id!==o){var r=window.GlobalPrintProperties.Print,a=r.selectedFields;if(a)for(var n=a.length-1;n>-1;n-=1)a[n].Unselect(r)}var s=window.GlobalPrintProperties.Prints[o];if(window.GlobalPrintProperties.Print=s,s.doUnDeleteSelect(),i)i.doDown(e,i.PairFieldCode);else{var l=s.outerContainer,d={X:l.scrollLeft(),Y:l.scrollTop()};if(l.scrollLeft(d.X).scrollTop(d.Y),e.target===s.workspace_content[0]||e.target===s.workspace[0]||e.target===s.SVG[0]){var c=s.selectedFields;if(c)for(var h=c.length-1;h>-1;h-=1)c[h].Unselect(s);for(var u=window.GlobalPrintProperties.Print.fields,p=0;p<u.length;p+=1)u[p].Border.BorderSize<1?ee()(u[p].htmlObject).css({borderColor:"#e1e1e1"}):u[p].Border.BorderSize>0&&0===u[p].Border.BorderType&&ee()(u[p].htmlObject).css({borderColor:"#e1e1e1"}),"no-border-color"===u[p].Border.BorderColor&&ee()(u[p].htmlObject).css({borderColor:"#e1e1e1"}),u[p].Border.BorderTop||ee()(u[p].htmlObject).css({borderTopColor:"#e1e1e1"}),u[p].Border.BorderRight||ee()(u[p].htmlObject).css({borderRightColor:"#e1e1e1"}),u[p].Border.BorderBottom||ee()(u[p].htmlObject).css({borderBottomColor:"#e1e1e1"}),u[p].Border.BorderLeft||ee()(u[p].htmlObject).css({borderLeftColor:"#e1e1e1"});s.showProperty(1),s.setMultiActionFlag(Ve.DragMultiSelect),Ue.FieldsInRange=[],Ue.StartPoint={x:e.pageX-s.SVG.offset().left,y:e.pageY-s.SVG.offset().top},s.MultiSelectBox=ee()("<div class='"+Ee.MultiSelectBox+"'></div>").hide().appendTo(s.workspace),ee()(document).bind("mousemove"+Ne,function(e){var t={x:e.pageX-s.SVG.offset().left,y:e.pageY-s.SVG.offset().top};s.MultiSelectBox.css("width",Math.abs(t.x-Ue.StartPoint.x)).css("height",Math.abs(t.y-Ue.StartPoint.y)).css("left",Math.min(Ue.StartPoint.x,t.x)).css("top",Math.min(Ue.StartPoint.y,t.y)).show(),ee()(s.fields).each(function(){if(this.PointX>=Math.min(Ue.StartPoint.x,t.x)&&this.PointX+this.Width<=Math.max(Ue.StartPoint.x,t.x)&&this.PointY>=Math.min(Ue.StartPoint.y,t.y)&&this.PointY+this.Height<=Math.max(Ue.StartPoint.y,t.y))this.isSelected||(this.Select(),Ue.FieldsInRange.push(this),this.Border.BorderSize<1?ee()(this.htmlObject).css({borderColor:"#e9c109"}):this.Border.BorderSize>0&&0===this.Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),"no-border-color"===this.Border.BorderColor&&ee()(this.htmlObject).css({borderColor:"#e9c109"}),this.Border.BorderTop||ee()(this.htmlObject).css({borderTopColor:"#e9c109"}),this.Border.BorderRight||ee()(this.htmlObject).css({borderRightColor:"#e9c109"}),this.Border.BorderBottom||ee()(this.htmlObject).css({borderBottomColor:"#e9c109"}),this.Border.BorderLeft||ee()(this.htmlObject).css({borderLeftColor:"#e9c109"}));else for(var e=Ue.FieldsInRange.length-1;e>=0;e-=1)if(Ue.FieldsInRange[e]===this){this.Unselect(),Ue.FieldsInRange.splice(e,1),this.Border.BorderSize<1?ee()(this.htmlObject).css({borderColor:"#e1e1e1"}):this.Border.BorderSize>0&&0===this.Border.BorderType&&ee()(this.htmlObject).css({borderColor:"#e1e1e1"}),"no-border-color"===this.Border.BorderColor&&ee()(this.htmlObject).css({borderColor:"#e1e1e1"}),this.Border.BorderTop||ee()(this.htmlObject).css({borderTopColor:"#e1e1e1"}),this.Border.BorderRight||ee()(this.htmlObject).css({borderRightColor:"#e1e1e1"}),this.Border.BorderBottom||ee()(this.htmlObject).css({borderBottomColor:"#e1e1e1"}),this.Border.BorderLeft||ee()(this.htmlObject).css({borderLeftColor:"#e1e1e1"});break}}),Ue.FieldsInRange.length>1?window.GlobalPrintProperties.PrintProperty.DisplayProperties(Ue.FieldsInRange):1===Ue.FieldsInRange.length?window.GlobalPrintProperties.PrintProperty.DisplayProperties(Ue.FieldsInRange[0]):window.GlobalPrintProperties.PrintProperty.DisplayProperties()}),ee()(document).one("mouseup"+Ne,function(){window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(),s.MultiSelectBox.remove(),ee()(document).unbind(Ne)})}}}},doSelect:function(e){e.preventDefault();var t=ee()(e.target).parent();t.hasClass(Ee.SelectSpace)?t.removeClass(Ee.SelectSpace):t.addClass(Ee.SelectSpace),window.GlobalPrintProperties.PrintProperty.UpdateDeleteState()},doUnDeleteSelect:function(){ee()(window.GlobalPrintProperties.PrintContainer).find("."+Ee.SelectSpace).removeClass(Ee.SelectSpace)},doDelete:function(){ee()(this.workspace).remove(),delete window.GlobalPrintProperties.Prints[this.id]},setMultiActionFlag:function(e){Ye.CurrentMultiAction=e},onFieldsMovingStart:function(){},onFieldsMoving:function(){},onFieldsMovingEnd:function(){},saveFieldPositions:function(e,t){t&&0===t.x&&0===t.y||ee()(e).each(function(){this.savePosition(!0)})},addField:function(e,t){var i=new _t(e,t);return i.IsInSubTable||this.fields.push(i),i},removeField:function(e){if(e)for(var t=window.GlobalPrintProperties.Print,i=t.fields.length-1;i>=0;i-=1)if(t.fields[i].Id===e){ee()(t.fields[i].htmlObject).remove(),t.fields.splice(i,1);break}this.showProperty(1)},removeSelectedField:function(e){if(e)for(var t=window.GlobalPrintProperties.Print,i=t.selectedFields.length-1;i>=0;i-=1)if(t.selectedFields[i].Id===e){t.selectedFields.splice(i,1);break}},showProperty:function(e){var t=ee()(Me),i=ee()(We);0===e?(window.GlobalPrintProperties.Print.selectedFields.length||(window.GlobalPrintProperties.VueInstance.showProperty(Ae.NoField),window.GlobalPropertyData.data={}),t.children().show(),i.children().hide(),ee()(".h3-lnk-bar").css("transform","translate3d(10px, 0px, 0px)"),t.hasClass("active")||(ee()("#btn_ControlSet").addClass("active"),ee()("#btn_TemplateSet").removeClass("active"),t.css({transform:"translateX(0px) translateZ(0px)"}),i.css({transform:"translateX(200%) translateZ(0px)"}))):(t.children().hide(),i.children().show(),ee()(".h3-lnk-bar").css("transform","translate3d(150px, 0px, 0px)"),i.hasClass("active")||(ee()("#btn_TemplateSet").addClass("active"),ee()("#btn_ControlSet").removeClass("active"),i.css({transform:"translateX(0px) translateZ(0px)"}),t.css({transform:"translateX(-100%) translateZ(0px)"})))},CalculateFieldDock:function(e,t){var i=Te.AdsorbX,o=Te.AdsorbY;this.InitDock(e,t);var r=this.CalculateAbsortField();return!!r&&(this.AbsortFeild(r,i,o),this.CalculateDockField(),this.SetDockLinePos(),this.SetDockLineWidth(),this.SetDockLineHeight(),!1)},InitDock:function(e,t){window.GlobalPrintProperties.Print.workspace.find("."+Ee.TaoDaDockLine).hide(),kt.ProxyPosition[0]+=t,kt.ProxyPosition[1]+=e,kt.ProxyPosition[2]+=t,kt.ProxyPosition[3]+=e,Te.AdsorbX=!1,Te.AdsorbY=!1,Se.LeftDockFiles=[],Se.RightDockFiles=[],Se.TopDockFiles=[],Se.BottomDockFiles=[]},CalculateAbsortField:function(){var e=kt.ReferencePosition,t=kt.ProxyPosition,i=Te.InAdsorb,o=0,r=0,a=0,n={index:-1,minError:100,direction:[-1,-1]},s={index:-1,minError:100,direction:[-1,-1]};return ee()(e).each(function(e,l){if(-1!==l){var d=e%4;switch(d){case 0:case 2:r=Math.abs(l-t[0]),a=Math.abs(l-t[2]),(o=r<a?r:a)<=i&&o<=s.minError&&(s.minError=o,s.index=Math.floor(e/4),s.direction[0]=d,s.direction[1]=r<a?0:2);break;case 1:case 3:r=Math.abs(l-t[1]),a=Math.abs(l-t[3]),(o=r<a?r:a)<i&&o<n.minError&&(n.minError=o,n.index=Math.floor(e/4),n.direction[0]=d,n.direction[1]=r<a?1:3)}}}),n.index<0&&s.index<0?null:{absortFieldX:n,absortFieldY:s}},AbsortFeild:function(e,t,i){var o=e.absortFieldX,r=e.absortFieldY,a=null,n=null,s=function(e,t){var i=e.dockLine,o=kt.ProxyPosition;switch(t[0]){case 0:0===t[1]?n=i.TopPointY-o[0]:2===t[1]&&(n=i.TopPointY-o[2]);break;case 1:1===t[1]?a=i.RightPointX-o[1]:3===t[1]&&(a=i.RightPointX-o[3]);break;case 2:0===t[1]?n=i.BottomPointY-o[0]:2===t[1]&&(n=i.BottomPointY-o[2]);break;case 3:1===t[1]?a=i.LeftPointX-o[1]:3===t[1]&&(a=i.LeftPointX-o[3])}var r,s;null!==a&&(r=a,Te.AdsorbX=!0,ee()(kt.DraggingProxy).each(function(){this.PointX+=r,this.css("left",this.PointX)}),kt.ProxyPosition[1]+=r,kt.ProxyPosition[3]+=r),null!==n&&(s=n,Te.AdsorbY=!0,ee()(kt.DraggingProxy).each(function(){this.PointY+=s,this.css("top",this.PointY)}),kt.ProxyPosition[0]+=s,kt.ProxyPosition[2]+=s)};if(!t&&o.index>-1)s(window.GlobalPrintProperties.Print.fields[o.index],o.direction);else if(!i&&r.index>-1){s(window.GlobalPrintProperties.Print.fields[r.index],r.direction)}},CalculateDockField:function(){var e=kt.ProxyPosition,t=!1,i=!1;ee()(window.GlobalPrintProperties.Print.fields).each(function(){var o=this.dockLine;(Math.abs(o.LeftPointX-e[3])<1||Math.abs(o.RightPointX-e[3])<1)&&(Se.LeftDockFiles.push(this),i=!0),(Math.abs(o.LeftPointX-e[1])<1||Math.abs(o.RightPointX-e[1])<1)&&(Se.RightDockFiles.push(this),i=!0),(Math.abs(o.TopPointY-e[0])<1||Math.abs(o.BottomPointY-e[0])<1)&&(Se.TopDockFiles.push(this),t=!0),(Math.abs(o.TopPointY-e[2])<1||Math.abs(o.BottomPointY-e[2])<1)&&(Se.BottomDockFiles.push(this),t=!0)}),Te.AdsorbX=!!i,Te.AdsorbY=!!t},SetDockLinePos:function(){var e=kt.ProxyPosition;window.GlobalPrintProperties.Print.dockLine.HorizontalTop.css({top:Math.round(e[0])}),window.GlobalPrintProperties.Print.dockLine.HorizontalBottom.css({top:Math.round(e[2])}),window.GlobalPrintProperties.Print.dockLine.VerticalLeft.css({left:Math.round(e[3])}),window.GlobalPrintProperties.Print.dockLine.VerticalRight.css({left:Math.round(e[1])})},SetDockLineWidth:function(){var e=kt.ProxyPosition,t=Se.TopDockFiles.length;if(t){Se.TopDockFiles.sort(function(e,t){return e.PointX-t.PointX});var i=[];i.push(e[3]),i.push(e[1]),i.push(Se.TopDockFiles[0].PointX),i.push(Se.TopDockFiles[t-1].PointX);var o=Math.max.apply(Math,i),r=Math.min.apply(Math,i);window.GlobalPrintProperties.Print.dockLine.HorizontalTop.css({left:Math.round(r),width:Math.round(o-r)}).show()}var a=Se.BottomDockFiles.length;if(a){Se.BottomDockFiles.sort(function(e,t){return e.PointX-t.PointX});var n=[];n.push(e[3]),n.push(e[1]),n.push(Se.BottomDockFiles[0].PointX),n.push(Se.BottomDockFiles[a-1].PointX);var s=Math.max.apply(Math,n),l=Math.min.apply(Math,n);window.GlobalPrintProperties.Print.dockLine.HorizontalBottom.css({left:Math.round(l),width:Math.round(s-l)}).show()}},SetDockLineHeight:function(){var e=kt.ProxyPosition,t=Se.LeftDockFiles.length;if(t){Se.LeftDockFiles.sort(function(e,t){return e.PointY-t.PointY});var i=[];i.push(e[0]),i.push(e[2]),i.push(Se.LeftDockFiles[0].PointY),i.push(Se.LeftDockFiles[t-1].PointY);var o=Math.max.apply(Math,i),r=Math.min.apply(Math,i);window.GlobalPrintProperties.Print.dockLine.VerticalLeft.css({top:Math.round(r),height:Math.round(o-r)}).show()}var a=Se.RightDockFiles.length;if(a){Se.RightDockFiles.sort(function(e,t){return e.PointY-t.PointY});var n=[];n.push(e[0]),n.push(e[2]),n.push(Se.RightDockFiles[0].PointY),n.push(Se.RightDockFiles[a-1].PointY);var s=Math.max.apply(Math,n),l=Math.min.apply(Math,n);window.GlobalPrintProperties.Print.dockLine.VerticalRight.css({top:Math.round(l),height:Math.round(s-l)}).show()}}};function Rt(e){return e.clone()}function It(e,t){return e.addClass(t),e}var Ot=function(e){var t=e,i=t.workspace,o=window.GlobalPrintProperties.pageSettings;if(!i.find("."+Ee.Boundary).length){var r=ee()("<div class='"+Ee.Boundary+"' ></div>");t.boundaryLeftTop=It(Rt(r),Ee.BoundaryLeftTop).appendTo(i),t.boundaryLeftBottom=It(Rt(r),Ee.BoundaryLeftBottom).appendTo(i),t.boundaryRightTop=It(Rt(r),Ee.BoundaryRightTop).appendTo(i),t.boundaryRightBottom=It(Rt(r),Ee.BoundaryRightBottom).appendTo(i)}t.boundaryLeftTop.css({left:o.MarginLeft,top:o.MarginTop}),t.boundaryLeftBottom.css({left:o.MarginLeft,bottom:o.MarginBottom}),t.boundaryRightTop.css({right:o.MarginRight,top:o.MarginTop}),t.boundaryRightBottom.css({right:o.MarginRight,bottom:o.MarginBottom})},Lt=function(e){var t=e,i=t.workspace;if(ee()(i).find("."+Ee.TaoDaDockLine)){var o=ee()("<div class='"+Ee.TaoDaDockLine+"' ></div>"),r=It(Rt(o),Ee.TaoDaDockLineHorizontal);It(Rt(r),Ee.TaoDaDockLineTop).appendTo(i),It(Rt(r),Ee.TaoDaDockLineMiddle).appendTo(i),It(Rt(r),Ee.TaoDaDockLineBottom).appendTo(i);var a=It(Rt(o),Ee.TaoDaDockLineVertical);return It(Rt(a),Ee.TaoDaDockLineLeft).appendTo(i),It(Rt(a),Ee.TaoDaDockLineCenter).appendTo(i),It(Rt(a),Ee.TaoDaDockLineRight).appendTo(i),t.dockLine={HorizontalTop:ee()(i).find("."+Ee.TaoDaDockLineTop),HorizontalBottom:ee()(i).find("."+Ee.TaoDaDockLineBottom),VerticalLeft:ee()(i).find("."+Ee.TaoDaDockLineLeft),VerticalRight:ee()(i).find("."+Ee.TaoDaDockLineRight)},t.dockLine}return!1},zt=function(e){var t=e,i=ee()(document.createElementNS("http://www.w3.org/2000/svg","svg")).addClass("workspace_svg").attr("version","1.1");return i.css("width","100%").css("height","100%"),ee()(t.workspace).children(":first").before(i),t.SVG=i,i},Ht={allFieldObject:{},LoadPrint:function(e){if(e){var t=[];for(var i in window.GlobalPrintProperties.Prints)Object.prototype.hasOwnProperty.call(window.GlobalPrintProperties.Prints,i)&&t.push(window.GlobalPrintProperties.Prints[i]);for(var o in e.length&&(this.allFieldObject=this.handlerFields()),e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=e[o];if(r.PointY<0||r.PointX<0)continue;var a=t[r.PageIndex-1],n=ee()(this.getModalHtml(r)).css({top:st(r.PointY),left:st(r.PointX),width:st(r.Width),fontSize:r.Font.FontSize<12?12:r.Font.FontSize,fontWeight:r.Font.Bold?"bold":"normal",fontStyle:r.Font.Italic?"italic":"normal",color:r.Font.FontColor,borderWidth:r.Border.BorderSize<1?1:r.Border.BorderSize,borderColor:r.Border.BorderColor,borderStyle:"solid",background:r.FillColor}).appendTo(a.workspace),s=0;if(r.Font.FontSize<12?(s=St(r.Font.FontSize),n.attr("fs","fontSize"+r.Font.FontSize)):n.removeAttr("fs"),r.Font.UnderLine?n.find(".field-context").css({textDecoration:"underline"}):n.find(".field-context").css({textDecoration:"inherit"}),0===r.Border.BorderType?n.css({borderWidth:1,borderStyle:"dashed",borderColor:"#e1e1e1"}):1===r.Border.BorderType&&r.Border.BorderSize>0?n.css({borderStyle:"solid"}):1===r.Border.BorderType&&r.Border.BorderSize<1?n.css({borderStyle:"dashed"}):2===r.Border.BorderType&&n.css({borderStyle:"dashed"}),("no-border-color"===r.Border.BorderColor||r.Border.BorderSize<1)&&n.css({borderWidth:1,borderColor:"#e1e1e1",borderStyle:"dashed"}),r.Border.BorderTop||n.css({borderTopWidth:1,borderTopStyle:"dashed",borderTopColor:"#e1e1e1"}),r.Border.BorderRight||n.css({borderRightWidth:1,borderRightStyle:"dashed",borderRightColor:"#e1e1e1"}),r.Border.BorderBottom||n.css({borderBottomWidth:1,borderBottomStyle:"dashed",borderBottomColor:"#e1e1e1"}),r.Border.BorderLeft||n.css({borderLeftWidth:1,borderLeftStyle:"dashed",borderLeftColor:"#e1e1e1"}),r.PropertyType!==Ae.Form&&r.PropertyType!==Ae.System&&r.PropertyType!==Ae.Text&&r.PropertyType!==Ae.TextWatermark&&r.PropertyType!==Ae.CustomWorkFlowLog||(0===r.Alignment.HorizontalType?n.find(".field-context").css({textAlign:"left",left:r.Font.FontSize<12?0:"initial",width:r.Font.FontSize<12?"auto":"100%",right:"initial"}):1===r.Alignment.HorizontalType?n.find(".field-context").css({textAlign:"center",width:(r.Font.FontSize,"100%"),left:"initial",right:"initial"}):2===r.Alignment.HorizontalType&&n.find(".field-context").css({left:"initial",textAlign:"right",right:r.Font.FontSize<12?0:"initial",width:r.Font.FontSize<12?"auto":"100%"}),0===r.Alignment.VerticalType?n.find(".field-context").css({bottom:"initial",top:0,transform:r.Font.FontSize<12?"translatey(0) scale("+s+")":"translatey(0)"}):1===r.Alignment.VerticalType?n.find(".field-context").css({bottom:"initial",top:"50%",transform:r.Font.FontSize<12?"translatey(-50%) scale("+s+")":"translatey(-50%)"}):2===r.Alignment.VerticalType&&n.find(".field-context").css({top:"initial",transform:r.Font.FontSize<12?"translatey(0) scale("+s+")":"translatey(0)",bottom:0})),r.PropertyType===Ae.Line){var l={borderWidth:0,borderTopWidth:r.Border.BorderSize,borderLeftWidth:r.Border.BorderSize,borderTopStyle:"solid",borderTopColor:r.Border.BorderColor};r.Width>r.Height?delete l.borderLeftWidth:delete l.borderTopWidth,n.css(l),2===r.Border.BorderType&&n.css({borderTopStyle:"dashed"})}if(r.PropertyType===Ae.SubTable||r.PropertyType===Ae.WorkFlowLog){if(ee()(r.htmlObject).hasClass(Pe.FieldSelected)&&n.addClass(Pe.FieldSelected),n.css("height",ut(r)),n.css("border","none"),r.Border.BorderType>0&&r.Border.BorderSize>0){if(1===r.Border.BorderType){var d={borderWidth:r.Border.BorderSize,borderColor:r.Border.BorderColor,borderStyle:"solid"};n.find("tr td").css(d)}else if(2===r.Border.BorderType){var c={borderWidth:r.Border.BorderSize,borderColor:r.Border.BorderColor,borderStyle:"dashed"};n.find(".table").css(c),n.find("tr td").css(c)}}else{var h={borderWidth:1,borderStyle:"dashed",borderColor:"#e1e1e1"};n.find(".table").css(h),n.find("tr td").css(h)}r.HeaderHeight=st(r.HeaderHeight),r.DefaultRowHeight=st(r.DefaultRowHeight);for(var u=a.addField(n,r),p=ee()(u.htmlObject).find(".field-instance"),f=u.Properties.length/2,g=0;g<p.length;g+=1){var v=p[g],m=r.Properties[g];m.IsInSubTable=!0,m.OuterSubTable=u.DataField,u.Properties[g]=a.addField(v,m),ee()(u.Properties[g].htmlObject).css({fontSize:u.Properties[g].Font.FontSize<12?12:u.Properties[g].Font.FontSize,fontWeight:u.Properties[g].Font.Bold?"bold":"normal",fontStyle:u.Properties[g].Font.Italic?"italic":"normal",color:u.Properties[g].Font.FontColor,background:u.Properties[g].FillColor});var b=0;u.Properties[g].Font.FontSize<12?(b=St(u.Properties[g].Font.FontSize),ee()(u.Properties[g].htmlObject).attr("fs","fontSize"+u.Properties[g].Font.FontSize)):ee()(u.Properties[g].htmlObject).removeAttr("fs");var P="inherit";u.Properties[g].Font.UnderLine&&(P="underline"),ee()(u.Properties[g].htmlObject).find(".field-context").css({textDecoration:P}),0===u.Properties[g].Alignment.HorizontalType?ee()(u.Properties[g].htmlObject).find(".field-context").css({textAlign:"left",left:u.Properties[g].Font.FontSize<12?0:"initial",width:u.Properties[g].Font.FontSize<12?"auto":"100%",right:"initial"}):1===u.Properties[g].Alignment.HorizontalType?ee()(u.Properties[g].htmlObject).find(".field-context").css({textAlign:"center",width:(u.Properties[g].Font.FontSize,"100%"),left:"initial",right:"initial"}):2===u.Properties[g].Alignment.HorizontalType&&ee()(u.Properties[g].htmlObject).find(".field-context").css({left:"initial",textAlign:"right",right:u.Properties[g].Font.FontSize<12?0:"initial",width:u.Properties[g].Font.FontSize<12?"auto":"100%"}),u.Alignment.IsOld&&g>f-1&&ee()(u.Properties[g].htmlObject).find(".field-context").css({textAlign:"left"}),0===u.Properties[g].Alignment.VerticalType?ee()(u.Properties[g].htmlObject).find(".field-context").css({bottom:"initial",top:0,transform:u.Properties[g].Font.FontSize<12?"translatey(0) scale("+b+")":"translatey(0)"}):1===u.Properties[g].Alignment.VerticalType?ee()(u.Properties[g].htmlObject).find(".field-context").css({bottom:"initial",top:"50%",transform:u.Properties[g].Font.FontSize<12?"translatey(-50%) scale("+b+")":"translatey(-50%)"}):2===u.Properties[g].Alignment.VerticalType&&ee()(u.Properties[g].htmlObject).find(".field-context").css({transform:u.Properties[g].Font.FontSize<12?"translatey(0) scale("+b+")":"translatey(0)",bottom:0,top:"initial"}),u.Properties[g].Alignment.VerticalType.IsOld&&ee()(u.Properties[g].htmlObject).find(".field-context").css({transform:"translatey(0)",bottom:0}),m.TextSource===Xe.FormDataField&&m.DataField===Le?ee()(u.Properties[g].htmlObject).find(".field-context").text(1):m.TextSource===Xe.FormDataField&&m.DataField===ze&&ee()(u.Properties[g].htmlObject).find(".field-context").text("")}}else n.css("height",st(r.Height)),a.addField(n,r)}}},htmlEncodeJQ:function(e){return ee()("<span/>").text(e).html()},InitPrint:function(e){window.GlobalPrintProperties.Print=new At(He,e),window.GlobalPrintProperties.Prints[e]=window.GlobalPrintProperties.Print,window.GlobalPrintProperties.Print.SVG=zt(window.GlobalPrintProperties.Print),Ot(window.GlobalPrintProperties.Print),window.GlobalPrintProperties.Print.dockLine=Lt(window.GlobalPrintProperties.Print)},getModalHtml:function(e){var t="";if(e.TextSource===Xe.FormDataField){var i=this.allFieldObject[e.DataField];if(i)if(e.Properties&&e.Properties.length)for(var o=e.Properties.length,r=o/2;r<o;r+=1){var a=e.Properties[r];i[a.DataField]&&(a.Text=Re+i[a.DataField]+Ie)}else e.Text=Re+i+Ie}if(e.PropertyType===Ae.Form||e.PropertyType===Ae.System)t="<div>",t+='<div class="field-context">'+Ht.htmlEncodeJQ(e.Text)+"</div>",t+="</div>";else if(e.PropertyType===Ae.TextWatermark){var n="";e.RotationDegrees&&(n="watermark-rotate"),t='<div class="field-watermark '+n+'">',t+='<div class="field-context ">'+Ht.htmlEncodeJQ(e.Text)+"</div>",t+="</div>"}else if(e.PropertyType===Ae.QrCode){t='<div class="field-qrcode field-instance">',t+='<i class="icon h3yun_All qrcode-o" style="font-size: '+st(e.Height>e.Width?e.Width:e.Height)+'px;"></i>',t+="</div>"}else if(e.PropertyType===Ae.BarCode){t='<div class="field-barcode field-instance">',t+='<i class="icon h3yun_All barcode-o" style="font-size: '+st(e.Height>e.Width?e.Width:e.Height)+'px;"></i>',t+="</div>"}else if(e.PropertyType===Ae.SubTable||e.PropertyType===Ae.WorkFlowLog){var s=e.Properties,l=s.length,d=st(e.Width),c=st(e.HeaderHeight),h=st(e.DefaultRowHeight);t+='<div class="field-subtab field-instance" style="width:'+d+'px;border:0;">',t+='<table style="width: 100%;" cellspacing="0" cellpadding="0" border="1" class="table">',t+="<thead>",t+='<tr style="height:'+c+'px;">';for(var u=0;u<l/2;u+=1){var p=st(s[u].Width);t+='<td style="width:'+p+'px !important;"><div class="field-in-subtab field-instance" data-controlkey="'+s[u].DataField+'" data-type="'+s[u].PropertyType+'" data-name="'+s[u].Text+'" style="width:'+p+"px !important;height:"+(c-1)+'px"><div class="field-context fixed">'+Ht.htmlEncodeJQ(s[u].Text)+"</div></div></td>"}t+="</tr>",t+="</thead>",t+="<tbody>",t+='<tr style="height:'+h+'px;">';for(var f=l/2;f<l;f+=1)0===s[f].Text.indexOf("$(")&&(s[f].Text=s[f].Text.replace("$(",Re).replace(")",Ie)),t+='<td><div class="field-in-subtab field-instance" data-controlkey="'+s[f].DataField+'" data-type="'+s[f].PropertyType+'" data-name="'+s[f].Text+'" style="height:'+(h-1)+'px"><div class="field-context fixed">'+s[f].Text+"</div></div></td>";if(t+="</tr>",window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Bill)for(var g=0;g<e.PageSize-1;g+=1){t+='<tr style="height:'+h+'px;" class="select-subtab-tr">';for(var v=0;v<l/2;v+=1)t+="<td></td>";t+="</tr>"}t+="</tbody>",t+="</table>",window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document&&(t+="<div class='printAll' style='width:100%;height:30px;box-sizing:border-box;background:#FFF;color: rgba(0,0,0,0.40);border: 1px solid #E9E9E9;border-top: none;text-align: center;line-height: 30px; overflow: hidden;'>",t+="打印所有的列内容</div>"),t+="<div class='border-active'></div>",t+="</div>"}else if(e.PropertyType===Ae.Text)t='<div class="field-text field-instance">',t+='<div class="item field-context" style="width: 100%;">'+Ht.htmlEncodeJQ(e.Text)+"</div>",t+="</div>";else if(e.PropertyType===Ae.Rectangle)t='<div class="field-rectangle field-instance">',t+="</div>";else if(e.PropertyType===Ae.Line){t='<div class="field-line field-instance '+(e.Direction?ke.Vertical:ke.Horizontal)+'">',t+="</div>"}else if(e.PropertyType===Ae.Image||e.PropertyType===Ae.ImageWatermark){var m="",b=" ";""===e.Value?m=ve+"static/images/pic.png":(m=e.Value,b="has-image "),Ae.ImageWatermark&&(b+=Pe.TextField),t='<div class="field-instance field-image '+b+'">',t+='<img src="'+m+'" style="width: 100%; height: 100%;">',t+="</div>"}else if(e.PropertyType===Ae.FlowSeal)t='<div class="field-flowSeal" style="width: 95px; height: 77px; text-align: center;">',t+='<img src="'+ve+'static/images/seal.png" style="width:100%;height:100%" />',t+="</div>";else if(e.PropertyType===Ae.ImageControl){var P="",y="";""===e.Value?P=ve+"static/images/pic.png":(P=e.Value,y="has-image"),t='<div class="field-instance field-image '+y+'">',t+='<img src="'+P+'" style="width: 100%; height: 100%; max-width:100px;" class="single-img">',t+='<img src="'+P+'" style="width: 25%; height: 100%; max-width:100px;" class="full-img">',t+='<img src="'+P+'" style="width: 25%; height: 100%; max-width:100px;" class="full-img">',t+='<img src="'+P+'" style="width: 25%; height: 100%; max-width:100px;" class="full-img">',t+='<img src="'+P+'" style="width: 25%; height: 100%; max-width:100px;" class="full-img">',t+="</div>"}else if(e.PropertyType===Ae.CustomWorkFlowLog){t='<div style="width: 84px; height: 30px; line-height: 30px;">\n              <div class="field-context eeeee" style="width: 100%;">'+e.Contents.filter(function(e){return e.Checked}).map(function(e){return"${"+e.FieldDes+"}"}).join("")+"</div>\n            </div>"}else e.PropertyType===Ae.FormHandSign&&(t='<div class="field-hand-sign" style="width: 120px; height: 48px;">\n              <img src="'+ve+'static/images/hand-sign.png" style="width: 100%; height: 100%;max-width:114px;"/>\n            </div>');return t},handlerFields:function(){for(var e={},t=window.GlobalPrintProperties.allFields[0].FieldItems,i=t.length,o=0;o<i;o+=1){var r=t[o];if(r.Children&&r.Children.length){for(var a={},n=0;n<r.Children.length;n+=1){var s=r.Children[n];a[s.FieldName]=s.FieldDes}e[r.FieldName]=a}else e[r.FieldName]=r.FieldDes}return e}},Gt=function(e){var t=e||te(),i=ee()('<div class="'+Ee.WorkSpace+'"></div>');window.GlobalPrintProperties.Prints[t]=new At(i,t);var o=window.GlobalPrintProperties.Prints[t];Ot(o),Lt(o),zt(o),ee()(window.GlobalPrintProperties.PrintContainer.lastChild).before(i)},Wt=function(){var e=ee()(window.GlobalPrintProperties.PrintContainer).find("."+Ee.SelectSpace);if(ee()(window.GlobalPrintProperties.PrintContainer).find(".workspace").length<2&&1===e.length)return ee()(window.GlobalPrintProperties.PrintContainer).find(".workspace").removeClass("workspace-select"),window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(),void window.GlobalPrintProperties.VueInstance.$message({message:"不能删除最后一个画布",showClose:!0,type:"warning"});for(var t=0;t<e.length;t+=1){var i=ee()(e[t]).attr("id");window.GlobalPrintProperties.Prints[i].doDelete()}var o=window.GlobalPrintProperties.Prints,r=void 0;for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)&&(r=o[a]).selectedFields.length)break;if(r){window.GlobalPrintProperties.Print=r;for(var n=r.selectedFields,s=[],l=n.length-1;l>-1;l-=1){if(n[l].IsInSubTable)return;s.push(n[l]),r.removeField(n[l].Id);var d=ft(n[l].PairFieldCode);d&&(s.push(d),r.removeField(d.Id))}Bt.AddTrace(Bt.TraceType.Delete,s),r.selectedFields=[]}window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(!1)},Mt=function(){for(var e=ee()(window.GlobalPrintProperties.PrintContainer).find("."+Ee.WorkSpace),t=1;t<e.length;t+=1){var i=ee()(e[t]).attr("id");window.GlobalPrintProperties.Prints[i].doDelete()}window.GlobalPrintProperties.PrintProperty.UpdateDeleteState(!1)},Et=function(e){var t=window.GlobalPrintProperties.Print.selectedFields,i=[];if(t.forEach(function(e){if(e.PairFieldCode){var o=ft(e.PairFieldCode);t.find(function(e){return e.Code===o.Code})||(o.isSelected=!0,i.push(o))}}),window.GlobalPrintProperties.Print.selectedFields=t.concat(i),!Ke.Focus&&(37!==e.which&&38!==e.which&&39!==e.which&&40!==e.which||(clearTimeout(window.GlobalPrintProperties.keyEventTimeOut),window.GlobalPrintProperties.keyEventTimeOut=setTimeout(function(){Bt.MoveCheck(window.GlobalPrintProperties.Print.selectedFields)},1e3)),46===e.which?(e.preventDefault(),Wt()):37===e.which?(e.preventDefault(),Bt.MoveToLeft()):38===e.which?(e.preventDefault(),Bt.MoveToTop()):39===e.which?(e.preventDefault(),Bt.MoveToRight()):40===e.which&&(e.preventDefault(),Bt.MoveToBottom()),e.ctrlKey&&!e.altkey&&!e.shiftKey))if(90===e.which){if(e.preventDefault(),window.GlobalPrintProperties.VueInstance.isUndoDisabled)return;Bt.Undo(),window.GlobalPrintProperties.VueInstance.isUndoDisabled=!Bt.UndoTraceStack.length,window.GlobalPrintProperties.VueInstance.isRedoDisabled=!Bt.RedoTraceStack.length}else if(89===e.which){if(e.preventDefault(),window.GlobalPrintProperties.VueInstance.isRedoDisabled)return;Bt.Redo(),window.GlobalPrintProperties.VueInstance.isUndoDisabled=!Bt.UndoTraceStack.length,window.GlobalPrintProperties.VueInstance.isRedoDisabled=!Bt.RedoTraceStack.length}else 65===e.which?(e.preventDefault(),function(){for(var e=window.GlobalPrintProperties.Print.fields,t=0;t<e.length;t+=1)e[t].Select();window.GlobalPrintProperties.VueInstance.changeDeleteState(!0),window.GlobalPrintProperties.PrintProperty.DisplayProperties(window.GlobalPrintProperties.Print.fields)}()):67===e.which?(e.preventDefault(),Bt.CopyFields()):86===e.which&&(e.preventDefault(),Bt.PasteFields())};function jt(e,t,i,o){var r=e,a=t;r.PairFieldCode=a.Code,a.PairFieldCode=r.Code,r.PairPosition="left",a.PairPosition="right";var n=i.Width,s=n-i.MarginRight-i.MarginLeft+1;r.Width+a.Width>s&&(r.Width<=a.Width?(r.Width=84,a.Width=s-84):(a.Width=84,r.Width=s-84));var l=r.PointX+r.Width+a.Width-(n-i.MarginRight);l>0&&(r.PointX-=l);var d=yt({top:r.PointY,height:r.Height},o,"Form",!0);d.canPlace&&(r.PointY=d.top,r.Height=d.height),a.PointY=r.PointY,a.PointX=r.PointX+r.Width,a.Height=r.Height}function Nt(e){return e.PropertyType===Ae.Text&&!e.PairFieldCode}function Ut(e){return(e.PropertyType===Ae.Form||e.PropertyType===Ae.System)&&!e.PairFieldCode}var Vt=function(e){var t=[],i=[];se()(window.GlobalPrintProperties.Prints).forEach(function(e,i){t[i]=[]}),e.forEach(function(e){t[e.PageIndex-1].push(e)});var o=window.GlobalPrintProperties.pageSettings;return t.forEach(function(e){for(var t=[],r=e,a=function(){var e=r[0],i=-1,a=-3;e.Code&&"string"==typeof e.Code&&(a=Number(e.Code&&e.Code.split("Field")[1])),Ut(e)?(i=r.findIndex(function(t){return Nt(t)&&t.DataField===e.DataField&&t.Code==="Field"+(a-1)}))>=0&&jt(r[i],e,o,t):Nt(e)&&(i=r.findIndex(function(t){return Ut(t)&&t.DataField===e.DataField&&t.Code==="Field"+(a+1)}))>=0&&jt(e,r[i],o,t),-1!==i&&(t.push(r[i]),r.splice(i,1)),t.push(r[0]),r.splice(0,1)};r.length;)a();i=i.concat(t)}),i},Yt=i("bOdI"),Xt=i.n(Yt),Qt=i("Dd8w"),qt=i.n(Qt);function $t(e){var t=e;if(t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog)for(var i=t.Properties,o=0;o<i.length;o+=1){var r=Ft(i[o].Alignment.VerticalType),a=St(i[o].Font.FontSize);i[o].Font.FontSize<12?(ee()(i[o].htmlObject).css({fontSize:12}),ee()(i[o].htmlObject).attr("fs","fontSize"+i[o].Font.FontSize),ee()(i[o].htmlObject).find(".field-context").css({transform:"translatey("+r+") scale("+a+")"})):(ee()(i[o].htmlObject).removeAttr("fs"),ee()(i[o].htmlObject).css({fontSize:i[o].Font.FontSize}),ee()(i[o].htmlObject).find(".field-context").css({transform:"translatey("+r+")"})),ee()(i[o].htmlObject).css({fontWeight:i[o].Font.Bold?"bold":"normal",fontStyle:i[o].Font.Italic?"italic":"normal",color:i[o].Font.FontColor});var n=i[o].Font.UnderLine?"underline":"inherit";ee()(i[o].htmlObject).find(".field-context").css({textDecoration:n})}else if(t.Font.FontSize<12){var s=Ft(t.Alignment.VerticalType),l=St(t.Font.FontSize);ee()(t.htmlObject).css({fontSize:12}),ee()(t.htmlObject).find(".field-context").css({transform:"translatey("+s+") scale("+l+")"}),ee()(t.htmlObject).attr("fs","fontSize"+t.Font.FontSize),ee()(t.htmlObject).css({fontSize:t.Font.FontSize,fontWeight:t.Font.Bold?"bold":"normal",fontStyle:t.Font.Italic?"italic":"normal",color:t.Font.FontColor});var d=t.Font.UnderLine?"underline":"inherit";ee()(t.htmlObject).find(".field-context").css({textDecoration:d})}else{var c=Ft(t.Alignment.VerticalType);ee()(t.htmlObject).removeAttr("fs"),ee()(t.htmlObject).css({fontSize:t.Font.FontSize,fontWeight:t.Font.Bold?"bold":"normal",fontStyle:t.Font.Italic?"italic":"normal",color:t.Font.FontColor});var h=t.Font.UnderLine?"underline":"inherit";ee()(t.htmlObject).find(".field-context").css({textDecoration:h,transform:"translatey("+c+")"})}}function Jt(e){e.Font.FontSize<12?ee()(e.htmlObject).attr("fs","fontSize"+e.Font.FontSize):ee()(e.htmlObject).removeAttr("fs")}function Kt(e){ee()(e.htmlObject).find(".field-context").css(qt()({},function(e){var t="left",i="100%",o="initial",r="initial",a=e.Font.FontSize<12;return a&&(i="auto"),0===e.Alignment.HorizontalType?a&&(o=0):1===e.Alignment.HorizontalType?(t="center",i="100%"):2===e.Alignment.HorizontalType&&(t="right",a&&(r=0)),{textAlign:t,width:i,left:o,right:r}}(e),function(e){var t=St(e.Font.FontSize),i=e.Font.FontSize<12,o="initial",r=0,a="translatey(0)";return i&&(a="translatey(0) scale("+t+")"),1===e.Alignment.VerticalType?(r="50%",a=i?"translatey(-50%) scale("+t+")":"translatey(-50%)"):2===e.Alignment.VerticalType&&(o=0,r="initial"),{bottom:o,top:r,transform:a}}(e)))}function Zt(e){if(e.PropertyType===Ae.SubTable||e.PropertyType===Ae.WorkFlowLog)for(var t=e.Properties,i=0;i<t.length;i+=1)Jt(t[i]),Kt(t[i]);else Jt(e),Kt(e)}function ei(e,t){e.css(t)}function ti(e){var t={borderStyle:"dashed",borderWidth:1,borderColor:"#e1e1e1"};if(e.PropertyType!==Ae.SubTable&&e.PropertyType!==Ae.WorkFlowLog){if(t.borderColor="#e9c109",0===e.Border.BorderSize)ei(ee()(e.htmlObject),t);else if(e.Border.BorderSize>0)if(0===e.Border.BorderType?ei(ee()(e.htmlObject),t):e.Border.BorderType>=1&&(t.borderStyle="solid",t.borderWidth=e.Border.BorderSize,t.borderColor=e.Border.BorderColor,2===e.Border.BorderType&&(t.borderStyle="dashed"),ei(ee()(e.htmlObject),t)),"no-border-color"===e.Border.BorderColor&&(t.borderColor=e.Border.BorderColor,ei(ee()(e.htmlObject),t)),e.PropertyType===Ae.Line){var i=e.Width>e.Height?"borderTopWidth":"borderLeftWidth";ei(ee()(e.htmlObject),Xt()({borderWidth:0},i,e.Border.BorderSize))}else!function(e){e.Border.BorderTop||ee()(e.htmlObject).css({borderTopWidth:1,borderTopStyle:"dashed",borderTopColor:"#e9c109"}),e.Border.BorderRight||ee()(e.htmlObject).css({borderRightWidth:1,borderRightStyle:"dashed",borderRightColor:"#e9c109"}),e.Border.BorderBottom||ee()(e.htmlObject).css({borderBottomWidth:1,borderBottomStyle:"dashed",borderBottomColor:"#e9c109"}),e.Border.BorderLeft||ee()(e.htmlObject).css({borderLeftWidth:1,borderLeftStyle:"dashed",borderLeftColor:"#e9c109"})}(e)}else 0===e.Border.BorderSize?(ei(ee()(e.htmlObject).find(".table"),t),ei(ee()(e.htmlObject).find("tr td"),t)):e.Border.BorderSize>0&&(0===e.Border.BorderType?(t.borderColor="#e1e1e1",ei(ee()(e.htmlObject).find(".table"),t),ei(ee()(e.htmlObject).find("tr td"),t)):e.Border.BorderType>=1&&(t.borderStyle="solid",t.borderWidth=e.Border.BorderSize,t.borderColor=e.Border.BorderColor,2===e.Border.BorderType&&(t.borderStyle="dashed",ei(ee()(e.htmlObject).find(".table"),t)),ei(ee()(e.htmlObject).find("tr td"),t)))}function ii(e){ee()(e.htmlObject).css({background:e.FillColor})}function oi(e){if(e.PropertyType===Ae.SubTable||e.PropertyType===Ae.WorkFlowLog)for(var t=e.Properties,i=0;i<t.length;i+=1)ii(t[i]);(function(e){return e.IsInSubTable||e.PropertyType===Ae.Form||e.PropertyType===Ae.System||e.PropertyType===Ae.Text||e.PropertyType===Ae.Rectangle||e.PropertyType===Ae.CustomWorkFlowLog})(e)&&ii(e)}var ri=function e(t,i,o,r){var a,n,s,l=t;if("Text"===i){var d=""===l?window.GlobalPropertyData.data:l,c=d.Text;ee()(d.htmlObject).find(".field-context").text(c)}else if("Position"===i){if(r){var h=window.GlobalPropertyData.data,u=r,p=ee()(h.htmlObject).css("left"),f=h.PointX-parseInt(p,10);u.PointX+=f,ee()(u.htmlObject).css("left",u.PointX)}if(ee()(window.GlobalPropertyData.data.htmlObject).css({left:window.GlobalPropertyData.data.PointX,top:window.GlobalPropertyData.data.PointY}),o){var g=window.GlobalPropertyData.data.PointY;o.forEach(function(e){var t=e;t.PointY=g,ee()(t.htmlObject).css("top",g)})}}else if("Size"===i){if(window.GlobalPropertyData.data.IsInSubTable)return;if(r){var v=window.GlobalPropertyData.data,m=r,b=v.Width-ee()(v.htmlObject).outerWidth();m.PointX+=b,m.Width-=b,ee()(m.htmlObject).css("left",m.PointX).outerWidth(m.Width)}if(o){var P=window.GlobalPropertyData.data.Height;o.forEach(function(e){var t=e;t.Height=P,ee()(t.htmlObject).css("height",P)})}ee()(window.GlobalPropertyData.data.htmlObject).css({width:window.GlobalPropertyData.data.Width,height:window.GlobalPropertyData.data.Height}),(ee()(window.GlobalPropertyData.data.htmlObject).hasClass("field-barcode")||ee()(window.GlobalPropertyData.data.htmlObject).hasClass("field-qrcode"))&&(window.GlobalPropertyData.data.Height>window.GlobalPropertyData.data.Width?ee()(window.GlobalPropertyData.data.htmlObject).children(".icon").css("font-size",window.GlobalPropertyData.data.Width):ee()(window.GlobalPropertyData.data.htmlObject).children(".icon").css("font-size",window.GlobalPropertyData.data.Height))}else if("AddColumn"===i){for(var y=ee()(l.subTable.htmlObject).find("table")[0],w=y.rows.length,C=y.rows[0].cells.length,T=l.subTable.HeaderHeight,S=l.subTable.DefaultRowHeight,F=-1===l.columnIndex?C:l.columnIndex,x=0;x<w;x+=1)if(0===x||1===x){var D=y.rows[x].insertCell(F),k=(0===x?T:S)-2,B='<div class="field-in-subtab" data-controlkey="'+l.config.FieldName+'" data-type="'+l.config.FieldType+'" data-name="'+l.config.FieldDes+'" style="height:'+k+'px;"></div>',_=l.config.FieldDes;if(1===x){var A=l.config.FieldName;_=A===Le?1:A===ze?"":Re+l.config.FieldDes+Ie}B=ee()(B).empty().append(ee()("<div></div>").addClass("field-context").text(_)),ee()(D).append(B);var R={PropertyType:l.config.FieldType,Text:1===x?Re+l.config.FieldDes+Ie:l.config.FieldDes,DataField:l.config.FieldName,IsInSubTable:!0,OuterSubTable:l.subTable.DataField,TextSource:1===x?0:1,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0,Width:64},I=window.GlobalPrintProperties.Print.addField(ee()(B),R);if(ee()(I.htmlObject).parent().css({color:"#333",FontSize:12,fontWeight:"normal",fontStyle:"normal"}),0===x)l.subTable.Properties.splice(F,0,I);else{var O=F+C+1;l.subTable.Properties.splice(O,0,I)}}else y.rows[x].insertCell(F);l.subTable.Width+=64,ee()(l.subTable.htmlObject).css("width",l.subTable.Width),e(l.subTable,"border"),e(l,"UpdateColumnWidth")}else if("DeleteColumn"===i){for(var L=ee()(l.subTable.htmlObject).find("table")[0],z=L.rows.length,H=L.rows[0].cells.length,G=l.index,W=ee()(l.subTable.Properties[G].htmlObject).width(),M=0;M<z;M+=1)L.rows[M].deleteCell(G);l.subTable.Width-=W,ee()(l.subTable.htmlObject).css("width",l.subTable.Width),l.subTable.Properties.splice(G+H,1),l.subTable.Properties.splice(G,1)}else if("UpdateRows"===i){var E=ee()(l.subTable.htmlObject).find("table")[0],j=E.rows.length-1,N=l.subTable.PageSize,U=E.rows[0].cells.length;if(window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document)return;if(N<j)for(var V=j;V>N;V-=1)E.deleteRow(V);else if(N>j)for(var Y=j+1;Y<=N;Y+=1){var X=E.insertRow(Y);ee()(X).css("height",l.subTable.DefaultRowHeight);for(var Q=0;Q<U;Q+=1)X.insertCell(Q);ee()(X).find("td").css({borderWidth:l.subTable.Border.BorderSize,borderColor:l.subTable.Border.BorderColor}),0===l.subTable.Border.BorderType||2===l.subTable.Border.BorderType?ee()(X).find("td").css({borderStyle:"dashed"}):ee()(X).find("td").css({borderStyle:"solid"})}l.subTable.Height=ee()(E).height(),ee()(l.subTable.htmlObject).css({height:ee()(E).height()})}else if("UpdateColumnWidth"===i){var q=[],$=l.subTable.Properties.length/2;ee()(l.subTable.Properties).each(function(e){var t=ee()(this.htmlObject);this.Width=t.outerWidth(),e<$&&q.push(this.Width)}),ee()(l.subTable.Properties).each(function(e){e<$&&ee()(this.htmlObject).parent().css("width",q[e]+1)})}else if("UpdateHeaderHeight"===i){var J=ee()(l.subTable.htmlObject).find("table thead")[0],K=ee()(l.subTable.htmlObject).find(".printAll"),Z=l.subTable.HeaderHeight;ee()(l.subTable.Properties).each(function(){this.TextSource===Xe.FixedText&&(this.Height=Z-2,ee()(this.htmlObject).css("height",Z-2))}),ee()(J).find("tr:first").css("height",Z),l.subTable.Height=ee()(l.subTable.htmlObject).find("table").height()+(window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document?K.height()+2:0),ee()(l.subTable.htmlObject).css("height",l.subTable.Height)}else if("UpdateRowHeight"===i){var te=ee()(l.subTable.htmlObject).find("table tbody")[0],ie=te.rows.length,oe=l.subTable.DefaultRowHeight;ee()(l.subTable.Properties).each(function(){this.TextSource===Xe.FormDataField&&(this.Height=oe-2,ee()(this.htmlObject).css("height",oe-2))});for(var re=0;re<ie;re+=1)ee()(te.rows[re]).css("height",oe);var ae=l.subTable.DefaultRowHeight*ie+l.subTable.HeaderHeight;window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document&&(ae+=31),l.subTable.Height=ae,ee()(l.subTable.htmlObject).css("height",ae),l.changeDocType&&(ae=window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document?l.subTable.DefaultRowHeight+l.subTable.HeaderHeight+31:4*l.subTable.DefaultRowHeight+l.subTable.HeaderHeight),l.subTable.PointY+ae>Te.ContentEdgeBottom&&(l.subTable.PointY=Te.ContentEdgeBottom-ae,ee()(l.subTable.htmlObject).css("top",l.subTable.PointY))}else if("UpdateColumnTitle"===i)ee()(l.column.htmlObject).find(".field-context").text(l.column.Text);else if("SortTableColumn"===i){for(var ne=l.start,le=l.end,ce=l.subTable,he=!!l.onlyDom,ue=ce.Properties.length/2,pe=0;pe<2;pe+=1){var fe=ee()(ce.htmlObject).find("tr")[pe],ge=ee()(fe).find("td"),ve=ge[le];ne<le?ee()(ge[ne]).insertAfter(ve):ee()(ge[ne]).insertBefore(ve)}if(!he){var me=ce.Properties,be=me.splice(ne,1);me.splice(le,0,be[0]),ne+=ue,le+=ue,be=me.splice(ne,1),me.splice(le,0,be[0])}}else if("Align"===i){var Pe=t.fields;switch(t.type){case"alignToHorizon":a=ai(Pe),n=a.leftSelNode,s=a.fieldsObj,se()(s).forEach(function(e){var t=s[e],i=n.PointY;t.forEach(function(e){e.PointY=i,ee()(e.htmlObject).css("top",i)})});break;case"alignToVertical":!function(e){var t=e.leftSelNode,i=e.fieldsObj,o=t.PointX,r=window.GlobalPrintProperties.pageSettings,a=r.Width-r.MarginRight;se()(i).forEach(function(e){var t=i[e];if(1===t.length)t[0].PointX=o,o+t[0].Width>a&&(t[0].PointX=a-t[0].Width),ee()(t[0].htmlObject).css("left",t[0].PointX);else if(2===t.length){var r=t.find(function(e){return"left"===e.PairPosition}),n=t.find(function(e){return"right"===e.PairPosition});r&&n&&(o+r.Width+n.Width>a?(r.PointX=a-r.Width-n.Width,n.PointX=a-n.Width):(n.PointX=o+r.Width,r.PointX=o),ee()(n.htmlObject).css("left",n.PointX),ee()(r.htmlObject).css("left",r.PointX))}})}(ai(Pe));break;case"horizontalOffset":!function(e){e.sort(function(e,t){return e.PointX-t.PointX});var t=ni(e);if(!t)return;var i=t.firstLeftNode,o=t.firstRightNode,r=t.lastNode,a=t.centerNodes;o||(o=i);var n=new rt.a;a.forEach(function(e){n.has(e.Code)||n.has(e.PairFieldCode)||n.set(e.Code,[]),n.has(e.Code)&&n.set(e.Code,n.get(e.Code).concat(e)),n.has(e.PairFieldCode)&&n.set(e.PairFieldCode,n.get(e.PairFieldCode).concat(e))});var s=r.PointX-o.PointX-o.Width,l=[].concat(it()(n.values())),d=l.reduce(function(e,t){return t.reduce(function(e,t){return e+t.Width},e)},0),c=parseInt((s-d)/(n.size+1),10),h=window.GlobalPrintProperties.pageSettings,u=h.MarginLeft,p=h.Width-h.MarginRight;l.forEach(function(e,t){var r=void 0,a=void 0;if(0===t)a=i===o?i.Width:i.Width+o.Width,r=i.PointX+a+c;else{var n=l[t-1];a=n.reduce(function(e,t){return e+t.Width},0),r=n[0].PointX+a+c}r<u&&(r=u),r+e.reduce(function(e,t){return e+t.Width},0)>p&&(r=p-a),e.forEach(function(t,i){var o=0===i?r:r+e[i-1].Width;t.PointX=o,ee()(t.htmlObject).css("left",t.PointX)})})}(Pe);break;case"verticalOffset":!function(e){e.sort(function(e,t){return e.PointY-t.PointY});var t=ni(e);if(!t)return;var i=t.firstLeftNode,o=t.lastNode,r=t.centerNodes,a=new rt.a;r.forEach(function(e){a.has(e.Code)||a.has(e.PairFieldCode)||a.set(e.Code,[]),a.has(e.Code)&&a.set(e.Code,a.get(e.Code).concat(e)),a.has(e.PairFieldCode)&&a.set(e.PairFieldCode,a.get(e.PairFieldCode).concat(e))});var n=[].concat(it()(a.values())),s=o.PointY-i.PointY-i.Height,l=n.reduce(function(e,t){return e+t[0].Height},0),d=parseInt((s-l)/(a.size+1),10),c=window.GlobalPrintProperties.pageSettings,h=c.MarginTop,u=c.Height-c.MarginBottom;n.forEach(function(e,t){var o=0===t?i:n[t-1][0],r=o.PointY+o.Height+d;r<h&&(r=h),e.forEach(function(e){r+e.Height>u&&(r=u-e.Height),e.PointY=r,ee()(e.htmlObject).css("top",e.PointY)})})}(Pe);break;case"sameSize":!function(e){var t=e.leftSelNode,i=e.rightSelNode,o=e.fieldsObj,r=t.Width,a=t.Height,n=i.Width,s=window.GlobalPrintProperties.pageSettings,l=s.Width-s.MarginRight,d=s.Height-s.MarginBottom;se()(o).forEach(function(e){var t=o[e],i=t.find(function(e){return"left"===e.PairPosition}),s=t.find(function(e){return"right"===e.PairPosition});i&&s&&(i.Width=r,i.Height=a,s.Width=n,s.Height=a,s.PointX=i.PointX+r,i.PointX+r+n>l&&(i.PointX=l-r-n,s.PointX=l-n),i.PointY+a>d&&(i.PointY=d-a,s.PointY=d-a),ee()(i.htmlObject).css({width:r,height:a,left:i.PointX,top:i.PointY}),ee()(s.htmlObject).css({width:n,height:a,left:s.PointX,top:s.PointY}))})}(ai(Pe))}}else if("PageSetting"===i){var ye=window.GlobalPrintProperties.Prints,we=window.GlobalPrintProperties.pageSettings;for(var Ce in ye)if(Object.prototype.hasOwnProperty.call(ye,Ce)){var Se=ye[Ce];Se.workspace.css({width:we.Width,height:we.Height}),Se.workspace_content.css({top:we.MarginTop,bottom:we.MarginBottom,left:we.MarginLeft,right:we.MarginRight}),Ot(Se)}pt()}else if("BackGround"===i){var xe=window.GlobalPrintProperties.Prints,De=window.GlobalPrintProperties.pageSettings;for(var Be in xe)Object.prototype.hasOwnProperty.call(xe,Be)&&xe[Be].workspace.css("background-image","url("+De.BackGround+")")}else if("UpdateDocType"===i){var _e=window.GlobalPrintProperties.pageSettings.PrintDocType,Oe=window.GlobalPrintProperties.Prints;for(var He in Oe)if(Object.prototype.hasOwnProperty.call(Oe,He)){var Ge=Oe[He].fields,We=!0,Me=!1,Ee=void 0;try{for(var je,Ne=de()(Ge);!(We=(je=Ne.next()).done);We=!0){var Ue=je.value,Ve=ee()(Ue.htmlObject);if(Ue.PropertyType===Ae.SubTable||Ue.PropertyType===Ae.WorkFlowLog)if(Ue.DefaultRowHeight=Fe.DefaultRowHeight,e({subTable:Ue,changeDocType:!0},"UpdateRowHeight"),_e===Qe.Document){Ue.PageSize=1,Fe.PageSize=1,Ve.find("tbody tr:not(:first)").remove();Ve.append(ee()("<div class='printAll'>打印所有的列内容</div>"));var Ye=Ve.find("table").height()+Ve.find(".printAll").height()+2;Ue.Height=Ye,Ve.css("height",Ye)}else{Ve.find(".printAll").remove(),Ue.PageSize=4,Fe.PageSize=4;for(var qe="",$e=0;$e<Ue.PageSize-1;$e+=1){qe+='<tr style="height:'+Fe.DefaultRowHeight+'px;" class="select-subtab-tr">';for(var Ke=0;Ke<Ue.Properties.length/2;Ke+=1){var Ze="";0===Ue.Border.BorderType?Ze="dashed":1===Ue.Border.BorderType?Ze="solid":2===Ue.Border.BorderType&&(Ze="dashed"),qe+='<td style="border-width:'+Ue.Border.BorderSize+"px;border-color:"+Ue.Border.BorderColor+";border-style:"+Ze+';"></td>'}qe+="</tr>"}Ve.find("tbody tr:last").after(ee()(qe));var et=Ve.find("table").height();Ue.Height=et,Ve.css("height",et)}Ue.PropertyType===Ae.ImageControl&&(_e===Qe.Document?e(Ue,"imageNumber",null,null):Ve.removeClass("show-full"))}}catch(e){Me=!0,Ee=e}finally{try{!We&&Ne.return&&Ne.return()}finally{if(Me)throw Ee}}}}else if("LineDirection"===i){var tt=window.GlobalPropertyData.data,ot=ee()(tt.htmlObject);tt.Direction===Je.Horizontal.value?(ot.css({width:tt.Width+"px",height:tt.Border.BorderSize,borderWidth:0,borderTopWidth:tt.Border.BorderSize}),ot.removeClass(ke.Vertical).addClass(ke.Horizontal)):(ot.css({width:tt.Border.BorderSize,height:tt.Height+"px",borderWidth:0,borderLeftWidth:tt.Border.BorderSize}),ot.removeClass(ke.Horizontal).addClass(ke.Vertical))}else if("Image"===i)ee()(window.GlobalPropertyData.data.htmlObject).addClass("has-image"),ee()(window.GlobalPropertyData.data.htmlObject).find("img").attr("src",window.GlobalPropertyData.data.Value);else if("font"===i){$t(""===l?window.GlobalPropertyData.data:l)}else if("border"===i){ti(""===l?window.GlobalPropertyData.data:l)}else if("textAlign"===i){Zt(""===l?window.GlobalPropertyData.data:l)}else if("multiFont"===i)for(var at=window.GlobalPropertyMultiData.data,nt=0;nt<at.length;nt+=1)$t(at[nt]);else if("multiTextAlign"===i)for(var st=window.GlobalPropertyMultiData.data,lt=0;lt<st.length;lt+=1)Zt(st[lt]);else if("multiBorder"===i)for(var dt=window.GlobalPropertyMultiData.data,ct=0;ct<dt.length;ct+=1)ti(dt[ct]);else if("fillColor"===i){oi(""===l?window.GlobalPropertyData.data:l)}else if("multiFillColor"===i)for(var ht=window.GlobalPropertyMultiData.data,ut=0;ut<ht.length;ut+=1)oi(ht[ut]);else if("watermarkDisplay"===i)window.GlobalPropertyData.data.RotationDegrees?ee()(window.GlobalPropertyData.data.htmlObject).addClass("watermark-rotate"):ee()(window.GlobalPropertyData.data.htmlObject).removeClass("watermark-rotate");else if("imageNumber"===i){var ft=t||window.GlobalPropertyData.data;1===ft.ImageNumber?ee()(ft.htmlObject).addClass("show-full"):ee()(ft.htmlObject).removeClass("show-full")}else if("customLogProperty"===i){var gt=window.GlobalPropertyData.data;if(!gt.Contents.find(function(e){return e.Checked}))return void ee()(gt.htmlObject).find(".field-context").html("自定义日志");ee()(gt.htmlObject).find(".field-context").html(gt.Contents.reduce(function(e,t){return t.Checked&&(e+="${"+t.FieldDes+"}"),e},""))}};function ai(e){var t=e.shift(),i=void 0,o=e.findIndex(function(e){return e.PairFieldCode===t.Code});if(-1!==o){var r=e.splice(o,1);i=r[0],t.PointX>r[0].PointX&&(i=t,t=r[0])}var a=e.reduce(function(e,t){return e[t.Code]||e[t.PairFieldCode]||(e[t.Code]=[]),e[t.Code]&&e[t.Code].push(t),e[t.PairFieldCode]&&e[t.PairFieldCode].push(t),e},{});return{leftSelNode:t,rightSelNode:i,fieldsObj:a}}function ni(e){var t=e.shift(),i=e.findIndex(function(e){return e.PairFieldCode===t.Code}),o=null;if(-1!==i&&(o=e.splice(i,1)[0]),e.length<=1)return null;i=-1;var r=e.pop();if(-1!==(i=e.findIndex(function(e){return e.PairFieldCode===r.Code}))){var a=e.splice(i,1);a[0].PointX<r.PointX&&(r=a[0])}return 0===e.length?null:{firstLeftNode:t,firstRightNode:o,lastNode:r,centerNodes:e}}function si(){ee()(".content").on("mousedown.field",".field-modal",function(e){e.preventDefault(),ee()("input").blur();var t=ee()(this).data();if(void 0!==t.type&&t.type.toString()&&!be.DraggingProxy&&!ee()(this).hasClass("field-modal-disabled")){var i=window.GlobalPrintProperties.Print.fields;if("WorkFlowLog"===t.controlkey&&i.find(function(e){return"WorkFlowLog"===e.DataField}))window.GlobalPrintProperties.VueInstance.$message({message:"不支持添加多个流程日志",showClose:!0,type:"warning"});else{be.DraggingFieldModel=t,be.DraggingProxy=function(e){var t="";if(e.type===Ae.Form||e.type===Ae.System)t='<div style="width: 168px; height: 30px; line-height: 30px;">\n              <div class="item left-label">'+e.name+'</div><div class="item right-context">'+Re+e.name+Ie+"</div>\n            </div>";else if(e.type===Ae.SubTable||e.type===Ae.WorkFlowLog){var i=[],o=[],r=6;e.type===Ae.WorkFlowLog?(r=7,o=window.GlobalPrintProperties.allFields[3].FieldItems):o=window.GlobalPrintProperties.allFields[0].FieldItems;for(var a=o.length,n=0;n<a;n+=1)e.controlkey===o[n].FieldName&&(i=o[n].Children);t+='<div class="tableContainer" style="width:'+64*(a=(a=(i=i.slice(1,i.length-1)).length)>r?r:a)+'px;height: auto;border:0;">\n              <table style="width:100%;" cellspacing="0" cellpadding="0" border="1" class="table">\n                <thead>\n                  <tr style="height:30px;">';for(var s=0;s<a;s+=1)t+='<td>\n          <div class="field-in-subtab" data-controlkey="'+i[s].FieldName+'" \n            data-type="'+i[s].FieldType+'" data-name="'+i[s].FieldDes+'" \n            style="height:28px;">'+i[s].FieldDes+"\n          </div>\n        </td>";t+='</tr>\n          </thead>\n          <tbody>\n            <tr style="height:30px;">';for(var l=0;l<a;l+=1)t+='<td>\n          <div class="field-in-subtab" data-controlkey="'+i[l].FieldName+'" \n          data-type="'+i[l].FieldType+'" data-name="'+i[l].FieldDes+'" \n          style="height:28px;">'+Re+i[l].FieldDes+Ie+"\n          </div>\n        </td>";if(t+="</tr>",ee()("#ckTemplateTypeA").prop("checked"))for(var d=0;d<Fe.PageSize-1;d+=1){t+='<tr style="height:'+Fe.DefaultRowHeight+'px;" \n          class="select-subtab-tr">';for(var c=0;c<a;c+=1)t+="<td></td>";t+="</tr>"}t+="</tbody>\n            </table>",ee()("#ckTemplateTypeB").prop("checked")&&(t+="<div class='printAll'>打印所有的列内容</div>"),t+='<div class="border-active"></div>\n            <div>'}else e.type===Ae.QrCode?t='<div style="width: 99px; height: 99px; text-align: center;">\n              <i class="icon h3yun_All qrcode-o" style="font-size: 97px;"></i>\n            </div>':e.type===Ae.BarCode?t='<div style="width: 124px; height: 107px; text-align: center;">\n              <i class="icon h3yun_All barcode-o" style="font-size: 107px;"></i>\n            </div>':e.type===Ae.Text?t='<div style="width: 108px; height: 30px; line-height: 30px;">\n              <div class="item field-context eeeee doc-text"  style="width: 100%;">'+e.name+"</div>\n            </div>":e.type===Ae.Rectangle?t='<div style="width: 108px; height: 30px; line-height: 30px;">\n              <div class="item field-context">'+e.name+"</div>\n            </div>":e.type===Ae.Line?t='<div style="width: 108px; height: 1px;border: 0; border-top: 1px solid #1890ff; box-sizing: border-box;"></div>':e.type===Ae.FlowSeal?t='<div class="field-flowSeal" style="width: 95px; height: 77px; text-align: center;">\n              <img src="'+ve+'static/images/seal.png" style="width:100%;height:100%" />\n            </div>':e.type===Ae.Image?t='<div class="field-image" style="width:100px;height:88px;">\n              <img src="'+ve+'static/images/pic.png" style="width: 100%; height: 100%;"/>\n            </div>':e.type===Ae.ImageControl?t='<div class="field-image" style="width:100px;height:88px;">\n              <img src="'+ve+'static/images/pic.png" style="width: 100%; height: 100%; max-width:100px;" class="single-img">\n              <img src="'+ve+'static/images/pic.png" style="width: 24%; height: 100%; max-width:100px;" class="full-img">\n              <img src="'+ve+'static/images/pic.png" style="width: 24%; height: 100%; max-width:100px;" class="full-img">\n              <img src="'+ve+'static/images/pic.png" style="width: 24%; height: 100%; max-width:100px;" class="full-img">\n              <img src="'+ve+'static/images/pic.png" style="width: 24%; height: 100%; max-width:100px;" class="full-img">\n            </div>':e.type===Ae.TextWatermark?t='<div style="width: 200px; height: 30px; line-height: 30px; font-size:28px;">\n              <div class="item field-context  eeeee"  style="width: 100%;">'+e.name+"</div>\n            </div>":e.type===Ae.ImageWatermark?t='<div class="field-image" style="width:100px;height:88px;">\n              <img src="'+ve+'static/images/pic.png" style="width: 100%; height: 100%;"/>\n            </div>':e.type===Ae.CustomWorkFlowLog?t='<div style="width: 84px; height: 30px; line-height: 30px;">\n              <div class="field-context eeeee" style="width: 100%;">'+e.name+"</div>\n            </div>":e.type===Ae.FormHandSign&&(t='<div class="field-hand-sign" style="width: 120px; height: 48px;">\n              <img src="'+ve+'static/images/hand-sign.png" style="width: 100%; height: 100%;max-width:114px;"/>\n            </div>');return ee()(t)}(t).addClass(ye.FieldModelDragProxy).css("left",Math.ceil(ee()(e.target).offset().left)).css("top",Math.ceil(ee()(e.target).offset().top)).bind("mousedown.fielddrag",function(e){e.preventDefault()}).appendTo(document.body);var o=1e4,r=1e4,a=[],n=window.GlobalPrintProperties.Prints;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var l=n[s].SVG;1e4===o&&(o=l.offset().left,r=o+l.width());var d=l.offset().top;a.push([d,d+l.height(),s])}var c=ee()(be.DraggingProxy).width(),h=ee()(be.DraggingProxy).height(),u=ee()(window.GlobalPrintProperties.PrintContainer).find("."+Ee.WorkSpace+":first"),p="none"===u.css("background-image")||u.css("background-image").indexOf(window.location.href)>-1;ee()(document).bind("mousemove.fielddrag",function(e){var t,i,n,s=(t=e||window.event,i=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,{x:t.pageX||t.clientX+i,y:t.pageY||t.clientY+n}),l=s.x-20,d=s.y-20;ee()(be.DraggingProxy).animate({left:l,top:d},0);var u=!1,f="";if(l+c>o&&l<r)for(var g=0;g<a.length;g+=1){var v=a[g];d+h>v[0]&&d<v[1]&&(u=!0,f=v[v.length-1])}u?(p&&ee()("#"+f).addClass(Ee.WorkSpaceActive),ee()(be.DraggingProxy).addClass(ye.FieldModelDragProxyInner)):(ee()("."+Ee.WorkSpace).removeClass(Ee.WorkSpaceActive),ee()(be.DraggingProxy).removeClass(ye.FieldModelDragProxyInner))}),ee()(document).one("mouseup.fielddrag",function(){ee()("."+Ee.WorkSpace).removeClass(Ee.WorkSpaceActive);var e=void 0;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i];if(ee()(be.DraggingProxy).partInRangeOf(o.workspace_content)){e=o;break}}var r=!1;e&&(r=ee()(be.DraggingProxy).partInRangeOf(e.workspace)),r?(window.GlobalPrintProperties.Print=e,function(e,t){for(var i=window.GlobalPrintProperties.Print.fields,o=0;o<i.length;o+=1)i[o].Border.BorderSize<1?ee()(i[o].htmlObject).css({borderColor:"#e1e1e1"}):i[o].Border.BorderSize>0&&0===i[o].Border.BorderType&&ee()(i[o].htmlObject).css({borderColor:"#e1e1e1"}),i[o].Border.BorderTop||ee()(i[o].htmlObject).css({borderTopColor:"#e1e1e1"}),i[o].Border.BorderRight||ee()(i[o].htmlObject).css({borderRightColor:"#e1e1e1"}),i[o].Border.BorderBottom||ee()(i[o].htmlObject).css({borderBottomColor:"#e1e1e1"}),i[o].Border.BorderLeft||ee()(i[o].htmlObject).css({borderLeftColor:"#e1e1e1"});var r=t,a=e;if(Ue.FieldsInRange=[],!r)for(var n in window.GlobalPrintProperties.Prints)if(Object.prototype.hasOwnProperty.call(window.GlobalPrintProperties.Prints,n)){r=window.GlobalPrintProperties.Prints[n];break}if(r){var s=ee()(be.DraggingProxy).offset(),l=window.GlobalPrintProperties.pageSettings,d=ee()(be.DraggingProxy).width(),c=ee()(be.DraggingProxy).height(),h=void 0,u=void 0;if(s){h=Math.ceil(s.top-ee()(r.workspace).innerTop()),u=Math.ceil(s.left-ee()(r.workspace).innerOffsetLeft());var p=l.MarginLeft,f=l.MarginTop,g=l.Width-l.MarginRight-d,v=l.Height-l.MarginBottom-c;u>g&&(u=g),h>v&&(h=v),u<p&&(u=p),h<f&&(h=f)}d=st(d),c=st(c);var m=[];if(a.type===Ae.Form||a.type===Ae.System){var b=yt({top:h,height:c},i,"Form");if(!b.canPlace)return void ee()(be.DraggingProxy).remove();c=Number(b.height),h=Number(b.top);var P=ee()(be.DraggingProxy).clone().empty().append(ee()(be.DraggingProxy).find(".left-label").attr("class","").addClass("field-context")).css({top:h,left:u,width:d/2,height:c}).addClass(Pe.FieldSelected).appendTo(r.workspace).removeClass(ye.FieldModelDragProxy),y={PropertyType:Ae.Text,Text:a.name,DataField:a.controlkey,TextSource:Xe.FixedText,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0,PairFieldCode:"",PairPosition:"left"},w=r.addField(P,y);Ue.FieldsInRange.push(w),m.push(w),w.Select(!0);var C=ee()(be.DraggingProxy).clone().empty().append(ee()(be.DraggingProxy).find(".right-context").attr("class","").addClass("field-context")).css({top:h,left:u+d/2,width:d/2,height:c}).appendTo(r.workspace).removeClass(ye.FieldModelDragProxy);if(!localStorage.getItem("hasFormSystem")&&(localStorage.setItem("hasFormSystem",!0),C.append(""),h<90)){var T=123-h;ee()(window.GlobalPrintProperties.PrintContainer).css("padding-top",T+"px"),ee()(".fsTop-guide").addClass("hasPadding")}y={PropertyType:a.type,Text:Re+a.name+Ie,DataField:a.controlkey,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0,PairFieldCode:"",PairPosition:"right"};var S=r.addField(C,y);Ue.FieldsInRange.push(S),m.push(S),w.PairFieldCode=S.Code,S.PairFieldCode=w.Code,ee()(be.DraggingProxy).remove()}else if(a.type===Ae.SubTable||a.type===Ae.WorkFlowLog){if(!yt({top:h,height:c},i,"subTable").canPlace)return void ee()(be.DraggingProxy).remove();if(ee()(be.DraggingProxy).css({top:h,left:u,width:d}).appendTo(r.workspace).addClass(Pe.SubTableField,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy),!localStorage.getItem("hasTable")&&(localStorage.setItem("hasTable",!0),ee()(be.DraggingProxy).append(""),h<90)){var F=123-h;ee()(window.GlobalPrintProperties.PrintContainer).css("padding-top",F+"px"),ee()(".tbTop-guide").addClass("hasPadding")}0===window.GlobalPrintProperties.pageSettings.PrintDocType&&(Fe.PageSize=1);var x={PropertyType:a.type,Text:a.name,DataField:a.controlkey,TextSource:Xe.FormDataField,Properties:[],PageSize:Fe.PageSize,HeaderHeight:st(Fe.HeaderHeight),DefaultRowHeight:st(Fe.DefaultRowHeight),PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},D=r.addField(be.DraggingProxy,x);Ue.FieldsInRange.push(D);var k=ee()(D.htmlObject).find("tr"),B=st(30),_=ee()(k[0]).css({height:B}).find("td>div"),A=ee()(k[1]).css({height:B}).find("td>div");if(_&&_.length){for(var R=0;R<_.length;R+=1){var I=ee()(_[R]).data(),O=ee()(_[R]).text(),L=ee()(_[R]).empty().css({height:B-2}).append(ee()("<div></div>").addClass("field-context").text(O)),z={PropertyType:I.type,Text:I.name,DataField:I.controlkey,IsInSubTable:!0,OuterSubTable:D.DataField,TextSource:Xe.FixedText,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0};D.Properties.push(r.addField(L,z))}for(var H=0;H<A.length;H+=1){var G=ee()(A[H]).data(),W=ee()(A[H]).text(),M=ee()(A[H]).empty().css({height:B-2}).append(ee()("<div></div>").addClass("field-context").text(W)),E={PropertyType:G.type,Text:Re+G.name+Ie,DataField:G.controlkey,IsInSubTable:!0,OuterSubTable:D.DataField,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0};D.Properties.push(r.addField(M,E))}for(var j=k.length,N=2;N<j;N+=1)ee()(k[N]).css({height:B})}D.Select(!0),m.push(D),ri({subTable:D},"UpdateColumnWidth")}else if(a.type===Ae.QrCode||a.type===Ae.BarCode){var U=a.type===Ae.QrCode?Pe.QrCodeField:Pe.BarCodeField,V=d>c?c:d;ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(U,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy).find("i").css("font-size",V);var Y={PropertyType:a.type,Text:a.name,DataField:a.controlkey,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0};a.type===Ae.QrCode?pe()(Y,Y,{QrCodeSource:xe.FormDataView,QrCodeContent:"",QrCodeContentArray:[]}):pe()(Y,Y,{BarCodeSource:De.FormDataField,BarCodeContent:"",BarCodeContentArray:[]});var X=r.addField(be.DraggingProxy,Y);Ue.FieldsInRange.push(X),m.push(X),X.Select(!0)}else if(a.type===Ae.Text||a.type===Ae.TextWatermark||a.type===Ae.CustomWorkFlowLog||a.type===Ae.FormHandSign){var Q=a.type===Ae.TextWatermark?Pe.WatermarkField:Pe.TextField;ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(Q,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var q={PropertyType:a.type,Text:a.name,DataField:a.controlkey,TextSource:Xe.FixedText,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0,Font:{FontSize:12}};a.type===Ae.TextWatermark&&(q.RotationDegrees=_e.Normal,q.Font.FontSize=28);var $=r.addField(be.DraggingProxy,q);Ue.FieldsInRange.push($),m.push($),$.Select(!0)}else if(a.type===Ae.Rectangle){ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(Pe.RectangleField,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var J={PropertyType:a.type,Text:a.name,DataField:a.controlkey,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},K=r.addField(be.DraggingProxy,J);Ue.FieldsInRange.push(K),m.push(K),K.Select(!0)}else if(a.type===Ae.Line){ee()(be.DraggingProxy).attr("style","").css({top:h,left:u,width:d}).appendTo(r.workspace).addClass(Pe.LineField,ke.Horizontal,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var Z={PropertyType:a.type,Text:a.name,DataField:a.controlkey,TextSource:Xe.FormDataField,Direction:0,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},te=r.addField(be.DraggingProxy,Z);Ue.FieldsInRange.push(te),m.push(te),te.Select(!0)}else if(a.type===Ae.Image||a.type===Ae.ImageWatermark){var ie=a.type===Ae.TextWatermark?Pe.WatermarkField:Pe.TextField;ee()(be.DraggingProxy).remove(),ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(ie,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var oe={PropertyType:a.type,Text:a.name,Value:a.url,DataField:a.controlkey,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},re=r.addField(be.DraggingProxy,oe);Ue.FieldsInRange.push(re),m.push(re),re.Select(!0)}else if(a.type===Ae.FlowSeal){ee()(be.DraggingProxy).remove(),ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(Pe.TextField,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var ae={PropertyType:a.type,Text:a.name,DataField:a.controlkey,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},ne=r.addField(be.DraggingProxy,ae);Ue.FieldsInRange.push(ne),m.push(ne),ne.Select(!0)}else if(a.type===Ae.ImageControl){ee()(be.DraggingProxy).remove(),ee()(be.DraggingProxy).css({top:h,left:u,width:d,height:c}).appendTo(r.workspace).addClass(Pe.TextField,Pe.FieldSelected,Pe.FieldSelectedFirst).removeClass(ye.FieldModelDragProxy);var se={PropertyType:a.type,Text:a.name,Value:a.url,DataField:a.controlkey,TextSource:Xe.FormDataField,PrintAtFirst:!0,PrintAtMiddle:!0,PrintAtLast:!0},le=r.addField(be.DraggingProxy,se);Ue.FieldsInRange.push(le),m.push(le),le.Select(!0)}Ue.FieldsInRange.length?window.GlobalPrintProperties.PrintProperty.DisplayProperties(Ue.FieldsInRange[0]):window.GlobalPrintProperties.PrintProperty.DisplayProperties(),Bt.AddTrace(Bt.TraceType.Content,m)}}(t,e),window.GlobalPrintProperties.PrintProperty.UpdateDeleteState()):ee()(be.DraggingProxy).remove(),be.DraggingProxy=null,ee()(document).unbind("mousemove.fielddrag")})}}})}var li=function(){};function di(e){e||gt(window.GlobalPrintProperties.pageSettings,"getPxFromMm");1!==window.GlobalPrintProperties.Zoom&&gt(window.GlobalPrintProperties.pageSettings,"getZoomValue");window.GlobalPrintProperties.PrintProperty=new li,si();var t=!1;for(var i in window.GlobalPrintProperties.Prints)Object.prototype.hasOwnProperty.call(window.GlobalPrintProperties.Prints,i)&&(Gt(i),t||(t=!0,window.GlobalPrintProperties.Print=window.GlobalPrintProperties.Prints[i]));if(t)if(window.GlobalPrintProperties.pageSettings.IsNewTemplate)Ht.LoadPrint(e);else{var o=Vt(e);Ht.LoadPrint(o)}else Ht.InitPrint(te());window.GlobalPrintProperties.pageSettings.PrintDocType===Qe.Document&&ee()(window.GlobalPrintProperties.PageAdd).show(),pt()}li.prototype.DisplayProperties=function(e){return window.GlobalPrintProperties.Print.showProperty(0),ee()(Ge).scrollTop=0,e?e.length&&e.length>1?(window.GlobalPrintProperties.VueInstance.showProperty(100),setTimeout(function(){window.GlobalPrintProperties.VueInstance.showProperty(Ae.MultiPropertyCode)},60),window.GlobalPropertyData.data={},void(window.GlobalPropertyMultiData.data=e)):void(window.GlobalPropertyData.data&&window.GlobalPropertyData.data.PropertyType!==Ae.NoField&&window.GlobalPropertyData.data.Code===e.Code||(window.GlobalPropertyData.data=e,window.GlobalPrintProperties.VueInstance.showProperty(100),setTimeout(function(){window.GlobalPrintProperties.VueInstance.showProperty(e.PropertyType)},60))):(window.GlobalPrintProperties.VueInstance.showProperty(Ae.NoField),void(window.GlobalPropertyData.data={}))},li.prototype.UpdateDeleteState=function(e){var t=e;if(!0!==t&&!1!==t){if(t=!1,ee()(window.GlobalPrintProperties.PrintContainer).find("."+Ee.SelectSpace).length&&(t=!0),!t){var i=window.GlobalPrintProperties.Prints;for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&i[o].selectedFields.length){t=!0;break}}window.GlobalPrintProperties.VueInstance.changeDeleteState(t)}else window.GlobalPrintProperties.VueInstance.changeDeleteState(t)};var ci=i("mvHQ"),hi=i.n(ci),ui=i("pFYg"),pi=i.n(ui),fi=i("//Fk"),gi=i.n(fi),vi=this;function mi(){var e="";e+=' <div class="warn-top-nav" id="warntop">',e+='<div><span class="el-icon-close closewaninghtml" id="closewaninghtml"></span></div>',e+='<div class="warningpart">',e+='<div class="warntitle">系统正在维护更新</div>',e+='<div class="smalltitle">稍等1-3分钟，马上回来，更新之后更任性～</div>',e+='<img src="static/images/updatewarning/updatewarning.png" /></div></div>',ee()("#warntop").remove(),ee()("body").append(e)}ee()(document).on("click","#closewaninghtml",function(){ee()("#warntop").remove()});var bi,Pi=(bi=ge()(he.a.mark(function e(){var t,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return he.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.toUpperCase(),i=""+o,e.abrupt("return",new gi.a(function(e,o){ee.a.ajax({url:i,method:t,data:r,dataType:"json",async:n,success:function(t){t.Logined||window.location.href.indexOf("localhost")<0&&(window.location.href="/Login/");var i=t;"object"!==(void 0===i?"undefined":pi()(i))&&(i=JSON.parse(i)),e(i),!t.Successful&&t.ErrorMessage.indexOf("MetadataLocked")>-1&&mi()},error:function(e){e.responseJSON&&e.responseJSON.ErrorMessage.indexOf("MetadataLocked")>-1&&mi(),o(e)}})}));case 3:case"end":return e.stop()}},e,vi)})),function(){return bi.apply(this,arguments)}),yi=function(){return Pi("/Console/App/OnAction",{PostData:hi()({ActionName:"GetUserInfo"})})},wi=function(e,t,i,o){var r={SchemaCode:e,PageSetting:i||window.GlobalPrintProperties.pageSettings,Properties:o},a={ActionName:"DoSave",PrintTemplateCode:t,HtmlContent:"",PrintTemplate:hi()(r)};return Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(a)},"POST")},Ci=function(e,t,i,o){var r={ActionName:"UpLoadImage",PrintTemplateCode:t,SchemaCode:e,Image:i,Field:o};return Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(r)},"POST")},Ti=function(e,t,i,o,r){var a={SchemaCode:t,PageSetting:o||window.GlobalPrintProperties.pageSettings,Properties:r},n={ActionName:"PreviewPdf",ActionGuid:e,SchemaCode:t,PrintTemplateCode:i,PrintTemplate:hi()(a)};return Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(n)},"POST")},Si=function(){return Pi("/Navigation/OnAction",{PostData:hi()({ActionName:"GetCustomerInfo"})},"POST")},Fi={data:function(){return{isshow:!1,msg:"",interval:null,msgId:"",corporationEnginCode:""}},mounted:function(){this.getUserEnginInfo()},methods:{getUserEnginInfo:function(){var e=this;return ge()(he.a.mark(function t(){var i;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yi();case 2:(i=t.sent).Successful&&(e.corporationEnginCode=i.ReturnData.EngineCode,e._getNotify(),e.hubconnection());case 4:case"end":return t.stop()}},t,e)}))()},_getNotify:function(){var e=this;return ge()(he.a.mark(function t(){var i,o;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=e.corporationEnginCode,void 0,a={ActionName:"GetNotify",EngineCode:r},Pi("/Console/StopServiceNotify/OnAction",{PostData:hi()(a)},"POST");case 2:i=t.sent,o=window.localStorage,i.Successful&&null!==i.ReturnData.Data&&0!==i.ReturnData.Data.length&&o.id!==i.ReturnData.Data[0].Id&&(e.msg=unescape(i.ReturnData.Data[0].Content),e.isshow=!0,e.msgId=i.ReturnData.Data[0].Id);case 5:case"end":return t.stop()}var r,a},t,e)}))()},hubconnection:function(){var e=this;this.interval=setInterval(function(){e._getNotify()},3e5)},hindport:function(){window.localStorage.id=this.msgId,this.isshow=!1}},beforeDestroy:function(){this.interval&&clearInterval(this.interval)}},xi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"markpart",attrs:{id:"markpart"}},[i("div",{staticClass:"marktitle"},[e._v("\n      停服更新公告\n    ")]),e._v(" "),i("div",{staticClass:"markcontent"},[i("div",{staticClass:"contentitem"},[e._v("\n        "+e._s(e.msg)+"\n      ")])]),e._v(" "),i("div",{staticClass:"marbutton",attrs:{id:"marbutton"},on:{click:e.hindport}},[i("span",{staticClass:"bcontent"},[e._v("确认")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isshow,expression:"isshow"}],staticClass:"leavemark"})])},staticRenderFns:[]};var Di=i("VU/8")(Fi,xi,!1,function(e){i("94/p")},"data-v-46c0bbdd",null).exports,ki={props:{title:{type:String},schemaCode:{type:String}},data:function(){return{CurUser:{Name:"",ProfilePhotoUrl:""},CurEngineCode:"",OptionalEngines:{},ShowEngineOptions:!1}},created:function(){this.getUserEnginInfo()},computed:{optionalEnginesCount:function(){return se()(this.OptionalEngines).length},isProduction:function(){return!0}},components:{Warning:Di},methods:{getUserEnginInfo:function(){var e=this;return ge()(he.a.mark(function t(){var i;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yi();case 2:(i=t.sent).Successful&&(e.CurUser=i.ReturnData.CurUser,e.CurEngineCode=i.ReturnData.EngineCode,e.OptionalEngines=i.ReturnData.OptionalEngines);case 4:case"end":return t.stop()}},t,e)}))()},goBack:function(){this.isProduction&&(window.location.href="../pc/sheetsettings.html?id="+this.schemaCode)},toggleEngine:function(e){document.cookie="EngineCode="+e+";path=/",window.location.href="/Login/Index?enginecode="+e}}},Bi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"designer-nav-box"},[i("div",{staticClass:"sheet-title",domProps:{textContent:e._s(e.title)}}),e._v(" "),i("div",{staticClass:"right-tabs"},[i("ul",{staticClass:"right-tab"},[e._m(0),e._v(" "),i("li",{staticClass:"user"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.ShowEngineOptions,expression:"ShowEngineOptions"}],staticClass:"mask",on:{click:function(t){e.ShowEngineOptions=!e.ShowEngineOptions}}}),e._v(" "),i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){e.ShowEngineOptions=!e.ShowEngineOptions}}},[e.CurUser.ProfilePhotoUrl?i("div",{staticClass:"user-avatar"},[i("img",{staticClass:"media-object img-circle",staticStyle:{width:"22px",height:"22px","border-radius":"50%"},attrs:{src:e.CurUser.ProfilePhotoUrl}})]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ShowEngineOptions,expression:"ShowEngineOptions"}],staticClass:"optionengines"},[i("ul",[e._l(e.OptionalEngines,function(t,o){return i("li",{key:o,class:{onlyOneEngine:1==e.OptionalEngines.length,isCurEngine:o==e.CurEngineCode},on:{click:function(t){return e.toggleEngine(o)}}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t\t\t\t\t")])}),e._v(" "),e.optionalEnginesCount>1?i("li",{staticClass:"divider",staticStyle:{height:"17px","border-top":"1px solid #EDEDED"}}):e._e(),e._v(" "),i("li",{staticClass:"logout",attrs:{onclick:"window.location.href='/Login/Logout'"}},[e._v("注销")])],2)])])])])]),e._v(" "),i("warning")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"help"},[t("a",{attrs:{href:"http://help.h3yun.com/channels/773.html",target:"help"}},[t("span",{staticClass:"h3yun_All question-circle-o"}),this._v(" "),t("span",[this._v("帮助")])])])}]};var _i=i("VU/8")(ki,Bi,!1,function(e){i("2AR/")},"data-v-5030f83a",null).exports,Ai={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nofield-property"},[this._v("\n    请先选择或者拖入控件\n")])},staticRenderFns:[]};var Ri=i("VU/8")({name:"NoField",data:function(){return{}},created:function(){}},Ai,!1,function(e){i("A8Uu")},"data-v-5936a597",null).exports,Ii={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"transition-property"})},staticRenderFns:[]};var Oi=i("VU/8")({name:"Transition",data:function(){return{}},created:function(){}},Ii,!1,function(e){i("44v0")},"data-v-d78c5794",null).exports,Li={name:"TemplateProperty",props:{printDocType:{type:Number,default:0},flag:{type:Number},isDownload:{type:Boolean},PrintHeadRepeatedly:{type:Boolean},rowSpaceProp:{type:Number}},data:function(){return{TemplateType:-1,isTemplateDownLoad:!1,repeatHead:!1,rowSpace:10}},created:function(){},methods:{templateDownLoad:function(){window.GlobalPrintProperties.pageSettings.IsDownload=!this.isTemplateDownLoad},repeatChildHead:function(){window.GlobalPrintProperties.pageSettings.PrintHeadRepeatedly=this.repeatHead,this.$emit("repeat-head-change",this.repeatHead)},changeRowSpace:function(){this.rowSpace=""===this.rowSpace?10:this.rowSpace;var e=Number(this.rowSpace);this.rowSpace=e>50?50:e,window.GlobalPrintProperties.pageSettings.rowSpace=this.rowSpace,this.$emit("row-space-change",this.rowSpace)},filterNumber:function(){this.rowSpace=this.rowSpace.replace(/[^\d]/g,"")}},watch:{PrintHeadRepeatedly:function(e){this.repeatHead=e},rowSpaceProp:function(e){this.rowSpace=e},printDocType:function(){this.TemplateType=this.printDocType,1===this.TemplateType&&(this.repeatHead=!1,this.repeatChildHead())},TemplateType:function(e,t){if(-1!==t){var i=this;if(window.GlobalPrintProperties.pageSettings.PrintDocType=e,e){var o=0,r=window.GlobalPrintProperties.Prints;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(o+=1);o<=1?(Mt(),window.GlobalPrintProperties.PageAdd.style.display="none"):this.$confirm("若切换该模板类型，超出第一页模板的数据将会被清除。","确认要切换吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(e){"confirm"===e?(Mt(),window.GlobalPrintProperties.PageAdd.style.display="none",Bt.UndoTraceStack=[],window.GlobalPrintProperties.VueInstance.isUndoDisabled=!0,Bt.RedoTraceStack=[],window.GlobalPrintProperties.VueInstance.isRedoDisabled=!0):"cancel"===e&&(i.TemplateType=0,window.GlobalPrintProperties.pageSettings.PrintDocType=0,window.GlobalPrintProperties.PageAdd.style.display="block")}}),window.GlobalPrintProperties.Print.selectedFields.length>0&&window.GlobalPrintProperties.PrintProperty.UpdateDeleteState()}else window.GlobalPrintProperties.PageAdd.style.display="block";this.$root.eventHub.$emit("PrintDocType.change",1),this.$emit("doc-type-change",e),ri("","UpdateDocType")}},isDownload:function(e){this.isTemplateDownLoad=!e}}},zi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("div",{staticClass:"property-group"},[i("div",{staticClass:"property-item property-title"},[e._v("模板类型")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[i("li",[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.TemplateType,expression:"TemplateType"}],staticClass:"ckTemplateType",attrs:{type:"radio",name:"TemplateType",id:"ckTemplateTypeA"},domProps:{value:1,checked:e._q(e.TemplateType,1)},on:{change:function(t){e.TemplateType=1}}}),e._v(" "),i("label",{staticClass:"radio-inline",attrs:{for:"ckTemplateTypeA"}},[e._v("套打类")])]),e._v(" "),e._m(0)]),e._v(" "),i("li",[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.TemplateType,expression:"TemplateType"}],staticClass:"ckTemplateType",attrs:{type:"radio",name:"TemplateType",id:"ckTemplateTypeB"},domProps:{value:0,checked:e._q(e.TemplateType,0)},on:{change:function(t){e.TemplateType=0}}}),e._v(" "),i("label",{staticClass:"radio-inline",attrs:{for:"ckTemplateTypeB"}},[e._v("文档类")])]),e._v(" "),i("div",{staticClass:"item-desc"},[i("p",[e._v("用于连续打印表单所有内容")]),e._v(" "),i("p",[e._v("注：从上至下依次打印表单内容且不重复，同打印word文档")]),e._v(" "),0==e.TemplateType?i("div",{staticClass:"repeat-head"},[i("el-checkbox",{on:{change:e.repeatChildHead},model:{value:e.repeatHead,callback:function(t){e.repeatHead=t},expression:"repeatHead"}},[e._v("跨页打印时重复显示子表表头")])],1):e._e(),e._v(" "),0==e.TemplateType?i("div",{staticClass:"repeat-head"},[i("span",[e._v("默认行距")]),e._v("  "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.rowSpace,expression:"rowSpace"}],staticClass:"row-space",attrs:{placeholder:"10"},domProps:{value:e.rowSpace},on:{change:e.changeRowSpace,input:[function(t){t.target.composing||(e.rowSpace=t.target.value)},function(t){return e.filterNumber()}]}})]):e._e()])])])]),e._v(" "),i("div",{staticClass:"mt30"},[i("el-checkbox",{on:{change:e.templateDownLoad},model:{value:e.isTemplateDownLoad,callback:function(t){e.isTemplateDownLoad=t},expression:"isTemplateDownLoad"}},[e._v("隐藏下载按钮")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-desc"},[t("p",[this._v("用于重复打印或套打表单内容")]),this._v(" "),t("p",[this._v("注：可每页重复打印主表内容，打印固定条数且不重复的子表内容或将表单内容打印到已有样式的纸张")])])}]};var Hi=i("VU/8")(Li,zi,!1,function(e){i("SbeX"),i("75lX")},"data-v-56603c5f",null).exports,Gi=(i("Z1El"),{name:"colorPickerFont",props:{value:{type:String,required:!0},defaultColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{openStatusFont:!1,hoveColor:null,tColor:["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],colorConfig:[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],bColor:["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],html5Color:this.value,defaultColorTip:"默认颜色"}},computed:{showPanelColor:function(){return this.hoveColor?this.hoveColor:this.showColor},showColor:function(){return this.value?this.value:this.defaultColor},colorPanel:function(){var e=[],t=!0,i=!1,o=void 0;try{for(var r,a=de()(this.colorConfig);!(t=(r=a.next()).done);t=!0){var n=r.value;e.push(this.gradient(n[1],n[0],5))}}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}return e}},methods:{triggerHtml5Color:function(){this.$refs.html5Color.click()},updataValue:function(e){this.$emit("input",e),this.$emit("change",e),this.openStatusFont=!1},handleDefaultColor:function(){var e="";e=""===this.defaultColor?"no-border-color":this.defaultColor,this.updataValue(e)},parseColor:function(e){var t=e;return 4===t.length&&(t="#"+e[1]+e[2]+e[2]+e[3]+e[3]),e},rgbToHex:function(e,t,i){var o=(e<<16|t<<8|i).toString(16);return"#"+new Array(Math.abs(o.length-7)).join("0")+o},hexToRgb:function(e){for(var t=this.parseColor(e),i=[],o=1;o<7;o+=2)i.push(parseInt("0x"+t.slice(o,o+2),16));return i},gradient:function(e,t,i){for(var o=this.hexToRgb(e),r=this.hexToRgb(t),a=(r[0]-o[0])/i,n=(r[1]-o[1])/i,s=(r[2]-o[2])/i,l=[],d=0;d<i;d+=1)l.push(this.rgbToHex(parseInt(a*d+o[0],10),parseInt(n*d+o[1],10),parseInt(s*d+o[2],10)));return l},toShowHidenFont:function(){this.openStatusFont=!this.openStatusFont},hideOthderColor:function(e){window.GlobalPrintProperties.ColorPicker.openStatus=!1,e.stopPropagation()}},mounted:function(){var e=this;""===this.defaultColor?this.defaultColorTip="无边框色":this.defaultColorTip="默认色",window.GlobalPrintProperties.ColorPickerFont=this,document.onclick=function(){window.GlobalPrintProperties.ColorPicker.openStatus=!1,window.GlobalPrintProperties.ColorPickerFill.openStatusFill=!1,e.openStatusFont=!1}}}),Wi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"colorPicker",staticClass:"m-colorPicker",on:{click:e.hideOthderColor}},[i("div",{ref:"colorMenuBtnFont",staticClass:"colorBtn",class:{disabled:e.disabled},style:"background-color: "+e.showColor,on:{click:e.toShowHidenFont}},[i("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up",class:{transform180:e.openStatusFont}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.html5Color,expression:"html5Color"}],ref:"html5Color",attrs:{type:"color"},domProps:{value:e.html5Color},on:{change:function(t){return e.updataValue(e.html5Color)},input:function(t){t.target.composing||(e.html5Color=t.target.value)}}}),e._v(" "),i("div",{staticClass:"box",class:{open:e.openStatusFont}},[i("div",{staticClass:"hd"},[i("div",{ref:"defaultSet",staticClass:"defaultColor",on:{click:e.handleDefaultColor,mouseover:function(t){e.hoveColor=e.defaultColor},mouseout:function(t){e.hoveColor=null}}},[e._v(e._s(e.defaultColorTip))])]),e._v(" "),i("div",{staticClass:"bd"},[i("h3",[e._v("主题颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.tColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0),e._v(" "),i("ul",{staticClass:"bColor"},e._l(e.colorPanel,function(t){return i("li",[i("ul",e._l(t,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])}),0),e._v(" "),i("h3",[e._v("标准颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.bColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])])])},staticRenderFns:[]};var Mi=i("VU/8")(Gi,Wi,!1,function(e){i("PFCx")},"data-v-77e5950c",null).exports,Ei={name:"FontSizeProperty",props:{data:{type:Object,default:{}},fontSizeShow:{type:Boolean,default:!0}},data:function(){return{fontSizes:[6,7,8,9,10,11,12,13,14,16,18,20,28,36,48,72],color:"",fontSizeNum:this.data.Font&&this.data.Font.FontSize,fontPropertySet:[],defaultColor:"#333",colorShow:"#333",disabledUnderLine:!1}},components:{colorPickerFont:Mi},created:function(){},methods:{headleChangeColor:function(){if(this.data&&this.data.Font){if(this.setTrackFont(),this.colorShow=this.color,this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog){var e=this.data.Properties;this.data.Font.FontColor=this.color;for(var t=0;t<e.length;t+=1)e[t].Font.FontColor=this.color}else this.data.Font.FontColor=this.color;ri("","font")}},fontSizeChange:function(){if(this.data&&this.data.Font){if(this.setTrackFont(),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog){this.data.Font.FontSize=this.fontSizeNum;for(var e=this.data.Properties,t=0;t<e.length;t+=1)e[t].Font.FontSize=this.fontSizeNum}else this.data.Font.FontSize=this.fontSizeNum;ri("","font")}},setFieldBold:function(e){if(this.data&&this.data.Font){this.setTrackFont();var t=e;if(this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog)for(var i=this.data.Properties,o=0;o<i.length;o+=1)i[o].Font.Bold=t;this.data.Font.Bold=t}},setFieldItalic:function(e){if(this.data&&this.data.Font){this.setTrackFont();var t=e;if(this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog)for(var i=this.data.Properties,o=0;o<i.length;o+=1)i[o].Font.Italic=t;this.data.Font.Italic=t}},setFieldUnderLine:function(e){if(this.data&&this.data.Font){this.setTrackFont();var t=e;if(this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog)for(var i=this.data.Properties,o=0;o<i.length;o+=1)i[o].Font.UnderLine=t;this.data.Font.UnderLine=t}},fontBoldyUpdate:function(){this.fontPropertySet.indexOf("bold")>-1?this.setFieldBold(!0):this.setFieldBold(!1),ri("","font")},fontItalicyUpdate:function(){this.fontPropertySet.indexOf("Italic")>-1?this.setFieldItalic(!0):this.setFieldItalic(!1),ri("","font")},fontUnderLineyUpdate:function(){this.fontPropertySet.indexOf("UnderLine")>-1?this.setFieldUnderLine(!0):this.setFieldUnderLine(!1),ri("","font")},clickType:function(){window.GlobalPrintProperties.ColorPickerFont.openStatusFont=!1},visibleChange:function(){window.GlobalPrintProperties.ColorPickerFont.openStatusFont=!1},setTrackFont:function(){var e=[],t=[];e.push(this.data);var i={Bold:this.data.Font.Bold,FontColor:this.data.Font.FontColor,FontSize:this.data.Font.FontSize,Italic:this.data.Font.Italic,UnderLine:this.data.Font.UnderLine};t.push(i),Bt.AddTraceFont(Bt.TraceType.Font,e,t)}},computed:{fontSizeshowBack:function(){return this.data.Font&&this.data.Font.FontSize},fontColorShow:function(){return this.data.Font&&this.data.Font.FontColor},fontPropertyBoldShow:function(){return this.data.Font&&this.data.Font.Bold},fontPropertyItalicShow:function(){return this.data.Font&&this.data.Font.Italic},fontPropertyUnderLineShow:function(){return this.data.Font&&this.data.Font.UnderLine}},mounted:function(){this.fontPropertySet=[],this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog?this.fontSizeNum=this.data.Properties[0].Font.FontSize:this.data.Font&&(this.fontSizeNum=this.data.Font.FontSize),this.data.Font&&(this.data.Font.Bold&&this.fontPropertySet.push("bold"),this.data.Font.Italic&&this.fontPropertySet.push("Italic"),this.data.Font.UnderLine&&this.fontPropertySet.push("UnderLine"),this.colorShow=this.data.Font.FontColor)},watch:{fontSizeshowBack:function(e){this.fontSizeNum=e},fontColorShow:function(e){this.colorShow=e},fontPropertyBoldShow:function(e){if(e)-1===this.fontPropertySet.indexOf("bold")&&this.fontPropertySet.push("bold");else{var t=this.fontPropertySet.indexOf("bold");this.fontPropertySet.splice(t,1)}},fontPropertyItalicShow:function(e){if(e)-1===this.fontPropertySet.indexOf("Italic")&&this.fontPropertySet.push("Italic");else{var t=this.fontPropertySet.indexOf("Italic");this.fontPropertySet.splice(t,1)}},fontPropertyUnderLineShow:function(e){if(e)-1===this.fontPropertySet.indexOf("UnderLine")&&this.fontPropertySet.push("UnderLine");else{var t=this.fontPropertySet.indexOf("UnderLine");this.fontPropertySet.splice(t,1)}}}},ji={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("字体")]),e._v(" "),i("div",{staticClass:"text-align-box"},[e.fontSizeShow?i("el-select",{staticClass:"fontSize-box fl",attrs:{placeholder:"请选择",title:"字体尺寸","popper-class":"fontSize-dropdown"},on:{"visible-change":e.visibleChange,focus:function(e){e.target.blur()},change:e.fontSizeChange},model:{value:e.fontSizeNum,callback:function(t){e.fontSizeNum=e._n(t)},expression:"fontSizeNum"}},e._l(e.fontSizes,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:e}})}),1):e._e(),e._v(" "),i("div",{staticClass:"dropdown-box fl ml12 dropdown-color-box",attrs:{title:"文本颜色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All text-a"}),e._v(" "),i("i",{staticClass:"icon h3yun_All straightline-o",style:{color:e.colorShow}}),e._v(" "),i("colorPickerFont",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),i("el-checkbox-group",{staticClass:"fl ml12 checkboxBtnChoose",attrs:{size:"small"},on:{click:e.clickType},model:{value:e.fontPropertySet,callback:function(t){e.fontPropertySet=t},expression:"fontPropertySet"}},[i("el-checkbox-button",{attrs:{label:"bold",title:"粗体"},on:{change:e.fontBoldyUpdate}},[i("i",{staticClass:"icon h3yun_All thickening"})]),e._v(" "),i("el-checkbox-button",{attrs:{label:"Italic",title:"斜体"},on:{change:e.fontItalicyUpdate}},[i("i",{staticClass:"icon h3yun_All Italic"})]),e._v(" "),i("el-checkbox-button",{attrs:{label:"UnderLine",disabled:e.disabledUnderLine,title:"下划线"},on:{change:e.fontUnderLineyUpdate}},[i("i",{staticClass:"icon h3yun_All underline"})])],1),e._v(" "),i("div",{staticClass:"clearfix"})],1)])},staticRenderFns:[]};var Ni=i("VU/8")(Ei,ji,!1,function(e){i("veoo")},"data-v-52e6fce2",null).exports,Ui={name:"FontSizeProperty",props:{data:{type:Object,default:{}},textAlignShow:{type:Boolean,default:!0}},data:function(){return{radio5:1,radio6:1}},methods:{updateHorizontal:function(e){if(this.data&&this.data.Alignment){if(this.setTrackTextAlign(),this.data.Alignment.HorizontalType=parseInt(e,10),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog)for(var t=this.data.Properties,i=0;i<t.length;i+=1)t[i].Alignment.HorizontalType=parseInt(e,10);ri("","textAlign")}},updateVertical:function(e){if(this.data&&this.data.Alignment){if(this.setTrackTextAlign(),this.data.Alignment.VerticalType=parseInt(e,10),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog)for(var t=this.data.Properties,i=0;i<t.length;i+=1)t[i].Alignment.VerticalType=parseInt(e,10);ri("","textAlign")}},setTrackTextAlign:function(){var e=[],t=[];e.push(this.data);var i={HorizontalType:this.data.Alignment.HorizontalType,VerticalType:this.data.Alignment.VerticalType};t.push(i),Bt.AddTraceTextAlign(Bt.TraceType.TextAlign,e,t)}},computed:{horizontalShow:function(){return this.data.Alignment&&this.data.Alignment.HorizontalType},verticalShow:function(){return this.data.Alignment&&this.data.Alignment.VerticalType}},mounted:function(){this.radio5=this.data.Alignment&&this.data.Alignment.HorizontalType,this.radio6=this.data.Alignment&&this.data.Alignment.VerticalType},watch:{horizontalShow:function(e){this.radio5=e},verticalShow:function(e){this.radio6=e}}},Vi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("对齐")]),e._v(" "),e.textAlignShow?i("div",{staticClass:"text-align-box textAlignBox"},[i("el-radio-group",{attrs:{size:"small"},on:{change:e.updateHorizontal},model:{value:e.radio5,callback:function(t){e.radio5=t},expression:"radio5"}},[i("el-radio-button",{attrs:{label:"0",title:"左侧对齐"}},[i("i",{staticClass:"icon h3yun_All left-alignment"})]),e._v(" "),i("el-radio-button",{attrs:{label:"1",title:"水平居中"}},[i("i",{staticClass:"icon h3yun_All center-alignment"})]),e._v(" "),i("el-radio-button",{attrs:{label:"2",title:"右侧对齐"}},[i("i",{staticClass:"icon h3yun_All right-alignment"})])],1),e._v(" "),i("el-radio-group",{attrs:{size:"small"},on:{change:e.updateVertical},model:{value:e.radio6,callback:function(t){e.radio6=t},expression:"radio6"}},[i("el-radio-button",{attrs:{label:"0",title:"顶部对齐"}},[i("i",{staticClass:"icon h3yun_All align-top"})]),e._v(" "),i("el-radio-button",{attrs:{label:"1",title:"垂直居中"}},[i("i",{staticClass:"icon h3yun_All align-vertical-cente"})]),e._v(" "),i("el-radio-button",{attrs:{label:"2",title:"底部对齐"}},[i("i",{staticClass:"icon h3yun_All align-bottom"})])],1)],1):e._e()])},staticRenderFns:[]};var Yi=i("VU/8")(Ui,Vi,!1,function(e){i("nFw3")},"data-v-99656b20",null).exports,Xi={name:"colorPicker",props:{value:{type:String,required:!0},defaultColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{openStatus:!1,hoveColor:null,tColor:["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],colorConfig:[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],bColor:["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],html5Color:this.value,defaultColorTip:"默认颜色"}},computed:{showPanelColor:function(){return this.hoveColor?this.hoveColor:this.showColor},showColor:function(){return this.value?this.value:this.defaultColor},colorPanel:function(){var e=[],t=!0,i=!1,o=void 0;try{for(var r,a=de()(this.colorConfig);!(t=(r=a.next()).done);t=!0){var n=r.value;e.push(this.gradient(n[1],n[0],5))}}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}return e}},methods:{triggerHtml5Color:function(){this.$refs.html5Color.click()},updataValue:function(e){this.$emit("input",e),this.$emit("change",e),this.openStatus=!1},handleDefaultColor:function(){var e="";e=""===this.defaultColor?"no-border-color":this.defaultColor,this.updataValue(e)},parseColor:function(e){var t=e;return 4===t.length&&(t="#"+e[1]+e[2]+e[2]+e[3]+e[3]),e},rgbToHex:function(e,t,i){var o=(e<<16|t<<8|i).toString(16);return"#"+new Array(Math.abs(o.length-7)).join("0")+o},hexToRgb:function(e){for(var t=this.parseColor(e),i=[],o=1;o<7;o+=2)i.push(parseInt("0x"+t.slice(o,o+2),16));return i},gradient:function(e,t,i){for(var o=this.hexToRgb(e),r=this.hexToRgb(t),a=(r[0]-o[0])/i,n=(r[1]-o[1])/i,s=(r[2]-o[2])/i,l=[],d=0;d<i;d+=1)l.push(this.rgbToHex(parseInt(a*d+o[0],10),parseInt(n*d+o[1],10),parseInt(s*d+o[2],10)));return l},toShowHiden:function(){this.openStatus=!this.openStatus,window.GlobalPrintProperties.BorderVueInstance.openMenu=!1},hideOthderColor:function(e){window.GlobalPrintProperties.ColorPickerFont.openStatusFont=!1,e.stopPropagation()}},mounted:function(){""===this.defaultColor?this.defaultColorTip="无边框色":this.defaultColorTip="默认色",window.GlobalPrintProperties.ColorPicker=this}},Qi={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"colorPicker",staticClass:"m-colorPicker",on:{click:e.hideOthderColor}},[i("div",{staticClass:"colorBtn",class:{disabled:e.disabled},style:"background-color: "+e.showColor,on:{click:e.toShowHiden}},[i("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up",class:{transform180:e.openStatus}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.html5Color,expression:"html5Color"}],ref:"html5Color",attrs:{type:"color"},domProps:{value:e.html5Color},on:{change:function(t){return e.updataValue(e.html5Color)},input:function(t){t.target.composing||(e.html5Color=t.target.value)}}}),e._v(" "),i("div",{staticClass:"box",class:{open:e.openStatus}},[i("div",{staticClass:"hd"},[i("div",{ref:"defaultSet",staticClass:"defaultColor",on:{click:e.handleDefaultColor,mouseover:function(t){e.hoveColor=e.defaultColor},mouseout:function(t){e.hoveColor=null}}},[e._v(e._s(e.defaultColorTip))])]),e._v(" "),i("div",{staticClass:"bd"},[i("h3",[e._v("主题颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.tColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0),e._v(" "),i("ul",{staticClass:"bColor"},e._l(e.colorPanel,function(t){return i("li",[i("ul",e._l(t,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])}),0),e._v(" "),i("h3",[e._v("标准颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.bColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])])])},staticRenderFns:[]};var qi=i("VU/8")(Xi,Qi,!1,function(e){i("8lGH")},"data-v-a6276606",null).exports,$i={name:"BorderProperty",props:{data:{type:Object,default:{}},fontSizeBorder:{type:Boolean,default:!0}},data:function(){return{color:"",borderChecked:!0,borderSize:-1,borderType:1,openMenu:!1,borderTopSelected:!0,borderRightSelected:!0,borderBottomSelected:!0,borderLeftSelected:!0,hasDisabled:!0,typeDisabled:!1,colorDisabled:!1,sizeDisabled:!1,colorShow:"#333",borderNoneChoose:!0,defaultColor:""}},components:{colorPicker:qi},created:function(){this.fieldsDefaultProperty()},methods:{fieldsDefaultProperty:function(){if(this.data&&this.data.Border){var e=this.data.Border,t=this.data.PropertyType;this.borderSize=e.BorderSize,t===Ae.SubTable||t===Ae.WorkFlowLog?(e.BorderSize<=1&&(this.borderSize=1,e.BorderSize=1),this.hasDisabled=!0,this.defaultColor="#666",this.color=""===e.BorderColor?"#666":e.BorderColor):t===Ae.Rectangle?(e.BorderSize<=1&&(this.borderSize=1,e.BorderSize=1),this.hasDisabled=!1,this.defaultColor="#333",this.color=""===e.BorderColor?"#333":e.BorderColor):t===Ae.Line?(e.BorderSize<=1&&(this.borderSize=1,e.BorderSize=1),this.borderNoneChoose=!1,this.hasDisabled=!0,this.defaultColor="#333",this.color=""===e.BorderColor?"#333":e.BorderColor):t!==Ae.Form&&t!==Ae.System&&t!==Ae.Text&&t!==Ae.CustomWorkFlowLog||(this.defaultColor="#333",this.color=""===e.BorderColor?"#333":e.BorderColor,e.BorderSize>0?this.hasDisabled=!1:(this.borderSize=0,e.BorderSize=0))}},headleChangeColor:function(){if(this.data&&this.data.Border){if(this.setTrackBorder(),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog){this.data.Border.BorderColor=this.color,this.colorShow=this.color;for(var e=this.data.Properties,t=0;t<e.length;t+=1)this.data.Border.BorderSize>0&&(e[t].Border.BorderColor=this.color)}else this.data.Border.BorderSize>0?(this.data.Border.BorderColor=this.color,this.colorShow=this.color):this.data.Border&&(this.colorShow=this.color,this.data.Border.BorderColor=this.color);ri("","border")}},openComMenu:function(){window.GlobalPrintProperties.ColorPicker.openStatus=!1,this.openMenu=!this.openMenu},chooseBorderShow:function(){},borderSizeUpdate:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog?(this.data.Border.BorderSize=-1===this.borderSize?1:this.borderSize,this.data.Border.BorderColor=""===this.color?this.defaultColor:this.color):this.data.Border&&(this.data.Border.BorderSize=this.borderSize,this.data.Border.BorderColor=""===this.color?this.defaultColor:this.color),this.borderSize>0&&this.data.PropertyType!==Ae.Line&&this.data.PropertyType!==Ae.SubTable&&this.data.PropertyType!==Ae.WorkFlowLog?this.hasDisabled=!1:this.hasDisabled=!0,ri("","border"))},borderTypeUpdate:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog?this.data.Border.BorderType=this.borderType:this.data.Border&&(this.data.Border.BorderType=this.borderType),ri("","border"))},borderShowTop:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.borderTopSelected?(this.data.Border.BorderTop=!1,this.borderTopSelected=!1):this.data.Border&&(this.data.Border.BorderTop=!0,this.borderTopSelected=!0),ri("","border"))},borderShowRight:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.borderRightSelected?(this.data.Border.BorderRight=!1,this.borderRightSelected=!1):this.data.Border&&(this.data.Border.BorderRight=!0,this.borderRightSelected=!0),ri("","border"))},borderShowBottom:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.borderBottomSelected?(this.data.Border.BorderBottom=!1,this.borderBottomSelected=!1):this.data.Border&&(this.data.Border.BorderBottom=!0,this.borderBottomSelected=!0),ri("","border"))},borderShowLeft:function(){this.data&&this.data.Border&&(this.setTrackBorder(),this.borderLeftSelected?(this.data.Border.BorderLeft=!1,this.borderLeftSelected=!1):this.data.Border&&(this.data.Border.BorderLeft=!0,this.borderLeftSelected=!0),ri("","border"))},setBorderShow:function(){this.hasDisabled=!this.borderChecked,this.typeDisabled=!this.borderChecked,this.colorDisabled=!this.borderChecked,this.sizeDisabled=!this.borderChecked,this.data.Border.Enable=this.borderChecked,this.data.PropertyType!==Ae.Line&&this.data.PropertyType!==Ae.SubTable&&this.data.PropertyType!==Ae.WorkFlowLog||(this.hasDisabled=!0),this.data.Border.BorderSize<1&&(this.hasDisabled=!0)},visibleChange:function(){this.openMenu=!1,window.GlobalPrintProperties.ColorPicker.openStatus=!1},selectFocus:function(e){e.target.blur()},setTrackBorder:function(){var e=[],t=[];e.push(this.data);var i={BorderSize:this.data.Border.BorderSize,BorderColor:this.data.Border.BorderColor,BorderType:this.data.Border.BorderType,Enable:this.data.Border.Enable,BorderTop:this.data.Border.BorderTop,BorderRight:this.data.Border.BorderRight,BorderBottom:this.data.Border.BorderBottom,BorderLeft:this.data.Border.BorderLeft};t.push(i),Bt.AddTraceBorder(Bt.TraceType.Border,e,t)}},computed:{borderSizeShow:function(){return this.data.Border&&this.data.Border.BorderSize},borderColorShow:function(){return this.data.Border&&this.data.Border.BorderColor},borderTypeShow:function(){return this.data.Border&&this.data.Border.BorderType},borderTopShow:function(){return this.data.Border&&this.data.Border.BorderTop},borderRightShow:function(){return this.data.Border&&this.data.Border.BorderRight},borderBottomShow:function(){return this.data.Border&&this.data.Border.BorderBottom},borderLeftShow:function(){return this.data.Border&&this.data.Border.BorderLeft}},mounted:function(){var e=this;window.GlobalPrintProperties.BorderVueInstance=this,ee()(document).on("click",function(){e.openMenu=!1}),this.data&&this.data.Border&&(this.borderTopSelected=this.data.Border.BorderTop,this.borderRightSelected=this.data.Border.BorderRight,this.borderBottomSelected=this.data.Border.BorderBottom,this.borderLeftSelected=this.data.Border.BorderLeft,this.borderSize=-1===this.data.Border.BorderSize?0:this.data.Border.BorderSize,this.borderType=this.data.Border.BorderType,this.borderChecked=this.data.Border.Enable,this.data.Border.Enable||(this.typeDisabled=!0,this.colorDisabled=!0,this.sizeDisabled=!0),this.colorShow=this.data.Border.BorderColor)},watch:{borderSizeShow:function(e){this.borderSize=e},borderColorShow:function(e){this.colorShow=e},borderTypeShow:function(e){this.borderType=e},borderTopShow:function(e){this.borderTopSelected=e},borderRightShow:function(e){this.borderRightSelected=e},borderBottomShow:function(e){this.borderBottomSelected=e},borderLeftShow:function(e){this.borderLeftSelected=e}}},Ji={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fontSizeBorder?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("边框")]),e._v(" "),i("div",{staticClass:"dropdown-box fl",attrs:{disabled:e.sizeDisabled,title:"线宽"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("el-select",{staticClass:"border-box",attrs:{disabled:e.sizeDisabled,placeholder:"请选择","popper-class":"border-dropdown"},on:{"visible-change":e.visibleChange,change:e.borderSizeUpdate,focus:e.selectFocus},model:{value:e.borderSize,callback:function(t){e.borderSize=e._n(t)},expression:"borderSize"}},[i("i",{staticClass:"icon h3yun_All onerow-twocolumn border-set-icon",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),i("el-option",{directives:[{name:"show",rawName:"v-show",value:e.borderNoneChoose,expression:"borderNoneChoose"}],attrs:{label:0,value:0}},[i("div",[e._v("无边框")])]),e._v(" "),i("el-option",{attrs:{label:1,value:1}},[i("div",{staticClass:"line_1"})]),e._v(" "),i("el-option",{attrs:{label:2,value:2}},[i("div",{staticClass:"line_2"})]),e._v(" "),i("el-option",{attrs:{label:3,value:3}},[i("div",{staticClass:"line_3"})]),e._v(" "),i("el-option",{attrs:{label:4,value:4}},[i("div",{staticClass:"line_4"})]),e._v(" "),i("el-option",{attrs:{label:5,value:5}},[i("div",{staticClass:"line_5"})])],1)],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24 dropdown-color-box",attrs:{disabled:e.colorDisabled,title:"线段颜色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All pen-o"}),e._v(" "),i("i",{staticClass:"icon h3yun_All straightline-o",style:{color:e.colorShow}}),e._v(" "),i("colorPicker",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24",attrs:{disabled:e.typeDisabled,title:"线段类型"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("el-select",{staticClass:"border-box",attrs:{disabled:e.typeDisabled,placeholder:"请选择","popper-class":"border-dropdown"},on:{"visible-change":e.visibleChange,change:e.borderTypeUpdate,focus:e.selectFocus},model:{value:e.borderType,callback:function(t){e.borderType=e._n(t)},expression:"borderType"}},[i("i",{staticClass:"icon h3yun_All line-segment border-set-icon",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),i("el-option",{directives:[{name:"show",rawName:"v-show",value:e.borderNoneChoose,expression:"borderNoneChoose"}],attrs:{label:0,value:0}},[i("div",[e._v("无")])]),e._v(" "),i("el-option",{attrs:{label:1,value:1}},[i("div",{staticClass:"line_solid"})]),e._v(" "),i("el-option",{attrs:{label:2,value:2}},[i("div",{staticClass:"line_dash"})])],1)],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24 dropdown-com-box dropdown-round",attrs:{disabled:e.hasDisabled,title:"边框可见性"},on:{click:function(t){return t.stopPropagation(),e.chooseBorderShow(t)}}},[i("div",{staticClass:"dropdown-btn",on:{click:function(t){return t.stopPropagation(),e.openComMenu(t)}}}),e._v(" "),i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All frame border-set-icon",staticStyle:{top:"3px"}}),e._v(" "),i("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up",class:{transformArr:e.openMenu}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.openMenu,expression:"openMenu"}],staticClass:"dropdowm-menu-box"},[i("div",{staticClass:"option-box top"}),e._v(" "),i("div",{staticClass:"option-border-item",class:{"option-selected":e.borderTopSelected},on:{click:e.borderShowTop}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item right translate90",class:{"option-selected":e.borderRightSelected},on:{click:e.borderShowRight}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item bottom",class:{"option-selected":e.borderBottomSelected},on:{click:e.borderShowBottom}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item left translate90",class:{"option-selected":e.borderLeftSelected},on:{click:e.borderShowLeft}},[i("div",{staticClass:"border-line"})])])]),e._v(" "),i("div",{staticClass:"clearfix"})]):e._e()},staticRenderFns:[]};var Ki=i("VU/8")($i,Ji,!1,function(e){i("uepK")},"data-v-adadae5c",null).exports,Zi={name:"colorPickerFill",props:{value:{type:String,required:!0},defaultColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{openStatusFill:!1,hoveColor:null,tColor:["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],colorConfig:[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],bColor:["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],html5Color:this.value,defaultColorTip:"默认颜色"}},computed:{showPanelColor:function(){return this.hoveColor?this.hoveColor:this.showColor},showColor:function(){return this.value?this.value:this.defaultColor},colorPanel:function(){var e=[],t=!0,i=!1,o=void 0;try{for(var r,a=de()(this.colorConfig);!(t=(r=a.next()).done);t=!0){var n=r.value;e.push(this.gradient(n[1],n[0],5))}}catch(e){i=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw o}}return e}},methods:{triggerHtml5Color:function(){this.$refs.html5Color.click()},updataValue:function(e){this.$emit("input",e),this.$emit("change",e),this.openStatusFill=!1},handleDefaultColor:function(){var e="";e=""===this.defaultColor?"no-border-color":this.defaultColor,this.updataValue(e)},parseColor:function(e){var t=e;return 4===t.length&&(t="#"+e[1]+e[2]+e[2]+e[3]+e[3]),e},rgbToHex:function(e,t,i){var o=(e<<16|t<<8|i).toString(16);return"#"+new Array(Math.abs(o.length-7)).join("0")+o},hexToRgb:function(e){for(var t=this.parseColor(e),i=[],o=1;o<7;o+=2)i.push(parseInt("0x"+t.slice(o,o+2),16));return i},gradient:function(e,t,i){for(var o=this.hexToRgb(e),r=this.hexToRgb(t),a=(r[0]-o[0])/i,n=(r[1]-o[1])/i,s=(r[2]-o[2])/i,l=[],d=0;d<i;d+=1)l.push(this.rgbToHex(parseInt(a*d+o[0],10),parseInt(n*d+o[1],10),parseInt(s*d+o[2],10)));return l},toShowHidenFont:function(){this.openStatusFill=!this.openStatusFill},hideOthderColor:function(e){window.GlobalPrintProperties.ColorPicker.openStatus=!1,e.stopPropagation()}},mounted:function(){""===this.defaultColor?this.defaultColorTip="无边框色":this.defaultColorTip="默认色",window.GlobalPrintProperties.ColorPickerFill=this}},eo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"colorPicker",staticClass:"m-colorPicker",on:{click:e.hideOthderColor}},[i("div",{ref:"colorMenuBtnFont",staticClass:"colorBtn",class:{disabled:e.disabled},style:"background-color: "+e.showColor,on:{click:e.toShowHidenFont}},[i("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up",class:{transform180:e.openStatusFill}})]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.html5Color,expression:"html5Color"}],ref:"html5Color",attrs:{type:"color"},domProps:{value:e.html5Color},on:{change:function(t){return e.updataValue(e.html5Color)},input:function(t){t.target.composing||(e.html5Color=t.target.value)}}}),e._v(" "),i("div",{staticClass:"box",class:{open:e.openStatusFill},attrs:{id:"closeColorSelect"}},[i("div",{staticClass:"hd"},[i("div",{ref:"defaultSet",staticClass:"defaultColor",on:{click:e.handleDefaultColor,mouseover:function(t){e.hoveColor=e.defaultColor},mouseout:function(t){e.hoveColor=null}}},[e._v(e._s(e.defaultColorTip))])]),e._v(" "),i("div",{staticClass:"bd"},[i("h3",[e._v("主题颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.tColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0),e._v(" "),i("ul",{staticClass:"bColor"},e._l(e.colorPanel,function(t){return i("li",[i("ul",e._l(t,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])}),0),e._v(" "),i("h3",[e._v("标准颜色")]),e._v(" "),i("ul",{staticClass:"tColor"},e._l(e.bColor,function(t){return i("li",{style:{backgroundColor:t},on:{mouseover:function(i){e.hoveColor=t},mouseout:function(t){e.hoveColor=null},click:function(i){return e.updataValue(t)}}})}),0)])])])},staticRenderFns:[]};var to=i("VU/8")(Zi,eo,!1,function(e){i("G9d7")},"data-v-54c574b3",null).exports,io={name:"fillColorProperty",props:{data:{type:Object,default:{}},fillColorShow:{type:Boolean,default:!0}},data:function(){return{color:"",defaultColor:"#fff",colorShow:"#333"}},components:{colorPickerFill:to},created:function(){},methods:{headleChangeColor:function(){if(this.setTrackFillColor(),this.colorShow=this.color,this.data.PropertyType===Ae.SubTable||this.data.PropertyType===Ae.WorkFlowLog){var e=this.data.Properties;this.data.FillColor=this.color;for(var t=0;t<e.length;t+=1)e[t].FillColor=this.color}else this.data.FillColor=this.color;ri("","fillColor")},setTrackFillColor:function(){var e=[this.data],t=[{FillColor:this.data.FillColor}];Bt.AddTraceFillColor(Bt.TraceType.FillColor,e,t)}},mounted:function(){this.colorShow="#fff"===this.data.FillColor?"#333":this.data.FillColor}},oo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fillColorShow?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("填充色")]),e._v(" "),i("div",{staticClass:"text-align-box"},[i("div",{staticClass:"dropdown-box dropdown-color-box color-fill",attrs:{title:"填充色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All paint-bucket"}),e._v(" "),i("i",{staticClass:"icon h3yun_All straightline-o",style:{color:e.colorShow}}),e._v(" "),i("colorPickerFill",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)])]):e._e()},staticRenderFns:[]};var ro=i("VU/8")(io,oo,!1,function(e){i("Wogn")},"data-v-7f9557e0",null).exports,ao={props:["data"],data:function(){return{isShow:!1}},mounted:function(){var e=this;this.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType,this.$root.eventHub.$on("PrintDocType.change",function(){e.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType})}},no={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data.IsInSubTable?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"property-group property-group-printoption"},[i("div",{staticClass:"property-item property-title"},[e._v("打印选项")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.PrintAtFirst,expression:"data.PrintAtFirst"}],attrs:{type:"checkbox",id:"ckPrintAtFirst"},domProps:{checked:Array.isArray(e.data.PrintAtFirst)?e._i(e.data.PrintAtFirst,null)>-1:e.data.PrintAtFirst},on:{change:function(t){var i=e.data.PrintAtFirst,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&e.$set(e.data,"PrintAtFirst",i.concat([null])):a>-1&&e.$set(e.data,"PrintAtFirst",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.data,"PrintAtFirst",r)}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtFirst"}},[i("span",{class:[e.data.PrintAtFirst?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在第一页打印")])])]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.PrintAtMiddle,expression:"data.PrintAtMiddle"}],attrs:{type:"checkbox",id:"ckPrintAtMiddle"},domProps:{checked:Array.isArray(e.data.PrintAtMiddle)?e._i(e.data.PrintAtMiddle,null)>-1:e.data.PrintAtMiddle},on:{change:function(t){var i=e.data.PrintAtMiddle,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&e.$set(e.data,"PrintAtMiddle",i.concat([null])):a>-1&&e.$set(e.data,"PrintAtMiddle",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.data,"PrintAtMiddle",r)}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtMiddle"}},[i("span",{class:[e.data.PrintAtMiddle?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在中间页打印")])])]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.PrintAtLast,expression:"data.PrintAtLast"}],attrs:{type:"checkbox",id:"ckPrintAtLast"},domProps:{checked:Array.isArray(e.data.PrintAtLast)?e._i(e.data.PrintAtLast,null)>-1:e.data.PrintAtLast},on:{change:function(t){var i=e.data.PrintAtLast,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&e.$set(e.data,"PrintAtLast",i.concat([null])):a>-1&&e.$set(e.data,"PrintAtLast",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.data,"PrintAtLast",r)}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtLast"}},[i("span",{class:[e.data.PrintAtLast?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在最后一页打印")])])])])])])},staticRenderFns:[]};var so=i("VU/8")(ao,no,!1,function(e){i("VdBx")},"data-v-09372655",null).exports,lo={name:"FormProperty",props:{data:{type:Object,default:{}},widthDisable:{type:Boolean,default:!1},heightDisable:{type:Boolean,default:!1}},data:function(){return{currentPointX:0,currentPointY:0,currentWidth:0,currentHeight:0,index:0,isShow:!1,lockState:!1,pairField:null,pairFieldAll:null}},mounted:function(){this.ratio=0,this.currentPointX=this.data.PointX,this.currentPointY=this.data.PointY,this.currentWidth=this.data.Width,this.currentHeight=this.data.Height,this.data.PairPosition&&(this.pairFieldAll=ft(this.data.PairFieldCode),"left"===this.data.PairPosition&&(this.pairField=this.pairFieldAll))},methods:{showTips:function(){this.isShow=!0},hideTips:function(){this.isShow=!1},handlerPointX:function(){Ke.Focus=!1;var e=this.currentPointX,t=this.data.PointX;if(e!==t){var i=[],o=[],r={x:this.data.PointX,y:this.data.PointY};if(i.push(this.data),o.push(r),this.isLeftField){var a={x:this.pairField.PointX,y:this.pairField.PointY};i.push(this.pairField),o.push(a)}Bt.AddTrace(Bt.TraceType.Position,i,o);var n=window.window.GlobalPrintProperties.pageSettings.MarginLeft,s=this.maxLeft();this.isLeftField&&(s-=this.pairField.Width),e=this.handlerNumber(e,t,n,s),this.data.PointX=e,this.currentPointX=e,ri("","Position",null,this.pairField)}},handlerPointY:function(){Ke.Focus=!1;var e=this.data.PointY,t=this.currentPointY;if(t!==e){var i=[],o=[],r={x:this.data.PointX,y:this.data.PointY};i.push(this.data),o.push(r);var a="";vt(this.data)?a="Form":mt(this.data)&&(a="subTable");var n=window.GlobalPrintProperties.pageSettings.MarginTop,s=this.maxTop();if(a){var l=yt({top:t,height:this.data.Height},function(e){for(var t=[],i=window.GlobalPrintProperties.Print.fields,o=0;o<i.length;o+=1)i[o].Code!==e.Code&&i[o].Code!==e.PairFieldCode&&t.push(i[o]);return t}(this.data),a);if(!l.canPlace)return;"Form"===a&&(t=l.top,(t=this.handlerNumber(t,e,n,s))===l.top&&(this.data.Height=l.height,this.handlerHeight()))}t=this.handlerNumber(t,e,n,s),this.data.PointY=t,this.currentPointY=t;var d=[];this.pairFieldAll&&(d.push(this.pairFieldAll),i.push(this.pairFieldAll),o.push({x:this.pairFieldAll.PointX,y:this.pairFieldAll.PointY})),Bt.AddTrace(Bt.TraceType.Position,i,o),ri("","Position",d)}},handlerWidth:function(e){var t=this;Ke.Focus=!1;var i=this.currentWidth,o=this.data.Width;if(i!==o){var r=[],a=[],n={width:this.data.Width,height:this.data.Height,x:this.data.PointX,y:this.data.PointY,defaultRowHeight:""};if(r.push(n),a.push(this.data),this.isLeftField){var s={width:this.pairField.Width,height:this.pairField.Height,x:this.pairField.PointX,y:this.pairField.PointY,defaultRowHeight:""};r.push(s),a.push(this.pairField)}Bt.AddTrace(Bt.TraceType.Size,a,r);var l=this.maxWidth();i=this.handlerNumber(i,o,1,l),this.data.Width=i,this.currentWidth=i;var d=i/this.ratio;if(0!==this.ratio&&this.lockState&&!e){var c=this.handlerNumber(d,this.data.Height,1,l);this.currentHeight=c,this.$nextTick(function(){t.handlerHeight(!0)})}ri("","Size",null,this.pairField)}},handlerHeight:function(e){var t=this;Ke.Focus=!1;var i=this.currentHeight,o=this.data.Height;if(i!==o){var r=this.handleRowLine("height"),a=this.maxHeight(r);i=this.handlerNumber(i,o,1,a),this.currentHeight=i,this.data.Height=i;var n=i*this.ratio;if(0!==this.ratio&&this.lockState&&!e){var s=this.handlerNumber(n,this.data.Width,1,this.maxWidth());this.currentWidth=s,this.$nextTick(function(){t.handlerWidth(!0)})}ri("","Size",r.CurrentLineField)}},handleRowLine:function(e){var t=[],i=[],o={PreRowLine:0,NextRowLine:1e4,CurrentLineField:[]};if(bt(this.data)){var r={width:this.data.Width,height:this.data.Height,x:this.data.PointX,y:this.data.PointY,defaultRowHeight:""};t.push(r),i.push(this.data)}else o=Pt(this.data,t,i,e);return"position"===e?Bt.AddTrace(Bt.TraceType.Position,i,t):Bt.AddTrace(Bt.TraceType.Size,i,t),o},changeLockState:function(){this.lockState?(this.ratio=0,this.lockState=!1):(this.getRatio(),this.lockState=!0)},maxWidth:function(){if(this.isImageWaterMark)return 250;var e=window.GlobalPrintProperties.pageSettings,t=e.Width-this.currentPointX-e.MarginRight;if(console.log(this.data.Width,this.currentWidth),this.isLeftField){var i=this.data.Width+this.pairField.Width-5;i<t&&(t=i)}return t},maxHeight:function(e){if(this.isImageWaterMark)return 250;var t=window.GlobalPrintProperties.pageSettings,i=t.Height-this.currentPointY-t.MarginBottom,o=e.NextRowLine-this.data.PointY;return i=o<i?o:i,console.log("maxHeight",i),i},maxLeft:function(){var e=window.GlobalPrintProperties.pageSettings,t=e.Width-e.MarginRight-this.data.Width;return t},maxTop:function(){var e=window.GlobalPrintProperties.pageSettings,t=e.Height-e.MarginBottom-this.data.Height;return t},getRatio:function(){this.ratio=this.currentWidth/this.currentHeight},inputFocus:function(){Ke.Focus=!0}},computed:{pointX:function(){return this.data.PointX},pointY:function(){return this.data.PointY},width:function(){return this.data.Width},height:function(){return this.data.Height},isRightField:function(){return this.data.PairFieldCode&&"right"===this.data.PairPosition},isLeftField:function(){return this.data.PairFieldCode&&"left"===this.data.PairPosition},isImageWaterMark:function(){return this.data.PropertyType===Ae.ImageWatermark}},watch:{pointX:function(e){this.currentPointX=e},pointY:function(e){this.currentPointY=e},width:function(e){this.currentWidth=e},height:function(e){this.currentHeight=e}}},co={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data.IsInSubTable?e._e():i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("位置·尺寸")]),e._v(" "),i("div",{staticClass:"property-item property-context property-position-size clearfix"},[i("div",{staticClass:"position position-x"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentPointX,expression:"currentPointX",modifiers:{number:!0}}],attrs:{onfocus:"this.select();",disabled:e.isRightField},domProps:{value:e.currentPointX},on:{blur:[e.handlerPointX,function(t){return e.$forceUpdate()}],focus:e.inputFocus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerPointX(t)},input:function(t){t.target.composing||(e.currentPointX=e._n(t.target.value))}}})]),e._v(" "),i("div",{staticClass:"position position-y"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentPointY,expression:"currentPointY",modifiers:{number:!0}}],attrs:{onfocus:"this.select();"},domProps:{value:e.currentPointY},on:{blur:[e.handlerPointY,function(t){return e.$forceUpdate()}],focus:e.inputFocus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerPointY(t)},input:function(t){t.target.composing||(e.currentPointY=e._n(t.target.value))}}})]),e._v(" "),i("div",{staticClass:"size size-w el-input",class:[e.widthDisable?"is-disabled":""]},[i("input",{directives:[{name:"show",rawName:"v-show",value:!e.widthDisable,expression:"!widthDisable"},{name:"model",rawName:"v-model.number",value:e.currentWidth,expression:"currentWidth",modifiers:{number:!0}}],staticClass:"el-input__inner",attrs:{disabled:e.widthDisable,onfocus:"this.select();"},domProps:{value:e.currentWidth},on:{blur:[function(t){return e.handlerWidth()},function(t){return e.$forceUpdate()}],focus:e.inputFocus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerWidth()},input:function(t){t.target.composing||(e.currentWidth=e._n(t.target.value))}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.widthDisable,expression:"widthDisable"}],staticClass:"el-input__inner",attrs:{value:"1",disabled:e.widthDisable}})]),e._v(" "),i("div",{staticClass:"lock",attrs:{title:"宽高同比"}},[i("span",{staticClass:"h3yun_All",class:{"unlock-o":!e.lockState,lock_o:e.lockState},on:{click:e.changeLockState,mouseover:e.showTips,mouseout:e.hideTips}})]),e._v(" "),i("div",{staticClass:"size size-h el-input",class:[e.heightDisable?"is-disabled":""]},[i("input",{directives:[{name:"show",rawName:"v-show",value:!e.heightDisable,expression:"!heightDisable"},{name:"model",rawName:"v-model.number",value:e.currentHeight,expression:"currentHeight",modifiers:{number:!0}}],staticClass:"el-input__inner",attrs:{disabled:e.heightDisable,onfocus:"this.select();"},domProps:{value:e.currentHeight},on:{blur:[function(t){return e.handlerHeight()},function(t){return e.$forceUpdate()}],focus:e.inputFocus,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerHeight()},input:function(t){t.target.composing||(e.currentHeight=e._n(t.target.value))}}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:e.heightDisable,expression:"heightDisable"}],staticClass:"el-input__inner",attrs:{value:"1",disabled:e.heightDisable}})])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"property-item clearfix"},[t("li",{staticClass:"property-info"},[this._v("X")]),this._v(" "),t("li",{staticClass:"property-info pointY"},[this._v("Y")]),this._v(" "),t("li",{staticClass:"property-info"},[this._v("宽")]),this._v(" "),t("li",{staticClass:"property-info height"},[this._v("高")])])}]};var ho=i("VU/8")(lo,co,!1,function(e){i("xB4q")},"data-v-37d5b2f8",null).exports,uo=window.GlobalPropertyData,po={name:"FormProperty",props:["allFields"],data:function(){return{data:uo.data,fontSizeBorder:!0,textAlignShow:!0,fillColorShow:!0,focusText:"",blurText:"",hasFieldChange:!1,selectDataField:"",isWatermark:!1}},created:function(){this.isWatermark=this.data.PropertyType===Ae.TextWatermark},mounted:function(){var e=this;ee()(".el-select-dropdown__item").click(function(){ee()(".el-input__inner").addClass("gray")}),ee()(".el-input__inner").click(function(){ee()(e).removeClass("gray")}),this.data.IsInSubTable&&(this.fontSizeBorder=!1)},methods:{updateWatermarkDisplay:function(){ri(null,"watermarkDisplay")},dataFieldChange:function(){var e=this;this.data.DataField&&(this.hasFieldChange||this.setTrackText(),this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text&&this.data.PropertyType!==Ae.TextWatermark||this.$nextTick(function(){var t=void 0;t=e.data.TextSource===Xe.FormDataField?e.data.DataField===Le?1:e.data.DataField===ze?"":Re+e.$refs.selectDataField.$el.children[0].children[0].value+Ie:e.data.Text,e.data.Text=t,ri("","Text")}))},inputFocus:function(){Ke.Focus=!0,this.hasFieldChange=!1,this.focusText=this.data.Text},inputBlur:function(){Ke.Focus=!1,this.blurText=this.data.Text,this.blurText!==this.focusText&&this.setTrackText()},setDataField:function(){this.selectDataField=this.data.DataField},selectFocus:function(e){e.target.blur()},ckTextContent:function(e){e!==this.data.TextSource&&(this.hasFieldChange=!0,this.setDataField(),this.setTrackText())},setTrackText:function(){var e=[];e.push(this.data);var t={TextSource:this.data.TextSource,PropertyType:this.data.PropertyType,DataField:this.selectDataField,Text:0===this.data.TextSource?this.data.Text:this.focusText};this.hasFieldChange&&(t.Text=this.data.Text),Bt.AddTraceTextSource(Bt.TraceType.TextSource,e,t)}},components:{PositionSizeVue:ho,PrintOptionVue:so,FontSize:Ni,BorderSetting:Ki,TextAlign:Yi,FillColor:ro},computed:{maxTextLen:function(){return this.isWatermark?20:200},dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(this.data.IsInSubTable){if(this.data.IsInSubTable){var t=[];t="WorkFlowLog"===this.data.OuterSubTable?this.allFields[3].FieldItems:this.allFields[0].FieldItems;for(var i=0;i<t.length;i+=1)this.data.OuterSubTable===t[i].FieldName&&(e=t[i].Children)}}else for(var o=0;o<this.allFields.length;o+=1)for(var r=this.allFields[o].FieldItems,a=0;a<r.length;a+=1)0!==r[a].FieldType&&1!==r[a].FieldType||e.push(r[a]);return e}return[]},textChange:function(){return this.data.Text},textSourceChange:function(){return this.data.TextSource},positionChange:function(){return this.data.PointX+this.data.PointY},sizeChange:function(){return this.data.Width+this.data.Height}},watch:{textSourceChange:function(e){this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text&&this.data.PropertyType!==Ae.TextWatermark||(this.data.PropertyType=1===e?Ae.Text:Ae.Form),this.dataFieldChange()},textChange:function(){1===this.data.TextSource&&(this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text&&this.data.PropertyType!==Ae.TextWatermark||this.$nextTick(function(){ri("","Text")}))}}},fo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("div",{staticClass:"property-group property-group-textsource"},[i("div",{staticClass:"property-item property-title"},[e._v("文本内容")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[e.data.IsInSubTable?e._e():i("li",{staticClass:"ck-textsource ck-horizontal"},[i("div",{staticClass:"ck-item"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.TextSource,expression:"data.TextSource",modifiers:{number:!0}}],staticClass:"ckTemplateType",attrs:{type:"radio",name:"TextContent",value:"1",id:"ckTextContentA"},domProps:{checked:e._q(e.data.TextSource,e._n("1"))},on:{change:function(t){e.$set(e.data,"TextSource",e._n("1"))}}}),e._v(" "),i("label",{staticClass:"radio-inline textRadio",attrs:{for:"ckTextContentA"},on:{click:function(t){return e.ckTextContent(1)}}},[e._v("固定文本")])]),e._v(" "),i("div",{staticClass:"ck-item"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.TextSource,expression:"data.TextSource",modifiers:{number:!0}}],staticClass:"ckTemplateType",attrs:{type:"radio",name:"TextContent",value:"0",id:"ckTextContentB"},domProps:{checked:e._q(e.data.TextSource,e._n("0"))},on:{change:function(t){e.$set(e.data,"TextSource",e._n("0"))}}}),e._v(" "),i("label",{staticClass:"radio-inline textRadio",attrs:{for:"ckTextContentB"},on:{click:function(t){return e.ckTextContent(0)}}},[e._v("表单字段的值")])])]),e._v(" "),i("li",{staticClass:"text-source"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.data.TextSource,expression:"data.TextSource == '1'"}],staticClass:"form-fixed-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.Text,expression:"data.Text"}],attrs:{type:"text",maxlength:e.maxTextLen},domProps:{value:e.data.Text},on:{focus:e.inputFocus,blur:e.inputBlur,input:[function(t){t.target.composing||e.$set(e.data,"Text",t.target.value)},e.filterEmoji]}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.data.TextSource,expression:"data.TextSource == '0'"}],staticClass:"form-datafield"},[i("el-select",{ref:"selectDataField",attrs:{placeholder:"请选择",size:"small"},on:{"visible-change":e.setDataField,focus:e.selectFocus,change:e.dataFieldChange},model:{value:e.data.DataField,callback:function(t){e.$set(e.data,"DataField",t)},expression:"data.DataField"}},e._l(e.dataFieldsSource,function(e){return i("el-option",{key:e.FieldName,attrs:{label:e.FieldDes,value:e.FieldName,size:"mini","popper-class":"select-datafield"}})}),1)],1)])])])]),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),e.isWatermark?e._e():i("fill-color",{attrs:{data:e.data,fillColorShow:e.fillColorShow&&!e.isWatermark}}),e._v(" "),e.isWatermark?e._e():i("border-setting",{attrs:{data:e.data,fontSizeBorder:e.fontSizeBorder}}),e._v(" "),e.isWatermark?i("div",[i("div",{staticClass:"property-item property-title"},[e._v("显示")]),e._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.RotationDegrees,expression:"data.RotationDegrees",modifiers:{number:!0}}],attrs:{type:"radio",name:"rotate-watermark",id:"normal",value:"0"},domProps:{checked:e._q(e.data.RotationDegrees,e._n("0"))},on:{change:[function(t){e.$set(e.data,"RotationDegrees",e._n("0"))},function(t){return e.updateWatermarkDisplay()}]}}),e._v(" "),e._m(0),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.data.RotationDegrees,expression:"data.RotationDegrees",modifiers:{number:!0}}],attrs:{type:"radio",name:"rotate-watermark",id:"rotate",value:"45"},domProps:{checked:e._q(e.data.RotationDegrees,e._n("45"))},on:{change:[function(t){e.$set(e.data,"RotationDegrees",e._n("45"))},function(t){return e.updateWatermarkDisplay()}]}}),e._v(" "),e._m(1)])]):e._e(),e._v(" "),i("font-size",{attrs:{data:e.data,fontSizeShow:!0}}),e._v(" "),e.isWatermark?e._e():i("text-align",{attrs:{data:e.data,textAlignShow:e.textAlignShow}}),e._v(" "),e.isWatermark?e._e():i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"water-mark water-mark-normal",attrs:{for:"normal"}},[t("span",[this._v("ABC")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"water-mark water-mark-rotate",attrs:{for:"rotate"}},[t("span",[this._v("ABC")])])}]};var go=i("VU/8")(po,fo,!1,function(e){i("X0YM")},"data-v-6df5936f",null).exports,vo=window.GlobalPropertyData,mo={name:"FormProperty",props:["allFields"],data:function(){return{data:vo.data,fontSizeBorder:!0,fillColorShow:!0}},created:function(){},methods:{dataFieldChange:function(){var e=this;setTimeout(function(){var t=e.$refs.selectDataField.$el.children[0].children[0].value;0===e.data.TextSource&&(t=Re+t+Ie),e.data.Text=t,e.propertyChange("","Text")})},propertyChange:function(e,t){setTimeout(function(){ri(e,t)})}},components:{PositionSizeVue:ho,PrintOptionVue:so,BorderSetting:Ki,FillColor:ro},computed:{dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(this.data.IsInSubTable){if(this.data.IsInSubTable)for(var t=this.allFields[0].FieldItems,i=0;i<t.length;i+=1)this.data.OuterSubTable===t[i].FieldName&&(e=t[i].Children)}else for(var o=0;o<this.allFields.length;o+=1)for(var r=this.allFields[o].FieldItems,a=0;a<r.length;a+=1)0!==r[a].FieldType&&1!==r[a].FieldType||e.push(r[a]);return e}return[]},textSourceChange:function(){return this.data.TextSource},positionChange:function(){return this.data.PointX+this.data.PointY},sizeChange:function(){return this.data.Width+this.data.Height}},mounted:function(){this.data.PropertyType===Ae.FlowSeal&&(this.fontSizeBorder=!1,this.fillColorShow=!1)},watch:{textSourceChange:function(){this.dataFieldChange()},positionChange:function(){ri("","Position")},sizeChange:function(){ri("","Size")}}},bo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),i("fill-color",{attrs:{data:e.data,fillColorShow:e.fillColorShow}}),e._v(" "),i("border-setting",{attrs:{data:e.data,fontSizeBorder:e.fontSizeBorder}}),e._v(" "),i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var Po=i("VU/8")(mo,bo,!1,function(e){i("hSKF")},"data-v-0f77392c",null).exports,yo=i("u4Bf"),wo=i.n(yo),Co={props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:{type:Boolean,default:!1},unit:{type:String,default:""},selectAll:{type:Boolean,default:!1}},data:function(){return{currentValue:0,displayValue:"",step:1,height:0}},methods:{increase:function(){if(!this.disabled){var e=(this.currentValue||0)+1;this.setCurrentValue(e)}},decrease:function(){if(!this.disabled){var e=(this.currentValue||0)-1;this.setCurrentValue(e)}},handleInputChange:function(e){var t=e.replace(this.unit,""),i=""===t?void 0:Number(t);r()(i)&&""!==t?(t=this.currentValue,this.setCurrentValue(this.currentValue)):this.setCurrentValue(i)},handleFocus:function(){Ke.Focus=!0},inputSelect:function(e){this.selectAll&&ee()(e.target).select()},setCurrentValue:function(e){var t=this,i=this.currentValue,o=e;o>=this.max&&(o=this.max),o<=this.min&&(o=this.min),i!==o?(this.$emit("change",o,i),this.$emit("input",o),this.currentValue=o,this.displayValue=o+this.unit):this.$nextTick(function(){t.value=o,t.$refs.input.value=i+t.unit})},inputBlur:function(){this.handleInputChange(this.displayValue),Ke.Focus=!1}},computed:{actionStyle:function(){var e={};return e.height=this.height/2,e}},mounted:function(){var e=this;setTimeout(function(){e.height=30},100)},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);void 0!==t&&r()(t)||(t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.displayValue=t+this.unit,this.$emit("input",t))}}}},To={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-number_container"},[i("div",{staticClass:"input-container el-input",class:[e.disabled?"is-disabled":""]},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.displayValue,expression:"displayValue"}],ref:"input",staticClass:"el-input__inner",attrs:{disabled:e.disabled,onfocus:"this.select()"},domProps:{value:e.displayValue},on:{blur:e.inputBlur,focus:e.handleFocus,input:function(t){t.target.composing||(e.displayValue=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"action",class:[e.disabled?"is-disabled":""]},[i("div",{staticClass:"item item-increase",style:e.actionStyle,attrs:{role:"button"},on:{click:e.increase}},[i("i",{staticClass:"h3yun_All up-o"})]),e._v(" "),i("div",{staticClass:"item item-decrease",style:e.actionStyle,attrs:{role:"button"},on:{click:e.decrease}},[i("i",{staticClass:"h3yun_All down-o"})])])])},staticRenderFns:[]};var So=i("VU/8")(Co,To,!1,function(e){i("UnTz")},null,null).exports,Fo=window.GlobalPropertyData,xo={name:"SubTabProperty",components:{draggable:wo.a,PrintOptionVue:so,InputNumber:So,FontSize:Ni,BorderSetting:Ki,TextAlign:Yi,FillColor:ro},props:["allFields"],data:function(){return{data:Fo.data,currentRowHeight:0,currentPageSize:0,textAlignShow:!0,propertiesTrack:[],addDatas:null,deleteDatas:null,dragDatas:null,activities:[],selectedActivities:[],disabledValue:-1}},created:function(){this.currentRowHeight=this.data.DefaultRowHeight,this.currentPageSize=this.data.PageSize,this.activities=window.GlobalPrintProperties.WorkFlowActivities||[],this.selectedActivities=this.activities.filter(function(e){return e.HasChoose}).map(function(e){return e.Value})},methods:{onEnd:function(e){var t=e.oldIndex,i=e.newIndex;t+=this.rows,i+=this.rows;var o=this.data.Properties,r=o.splice(t,1);o.splice(i,0,r[0]);var a={start:t-this.rows,end:i-this.rows,subTable:this.data,onlyDom:!0};ri(a,"SortTableColumn"),this.dragDatas={field:this.data,dragDatas:e},this.setTrackTable()},getColumnName:function(e){var t="";try{var i=this.data.Properties[e].DataField;0===(t=this.childField2[i].FieldDes).indexOf("(")&&(t=t.substr(2).split(")")[0])}catch(e){t=""}return t},beforeAddColumn:function(){for(var e=this.data.Properties.length/2,t=this.data.Properties.slice(e),i=0;i<t.length;i+=1)for(var o=0;o<this.childField.length;o+=1)if(!this.childField[o].MultiSelect&&t[i].DataField===this.childField[o].FieldName){var r=document.getElementsByClassName("el-dropdown-menu__item");ee()(r[o]).addClass("is-disabled")}},addColumn:function(e){var t={subTable:this.data,config:e,columnIndex:-1};if(this.addDatas=t,ri(t,"AddColumn"),this.setTrackTable(),e.ColumnType===Oe&&e.FieldName===Le){var i={start:this.data.Properties.length/2-1,end:0,subTable:this.data};ri(i,"SortTableColumn")}},deleteColumn:function(e){if(!(this.data.Properties.length<=2)){for(var t=this.data.Properties.length/2,i=this.data.Properties.slice(t)[e].DataField,o=0;o<this.childField.length;o+=1)if(this.childField[o].FieldName===i){var r=document.getElementsByClassName("el-dropdown-menu__item");ee()(r[o]).removeClass("is-disabled")}var a={subTable:this.data,index:e,field:this.data.Properties[e]};this.deleteDatas=a,this.setTrackTable(),ri(a,"DeleteColumn")}},updateRowNum:function(){var e={subTable:this.data};ri(e,"UpdateRows")},updateRowHeight:function(){var e={subTable:this.data};ri(e,"UpdateRowHeight")},updateColumnTitle:function(e){var t={column:e};setTimeout(function(){ri(t,"UpdateColumnTitle")})},handlerRowNum:function(){this.setTrackTable();var e=this.currentPageSize,t=this.data.PageSize,i=ct(this.data);e=this.handlerNumber(e,t,1,i),this.currentPageSize=e,this.data.PageSize=e,this.updateRowNum()},handlerRowHeight:function(){this.setTrackTable();var e=this.currentRowHeight,t=this.data.DefaultRowHeight,i=ht(this.data);e=this.handlerNumber(e,t,6,i),this.currentRowHeight=e,this.data.DefaultRowHeight=e,this.updateRowHeight()},titleInput:function(e){this.filterEmoji(e),this.updateColumnTitle(e)},inputFocus:function(){Ke.Focus=!0},inputBlur:function(){Ke.Focus=!1},columnTextChange:function(){this.setTrackTable()},inputFocusColumn:function(){this.copyTrackProperties()},copyTrackProperties:function(){this.propertiesTrack=[];for(var e=0;e<this.data.Properties.length;e+=1)this.propertiesTrack.push(ee.a.extend(!0,{},this.data.Properties[e]))},setTrackTable:function(){var e=[];e.push(this.data);var t={PageSize:this.data.PageSize,DefaultRowHeight:this.data.DefaultRowHeight,Properties:this.propertiesTrack.length>0?this.propertiesTrack:this.data.Properties,AddDatas:this.addDatas,DeleteDatas:this.deleteDatas,DragDatas:this.dragDatas};Bt.AddTraceTablePx(Bt.TraceType.TablePx,e,t),this.addDatas=null,this.deleteDatas=null,this.dragDatas=null}},computed:{isWorkFlowLog:function(){return 10===window.GlobalPrintProperties.Print.selectedFields[0].PropertyType},childField:function(){for(var e=[],t=void 0,i=(t=4===window.GlobalPrintProperties.Print.selectedFields[0].PropertyType?this.allFields[0].FieldItems:this.allFields[3].FieldItems).length,o=0;o<i;o+=1)this.data.DataField===t[o].FieldName&&(e=t[o].Children);return e},childField2:function(){for(var e=this.childField,t={},i=0;i<e.length;i+=1){var o=e[i];t[o.FieldName]=o}return t},rows:function(){return this.data.Properties.length/2},pageSize:function(){return this.data.PageSize},rowHeight:function(){var e=this.data.DefaultRowHeight;return e=e<6?6:e}},watch:{pageSize:function(e,t){var i=ct(this.data),o=""===e?1:Number(e),a=o>i?i:o;r()(o)&&""!==o?this.data.PageSize=t:(this.data.PageSize=o<1?1:a,this.currentPageSize=a)},rowHeight:function(e,t){e!==t&&(this.currentRowHeight=e)},selectedActivities:function(e){pe()(window.GlobalPrintProperties.pageSettings,{ActivityType:e}),1===e.length?this.disabledValue=e[0]:e.length>1&&(this.disabledValue=-1)}}},Do={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"subtab-property"},[i("div",{staticClass:"property-group property-group-source"},[i("div",{staticClass:"property-item property-title"},[e._v("数据来源")]),e._v(" "),i("div",{staticClass:"property-item property-context source-text"},[e._v("\n      "+e._s(e.data.Text)+"\n    ")])]),e._v(" "),i("div",{staticClass:"property-group property-group-pagesize"},[i("div",{staticClass:"property-item property-title"},[e._v("列内容每页打印行数")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentPageSize,expression:"currentPageSize"}],attrs:{onfocus:"this.select();"},domProps:{value:e.currentPageSize},on:{change:e.handlerRowNum,focus:e.inputFocus,blur:e.inputBlur,input:function(t){t.target.composing||(e.currentPageSize=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"property-group property-group-height"},[i("div",{staticClass:"property-item property-title"},[e._v("列内容单行默认行高")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.currentRowHeight,expression:"currentRowHeight"}],attrs:{onfocus:"this.select();"},domProps:{value:e.currentRowHeight},on:{change:e.handlerRowHeight,focus:e.inputFocus,blur:e.inputBlur,input:function(t){t.target.composing||(e.currentRowHeight=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"property-group property-group-row"},[i("div",{staticClass:"property-item property-title"},[e._v("\n      表格列内容、列标题\n    ")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[e._m(0),e._v(" "),i("draggable",{attrs:{options:{handle:".canDragBox",dragClass:".row-field",animation:200}},on:{end:e.onEnd},model:{value:e.data.Properties,callback:function(t){e.$set(e.data,"Properties",t)},expression:"data.Properties"}},[i("transition-group",e._l(e.data.Properties,function(t,o){return o<e.rows?i("li",{key:"column-"+o,staticClass:"row row-field"},[i("div",{staticClass:"col col-datafield"},[i("div",{staticClass:"col col-datafield"},[i("span",[e._v("\n                      "+e._s(e.getColumnName(o+e.rows))+"\n                    ")])])]),e._v(" "),i("div",{staticClass:"col col-text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.Text,expression:"column.Text"}],attrs:{type:"text"},domProps:{value:t.Text},on:{input:[function(i){i.target.composing||e.$set(t,"Text",i.target.value)},function(i){return e.titleInput(t)}],focus:function(t){return e.inputFocusColumn()},blur:e.inputBlur,change:e.columnTextChange}})]),e._v(" "),i("div",{staticClass:"col col-action"},[i("span",{staticClass:"h3yun_All  col-action-delete delete-o",class:{"col-cation-disabled":2===e.data.Properties.length},on:{click:function(t){return e.deleteColumn(o)}}}),e._v(" "),i("span",{staticClass:"h3yun_All  col-action-move move-o canDragBox"})])]):e._e()}),0)],1)],1),e._v(" "),i("el-dropdown",{staticClass:"add-column",attrs:{trigger:"click"},on:{command:e.addColumn}},[i("span",{staticClass:"el-dropdown-link",on:{click:e.beforeAddColumn}},[i("i",{staticClass:"icon h3yun_All plus-o"}),e._v("添加\n        ")]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.childField,function(t,o){return i("el-dropdown-item",{key:"add-"+o,attrs:{command:t}},[e._v("\n            "+e._s(t.FieldDes)+"\n          ")])}),1)],1)],1)]),e._v(" "),e.isWorkFlowLog?i("div",{staticClass:"property-group property-group-row"},[i("div",{staticClass:"property-item property-title"},[e._v("\n      表格行内容\n    ")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("el-checkbox-group",{model:{value:e.selectedActivities,callback:function(t){e.selectedActivities=t},expression:"selectedActivities"}},e._l(e.activities,function(t){return i("el-checkbox",{key:t.Value,staticClass:"activity",attrs:{label:t.Value,disabled:t.Value===e.disabledValue}},[e._v(e._s(t.Name))])}),1)],1)]):e._e(),e._v(" "),i("fill-color",{attrs:{data:e.data}}),e._v(" "),i("border-setting",{attrs:{data:e.data,fontSizeBorder:!0}}),e._v(" "),i("font-size",{attrs:{data:e.data,fontSizeShow:!0}}),e._v(" "),i("text-align",{attrs:{data:e.data,textAlignShow:e.textAlignShow}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"row row-title"},[t("div",{staticClass:"col col-title"},[this._v("列内容")]),this._v(" "),t("div",{staticClass:"col-8"},[this._v("列标题")]),this._v(" "),t("div",{staticClass:"col-4"})])}]};var ko=i("VU/8")(xo,Do,!1,function(e){i("dNpC")},"data-v-756cad12",null).exports,Bo=window.GlobalPropertyData,_o={components:{PositionSizeVue:ho,PrintOptionVue:so},props:["allFields"],data:function(){return{data:Bo.data,qrCodeSource:"",qrCodeContentArray:[],qrCodeContentn:"",selectDragOpen:!1}},methods:{sourceChange:function(){this.data.QrCodeContent="",this.data.QrCodeContentArray=[],this.setTrackQrcode()},inputFocus:function(){Ke.Focus=!0,this.qrCodeSource=this.data.QrCodeSource,this.qrCodeContentArray=this.data.QrCodeContentArray,this.qrCodeContentn=this.data.QrCodeContent},inputBlur:function(){Ke.Focus=!1,this.data.QrCodeContent!==this.qrCodeContentn&&this.setTrackQrcode()},setDataSource:function(){this.qrCodeSource=this.data.QrCodeSource,this.qrCodeContentArray=this.data.QrCodeContentArray,this.qrCodeContentn=this.data.QrCodeContent},inputBlurContentArray:function(){this.selectDragOpen?(this.selectDragOpen=!1,this.data.QrCodeContentArray!==this.qrCodeContentArray&&this.setTrackQrcode()):this.selectDragOpen=!0},setTrackQrcode:function(){var e=[];e.push(this.data);var t={QrCodeSource:this.qrCodeSource,QrCodeContentArray:this.qrCodeContentArray,QrCodeContent:this.qrCodeContentn};Bt.AddTraceQrSource(Bt.TraceType.QrCode,e,t)}},computed:{qrCodeContent:function(){return this.data.QrCodeSource===xe.FormDataField&&this.data.QrCodeContentArray?this.data.QrCodeContentArray.join(";"):""},dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(!this.data.IsInSubTable)for(var t=0;t<this.allFields.length;t+=1)for(var i=this.allFields[t].FieldItems,o=0;o<i.length;o+=1)0!==i[o].FieldType&&1!==i[o].FieldType||e.push(i[o]);return e}return[]}},mounted:function(){this.data.QrCodeContent&&(this.data.QrCodeContentArray=this.data.QrCodeContent.split(";"))},watch:{qrCodeContent:function(e){this.data.QrCodeContent=e}}},Ao={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"qrcode-property"},[i("div",{staticClass:"property-group property-group-source"},[i("div",{staticClass:"property-item property-title"},[e._v("二维码(QR)")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("el-select",{attrs:{placeholder:"请选择","popper-class":"select-datafield",size:"small"},on:{"visible-change":e.setDataSource,change:e.sourceChange},model:{value:e.data.QrCodeSource,callback:function(t){e.$set(e.data,"QrCodeSource",t)},expression:"data.QrCodeSource"}},[i("el-option",{attrs:{label:"显示表单新增二维码",value:0,size:"mini"}}),e._v(" "),i("el-option",{attrs:{label:"显示数据查看二维码",value:1,size:"mini"}}),e._v(" "),i("el-option",{attrs:{label:"根据表单字段生成二维码",value:2,size:"mini"}}),e._v(" "),i("el-option",{attrs:{label:"根据其他内容生成",value:3,size:"mini"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.data.QrCodeSource,expression:"data.QrCodeSource == '2'"}],staticClass:"select-formfield"},[i("el-select",{attrs:{multiple:"",placeholder:"请选择",size:"small"},on:{focus:e.setDataSource,"visible-change":e.inputBlurContentArray},model:{value:e.data.QrCodeContentArray,callback:function(t){e.$set(e.data,"QrCodeContentArray",t)},expression:"data.QrCodeContentArray"}},e._l(e.dataFieldsSource,function(t,o){return i("el-option",{key:o,attrs:{label:t.FieldDes,value:t.FieldName,size:"mini"}},[i("span",{staticClass:"icon"}),e._v(" "),i("span",{staticStyle:{float:"left",color:"rgba(0,0,0,0.65)"}},[e._v(e._s(t.FieldDes))])])}),1),e._v(" "),i("span",{staticClass:"explain"},[e._v("多个字段组合时，生成的二维码内容默认用‘#’间隔，如:姓名#性别")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"3"==e.data.QrCodeSource,expression:"data.QrCodeSource == '3'"}],staticClass:"qrcode-other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.QrCodeContent,expression:"data.QrCodeContent"}],domProps:{value:e.data.QrCodeContent},on:{focus:e.inputFocus,blur:e.inputBlur,input:[function(t){t.target.composing||e.$set(e.data,"QrCodeContent",t.target.value)},e.filterEmoji]}})])],1)]),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var Ro=i("VU/8")(_o,Ao,!1,function(e){i("BBAr"),i("7PkA")},"data-v-1717658c",null).exports,Io=window.GlobalPropertyData,Oo={components:{PositionSizeVue:ho,PrintOptionVue:so},props:["allFields"],data:function(){return{data:Io.data,barCodeContent:"",barCodeSource:""}},created:function(){},methods:{sourceChange:function(){this.data.BarCodeContent="",this.setTrackBarcode()},inputFocus:function(){Ke.Focus=!0,this.barCodeContent=this.data.BarCodeContent,this.barCodeSource=this.data.BarCodeSource},inputBlur:function(){Ke.Focus=!1,this.data.BarCodeContent!==this.barCodeContent&&this.setTrackBarcode()},setDataSource:function(){this.barCodeContent=this.data.BarCodeContent,this.barCodeSource=this.data.BarCodeSource},selectFieldsSource:function(){this.setTrackBarcode()},setTrackBarcode:function(){var e=[];e.push(this.data);var t={BarCodeContent:this.barCodeContent,BarCodeSource:this.barCodeSource};Bt.AddTraceBarSource(Bt.TraceType.BarCode,e,t)}},computed:{dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(!this.data.IsInSubTable)for(var t=0;t<this.allFields.length;t+=1)for(var i=this.allFields[t].FieldItems,o=0;o<i.length;o+=1)0!==i[o].FieldType&&1!==i[o].FieldType||e.push(i[o]);return e}return[]}}},Lo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"qrcode-property"},[i("div",{staticClass:"property-group property-group-source"},[i("div",{staticClass:"property-item property-title"},[e._v("条形码(code128)")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{focus:e.setDataSource,change:e.sourceChange},model:{value:e.data.BarCodeSource,callback:function(t){e.$set(e.data,"BarCodeSource",t)},expression:"data.BarCodeSource"}},[i("el-option",{attrs:{label:"根据表单字段生成条形码",value:0,size:"mini"}}),e._v(" "),i("el-option",{attrs:{label:"根据其他内容生成条形码",value:1,size:"mini"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"0"==e.data.BarCodeSource,expression:"data.BarCodeSource == '0'"}],staticClass:"select-formfield"},[i("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{"visible-change":e.setDataSource,change:e.selectFieldsSource},model:{value:e.data.BarCodeContent,callback:function(t){e.$set(e.data,"BarCodeContent",t)},expression:"data.BarCodeContent"}},e._l(e.dataFieldsSource,function(t,o){return i("el-option",{key:o,attrs:{label:t.FieldDes,value:t.FieldName,size:"mini"}},[i("span",{staticClass:"icon"}),e._v(" "),i("span",{staticStyle:{float:"left",color:"rgba(0,0,0,0.65)"}},[e._v(e._s(t.FieldDes))])])}),1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"1"==e.data.BarCodeSource,expression:"data.BarCodeSource == '1'"}],staticClass:"qrcode-other"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.data.BarCodeContent,expression:"data.BarCodeContent"}],domProps:{value:e.data.BarCodeContent},on:{focus:e.inputFocus,blur:e.inputBlur,input:[function(t){t.target.composing||e.$set(e.data,"BarCodeContent",t.target.value)},e.filterEmoji]}})])],1)]),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var zo=i("VU/8")(Oo,Lo,!1,function(e){i("H488"),i("Az6u")},"data-v-0573efed",null).exports,Ho=window.GlobalPropertyData,Go={name:"FormProperty",props:["schemaCode","printCode","allFields"],data:function(){return Ho},created:function(){},methods:{dataFieldChange:function(){var e=this;setTimeout(function(){var t=e.$refs.selectDataField.$el.children[0].children[0].value;0===e.data.TextSource&&(t=Re+t+Ie),e.data.Text=t,e.propertyChange("","Text")})},propertyChange:function(e,t){setTimeout(function(){ri(e,t)})},maxWidth:function(){var e=window.GlobalPrintProperties.pageSettings,t=e.Width-this.data.PointX-e.MarginRight;return t},maxHeight:function(){var e=window.GlobalPrintProperties.pageSettings,t=e.Height-this.currentPointY-e.MarginBottom;return t},selectPicpure:function(){this.$refs.addPicture.value="",this.$refs.addPicture.click()},selectedPicture:function(e){var t=this,i=ee()(this.$refs.addPicture)[0].files[0];if(""!==e.target.value){var o=e.target.value.toLocaleLowerCase(),r=this.isImageWaterMark?/\.(png)$/:/\.(gif|jpg|png|jpeg)$/,a=this.isImageWaterMark?"图片只支持png":"图片只支持jpg,gif,png,jpeg格式";if(r.test(o)){if(i){var n=new FileReader;n.readAsDataURL(i),n.onload=function(e){var i=e.target.result,o=new Image;o.onload=function(){var e=o.width,i=o.height;t.isImageWaterMark&&(o.width>250||o.height>250)?t.$message({message:"请上传宽高少于250px的图片",showClose:!0,type:"error"}):t.upLoadImage(n.result,e,i)},o.src=i,t.$nextTick(function(){var e=ee()(t.$refs.addPicture)[0];if(-1!==navigator.appVersion.indexOf("MSIE")){var i=e.cloneNode(!1);i.onchange=e.onchange,e.parentNode.replaceChild(i,e)}else ee()(e).val("")})}}}else this.$message({message:a,showClose:!0,type:"error"})}},upLoadImage:function(e,t,i){var o=this;return ge()(he.a.mark(function r(){var a,n,s,l;return he.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ci(o.schemaCode,o.printCode,e,o.data.Code);case 2:(a=r.sent).Successful&&(n=a.ReturnData.AttachmentsAddress+"&random="+o.getRandom(),o.type=Ae.Image,o.data.name="图片",o.data.Value=n,o.data.TextSource=0,s=o.maxWidth(),l=t/s,o.data.Width=t>s?s:t,o.data.Height=t>s?i/l:i,ri(o.data,"Image"));case 4:case"end":return r.stop()}},r,o)}))()}},computed:{title:function(){return this.data.PropertyType===Ae.ImageWatermark?"图片水印":"图片"},acceptImageTypes:function(){return this.data.PropertyType===Ae.ImageWatermark?"image/png":"image/png, image/jpeg, image/gif, image/jpg"},isImageWaterMark:function(){return this.data.PropertyType===Ae.ImageWatermark},dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(this.data.IsInSubTable){if(this.data.IsInSubTable)for(var t=this.allFields[0].FieldItems,i=0;i<t.length;i+=1)this.data.OuterSubTable===t[i].FieldName&&(e=t[i].Children)}else for(var o=0;o<this.allFields.length;o+=1)for(var r=this.allFields[o].FieldItems,a=0;a<r.length;a+=1)0!==r[a].FieldType&&1!==r[a].FieldType||e.push(r[a]);return e}return[]},textSourceChange:function(){return this.data.TextSource},positionChange:function(){return this.data.PointX+this.data.PointY},sizeChange:function(){return this.data.Width+this.data.Height}},components:{PositionSizeVue:ho,PrintOptionVue:so},watch:{textSourceChange:function(){this.dataFieldChange()},positionChange:function(){ri("","Position")},sizeChange:function(){ri("","Size")}}},Wo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("div",{staticClass:"property-group property-group-imagesource"},[i("div",{staticClass:"property-item property-title"},[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"preview-image"},[i("img",{attrs:{src:e.data.Value,alt:"",id:"imgShow",height:"108"}}),e._v(" "),e.isImageWaterMark&&!e.data.Value?i("span",{staticClass:"water-mark-tips"},[e._v("请上传透明背景的png图片")]):e._e()]),e._v(" "),i("a",{staticClass:"image-file",attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.selectPicpure(t)}}},[i("i",{staticClass:"icon h3yun_All upload-o"}),i("span",[e._v(e._s(void 0===e.data.Value||""==e.data.Value?"上传图片":"重新上传"))]),e._v(" "),i("input",{ref:"addPicture",staticStyle:{display:"none"},attrs:{type:"file",accept:e.acceptImageTypes},on:{change:function(t){return e.selectedPicture(t)}}})])]),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),e.isImageWaterMark?e._e():i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var Mo=i("VU/8")(Go,Wo,!1,function(e){i("MCm/")},"data-v-03d128a6",null).exports,Eo=window.GlobalPropertyData,jo={name:"FormProperty",props:["allFields"],data:function(){return{data:Eo.data,fontSizeBorder:!0,borderNoneChoose:!0}},created:function(){this.LineDirection=Je},components:{PositionSizeVue:ho,PrintOptionVue:so,BorderSetting:Ki},computed:{direction:function(){return 1===this.data.Direction}},watch:{direction:function(){if(0===this.data.Direction){var e=this.data.Height;this.data.Width=e,this.data.Height=1}else{var t=this.data.Width;this.data.Height=t,this.data.Width=1}ri("","LineDirection")}}},No={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"line-property"},[i("div",{staticClass:"property-group"},[i("div",{staticClass:"property-item property-title"},[e._v("方向")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[i("li",{staticClass:"text-source"},[i("div",{staticClass:"form-datafield"},[i("el-select",{ref:"selectDataField",attrs:{placeholder:"请选择"},model:{value:e.data.Direction,callback:function(t){e.$set(e.data,"Direction",t)},expression:"data.Direction"}},e._l(e.LineDirection,function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.value,size:"mini","popper-class":"select-datafield"}})}),1)],1)])])])]),e._v(" "),i("position-size-vue",{attrs:{data:e.data,heightDisable:!e.direction,widthDisable:e.direction}}),e._v(" "),i("border-setting",{attrs:{data:e.data,fontSizeBorder:e.fontSizeBorder}}),e._v(" "),i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var Uo=i("VU/8")(jo,No,!1,function(e){i("0/SW")},"data-v-74edadcc",null).exports,Vo={name:"ImageNumber",props:{data:{type:Object,default:{}}},data:function(){return{imageNumber:1,isShow:!1}},created:function(){this.imageNumber=this.data.ImageNumber||1,this.data.ImageNumber=this.imageNumber},mounted:function(){var e=this;this.isShow=!window.GlobalPrintProperties.pageSettings.PrintDocType,this.$root.eventHub.$on("PrintDocType.change",function(){e.isShow=!window.GlobalPrintProperties.pageSettings.PrintDocType})},methods:{imageNumChange:function(e){this.imageNumber=e,this.data.ImageNumber=e,ri("","imageNumber",null,this.data)}}},Yo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"property-group property-group-image-number"},[i("div",{staticClass:"property-item property-title"},[e._v("格式")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("span",{on:{click:function(t){return e.imageNumChange(0)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.imageNumber,expression:"imageNumber"}],attrs:{type:"radio",name:"imageNumber",id:"number1"},domProps:{value:0,checked:e._q(e.imageNumber,0)},on:{change:function(t){e.imageNumber=0}}}),e._v(" "),i("label",{attrs:{for:"number1"}},[e._v("打印第一张图片")])]),e._v(" "),i("span",{on:{click:function(t){return e.imageNumChange(1)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.imageNumber,expression:"imageNumber"}],attrs:{type:"radio",name:"imageNumber",id:"number1"},domProps:{value:1,checked:e._q(e.imageNumber,1)},on:{change:function(t){e.imageNumber=1}}}),e._v(" "),i("label",{attrs:{for:"number2"}},[e._v("打印全部图片")])])])])},staticRenderFns:[]};var Xo=i("VU/8")(Vo,Yo,!1,function(e){i("RK66")},"data-v-c9bea33e",null).exports,Qo=window.GlobalPropertyData,qo={name:"FormProperty",props:["allFields"],data:function(){return{data:Qo.data,fontSizeBorder:!0,textAlignShow:!0,imageSource:"",isShow:!1}},created:function(){},mounted:function(){var e=this;ee()(".el-select-dropdown__item").click(function(){ee()(".el-input__inner").addClass("gray")}),ee()(".el-input__inner").click(function(){ee()(e).removeClass("gray")}),this.data.IsInSubTable&&(this.fontSizeBorder=!1),this.imageSource=this.data.Text.replace("${","").replace("}",""),this.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType,this.$root.eventHub.$on("PrintDocType.change",function(){e.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType})},methods:{dataFieldChange:function(){var e=this;this.data.DataField&&(this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text||this.$nextTick(function(){var t=void 0;t=e.data.TextSource===Xe.FormDataField?e.$refs.selectDataField.$el.children[0].children[0].value:e.data.Text,e.data.Text=t,ri("","Text")}))},inputFocus:function(){Ke.Focus=!0},inputBlur:function(){Ke.Focus=!1},showThisTip:function(){ee()(".table-tip").show()},hideThisTip:function(){ee()(".table-tip").hide()}},components:{PositionSizeVue:ho,PrintOptionVue:so,FontSize:Ni,BorderSetting:Ki,TextAlign:Yi,ImageNumber:Xo},computed:{dataFieldsSource:function(){if(this.allFields&&this.allFields.length){var e=[];if(this.data.IsInSubTable){if(this.data.IsInSubTable){var t=[];t="WorkFlowLog"===this.data.OuterSubTable?this.allFields[3].FieldItems:this.allFields[0].FieldItems;for(var i=0;i<t.length;i+=1)this.data.OuterSubTable===t[i].FieldName&&(e=t[i].Children)}}else for(var o=0;o<this.allFields.length;o+=1)for(var r=this.allFields[o].FieldItems,a=0;a<r.length;a+=1)0!==r[a].FieldType&&1!==r[a].FieldType||e.push(r[a]);return e}return[]},textChange:function(){return this.data.Text},textSourceChange:function(){return this.data.TextSource},positionChange:function(){return this.data.PointX+this.data.PointY},sizeChange:function(){return this.data.Width+this.data.Height}},watch:{textSourceChange:function(e){this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text||(this.data.PropertyType=1===e?Ae.Text:Ae.Form),this.dataFieldChange()},textChange:function(){1===this.data.TextSource&&(this.data.PropertyType!==Ae.Form&&this.data.PropertyType!==Ae.System&&this.data.PropertyType!==Ae.Text||this.$nextTick(function(){ri("","Text")}))}}},$o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("div",{staticClass:"property-group property-group-textsource"},[i("div",{staticClass:"property-item property-title"},[e._v("\n      图片来源\n      "),i("i",{staticClass:"icon h3yun_All question-circle",on:{mouseover:e.showThisTip,mouseout:e.hideThisTip}})]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("span",{staticClass:"imageSource"},[e._v(e._s(e.imageSource))])])]),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),i("print-option-vue",{attrs:{data:e.data}})],1)},staticRenderFns:[]};var Jo=i("VU/8")(qo,$o,!1,function(e){i("ZACa")},"data-v-5508e590",null).exports,Ko={name:"MultiFontSizeProperty",props:{multiData:{type:Array,default:[]},fontSetShow:{type:Boolean,default:!0}},data:function(){return{fontSizes:[6,7,8,9,10,11,12,13,14,16,18,20,28,36,48,72],color:"",fontSizeNum:12,fontPropertySet:[],defaultColor:"#333",colorShow:"#333",disabledUnderLine:!1,font12Show:!1}},components:{colorPickerFont:Mi},created:function(){},methods:{headleChangeColor:function(){this.setTrackFont(),this.colorShow=this.color;for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];if(t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog){var i=t.Properties;t.Font.FontColor=this.color;for(var o=0;o<i.length;o+=1)i[o].Font.FontColor=this.color}else t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.TextWatermark||(t.Font.FontColor=this.color)}ri("","multiFont")},fontSizeChange:function(){this.setTrackFont(),this.font12Show=!1;for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];if(t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog)for(var i=t.Properties,o=0;o<i.length;o+=1)i[o].Font.FontSize=this.fontSizeNum;else t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.TextWatermark||(t.Font.FontSize=this.fontSizeNum)}ri("","multiFont")},setFieldBold:function(e){this.setTrackFont();for(var t=e,i=0;i<this.multiData.length;i+=1){var o=this.multiData[i];if(o.PropertyType===Ae.SubTable||o.PropertyType===Ae.WorkFlowLog){o.Font.Bold=t;for(var r=o.Properties,a=0;a<r.length;a+=1)r[a].Font.Bold=t}else o.PropertyType!==Ae.Form&&o.PropertyType!==Ae.System&&o.PropertyType!==Ae.Text&&o.PropertyType!==Ae.TextWatermark||(o.Font.Bold=t)}},setFieldItalic:function(e){this.setTrackFont();for(var t=e,i=0;i<this.multiData.length;i+=1){var o=this.multiData[i];if(o.PropertyType===Ae.SubTable||o.PropertyType===Ae.WorkFlowLog)for(var r=o.Properties,a=0;a<r.length;a+=1)r[a].Font.Italic=t;else o.PropertyType!==Ae.Form&&o.PropertyType!==Ae.System&&o.PropertyType!==Ae.Text&&o.PropertyType!==Ae.TextWatermark||(o.Font.Italic=t)}},setFieldUnderLine:function(e){this.setTrackFont();for(var t=e,i=0;i<this.multiData.length;i+=1){var o=this.multiData[i];if(o.PropertyType===Ae.SubTable||o.PropertyType===Ae.WorkFlowLog)for(var r=o.Properties,a=0;a<r.length;a+=1)r[a].Font.UnderLine=t;else o.PropertyType!==Ae.Form&&o.PropertyType!==Ae.System&&o.PropertyType!==Ae.Text&&o.PropertyType!==Ae.TextWatermark||(o.Font.UnderLine=t)}},fontBoldyUpdate:function(){this.fontPropertySet.indexOf("bold")>-1?this.setFieldBold(!0):this.setFieldBold(!1),ri("","multiFont")},fontItalicyUpdate:function(){this.fontPropertySet.indexOf("Italic")>-1?this.setFieldItalic(!0):this.setFieldItalic(!1),ri("","multiFont")},fontUnderLineyUpdate:function(){this.fontPropertySet.indexOf("UnderLine")>-1?this.setFieldUnderLine(!0):this.setFieldUnderLine(!1),ri("","multiFont")},clickType:function(){window.GlobalPrintProperties.ColorPickerFont.openStatusFont=!1},visibleChange:function(){window.GlobalPrintProperties.ColorPickerFont.openStatusFont=!1},toShowDefaultProperty:function(){for(var e=!0,t=!0,i=!0,o=!0,r=!0,a=0;a<this.multiData.length;a+=1)this.multiData[a].Font&&(this.multiData[a].Font.FontSize!==this.multiData[0].Font.FontSize&&(e=!1),this.multiData[a].Font.FontColor!==this.multiData[0].Font.FontColor&&(t=!1),this.multiData[a].Font.Bold!==this.multiData[0].Font.Bold&&(i=!1),this.multiData[a].Font.Italic!==this.multiData[0].Font.Italic&&(o=!1),this.multiData[a].Font.UnderLine!==this.multiData[0].Font.UnderLine&&(r=!1));this.multiData.length&&this.multiData[0].Font&&(e?this.fontSizeNum=this.multiData[0].Font.FontSize:(this.fontSizeNum=-1,this.font12Show=!0),this.colorShow=t?this.multiData[0].Font.FontColor:this.defaultColor,i&&this.multiData[0].Font.Bold&&this.fontPropertySet.push("bold"),o&&this.multiData[0].Font.Italic&&this.fontPropertySet.push("Italic"),r&&this.multiData[0].Font.UnderLine&&this.fontPropertySet.push("UnderLine"))},setTrackFont:function(){for(var e=[],t=[],i=0;i<this.multiData.length;i+=1){var o={Bold:this.multiData[i].Font.Bold,FontColor:this.multiData[i].Font.FontColor,FontSize:this.multiData[i].Font.FontSize,Italic:this.multiData[i].Font.Italic,UnderLine:this.multiData[i].Font.UnderLine};e.push(this.multiData[i]),t.push(o)}Bt.AddTraceFont(Bt.TraceType.Font,e,t)}},mounted:function(){this.toShowDefaultProperty()},watch:{multiData:{handler:function(e){this.multiData=e,this.multiData&&this.multiData.length>0&&this.toShowDefaultProperty()}}}},Zo={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fontSetShow?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("字体")]),e._v(" "),i("div",{staticClass:"text-align-box"},[i("el-select",{staticClass:"fontSize-box fl",attrs:{placeholder:"请选择",title:"字体尺寸","popper-class":"fontSize-dropdown"},on:{"visible-change":e.visibleChange,focus:function(e){e.target.blur()},change:e.fontSizeChange},model:{value:e.fontSizeNum,callback:function(t){e.fontSizeNum=e._n(t)},expression:"fontSizeNum"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.font12Show,expression:"font12Show"}],staticClass:"font12",attrs:{slot:"prefix"},slot:"prefix"},[e._v("12")]),e._v(" "),e._l(e.fontSizes,function(e,t){return i("el-option",{key:t,attrs:{label:e,value:e}})})],2),e._v(" "),i("div",{staticClass:"dropdown-box fl ml12 dropdown-color-box",attrs:{title:"文本颜色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All text-a"}),e._v(" "),i("colorPickerFont",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),i("el-checkbox-group",{staticClass:"fl ml12 checkboxBtnChoose",attrs:{size:"small"},on:{click:e.clickType},model:{value:e.fontPropertySet,callback:function(t){e.fontPropertySet=t},expression:"fontPropertySet"}},[i("el-checkbox-button",{attrs:{label:"bold",title:"粗体"},on:{change:e.fontBoldyUpdate}},[i("i",{staticClass:"icon h3yun_All thickening"})]),e._v(" "),i("el-checkbox-button",{attrs:{label:"Italic",title:"斜体"},on:{change:e.fontItalicyUpdate}},[i("i",{staticClass:"icon h3yun_All Italic"})]),e._v(" "),i("el-checkbox-button",{attrs:{label:"UnderLine",disabled:e.disabledUnderLine,title:"下划线"},on:{change:e.fontUnderLineyUpdate}},[i("i",{staticClass:"icon h3yun_All underline"})])],1),e._v(" "),i("div",{staticClass:"clearfix"})],1)]):e._e()},staticRenderFns:[]};var er=i("VU/8")(Ko,Zo,!1,function(e){i("1TJJ")},"data-v-42266900",null).exports,tr={name:"MultiTextAlignProperty",props:{multiData:{type:Array,default:[]},textAlignShow:{type:Boolean,default:!0}},data:function(){return{radio5:-1,radio6:-1}},methods:{updateHorizontal:function(e){this.setTrackTextAlign();for(var t=0;t<this.multiData.length;t+=1){var i=this.multiData[t];if(i.Alignment.HorizontalType=parseInt(e,10),i.PropertyType===Ae.SubTable||i.PropertyType===Ae.WorkFlowLog)for(var o=i.Properties,r=0;r<o.length;r+=1)o[r].Alignment.HorizontalType=parseInt(e,10)}ri("","multiTextAlign")},updateVertical:function(e){this.setTrackTextAlign();for(var t=0;t<this.multiData.length;t+=1){var i=this.multiData[t];if(i.Alignment.VerticalType=parseInt(e,10),i.PropertyType===Ae.SubTable||i.PropertyType===Ae.WorkFlowLog)for(var o=i.Properties,r=0;r<o.length;r+=1)o[r].Alignment.VerticalType=parseInt(e,10)}ri("","multiTextAlign")},toShowDefaultProperty:function(){for(var e=!0,t=!0,i=0;i<this.multiData.length;i+=1)this.multiData[i].Alignment.HorizontalType!==this.multiData[0].Alignment.HorizontalType&&(e=!1),this.multiData[i].Alignment.VerticalType!==this.multiData[0].Alignment.VerticalType&&(t=!1);this.multiData.length&&this.multiData[0].Alignment&&(this.radio5=e?this.multiData[0].Alignment.HorizontalType:-1,this.radio6=t?this.multiData[0].Alignment.VerticalType:-1)},setTrackTextAlign:function(){for(var e=[],t=[],i=0;i<this.multiData.length;i+=1){var o={HorizontalType:this.multiData[i].Alignment.HorizontalType,VerticalType:this.multiData[i].Alignment.VerticalType};e.push(this.multiData[i]),t.push(o)}Bt.AddTraceTextAlign(Bt.TraceType.TextAlign,e,t)}},mounted:function(){this.toShowDefaultProperty()},watch:{multiData:{handler:function(e){this.multiData=e,this.multiData&&this.multiData.length>0&&this.toShowDefaultProperty()}}}},ir={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.textAlignShow?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("对齐")]),e._v(" "),i("div",{staticClass:"text-align-box textAlignBox"},[i("el-radio-group",{attrs:{size:"small"},on:{change:e.updateHorizontal},model:{value:e.radio5,callback:function(t){e.radio5=t},expression:"radio5"}},[i("el-radio-button",{attrs:{label:"0",title:"左侧对齐"}},[i("i",{staticClass:"icon h3yun_All left-alignment"})]),e._v(" "),i("el-radio-button",{attrs:{label:"1",title:"水平居中"}},[i("i",{staticClass:"icon h3yun_All center-alignment"})]),e._v(" "),i("el-radio-button",{attrs:{label:"2",title:"右侧对齐"}},[i("i",{staticClass:"icon h3yun_All right-alignment"})])],1),e._v(" "),i("el-radio-group",{attrs:{size:"small"},on:{change:e.updateVertical},model:{value:e.radio6,callback:function(t){e.radio6=t},expression:"radio6"}},[i("el-radio-button",{attrs:{label:"0",title:"顶部对齐"}},[i("i",{staticClass:"icon h3yun_All align-top"})]),e._v(" "),i("el-radio-button",{attrs:{label:"1",title:"垂直居中"}},[i("i",{staticClass:"icon h3yun_All align-vertical-cente"})]),e._v(" "),i("el-radio-button",{attrs:{label:"2",title:"底部对齐"}},[i("i",{staticClass:"icon h3yun_All align-bottom"})])],1)],1)]):e._e()},staticRenderFns:[]};var or=i("VU/8")(tr,ir,!1,function(e){i("ysXI")},"data-v-6dce0bf8",null).exports,rr={name:"fillColorProperty",props:{multiData:{type:Array,default:[]},fillColorShow:{type:Boolean,default:!0}},data:function(){return{color:"",defaultColor:"#fff",colorShow:"#333"}},components:{colorPickerFill:to},created:function(){},methods:{headleChangeColor:function(){this.setTrackFillColor(),this.colorShow=this.color;for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];if(t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog){var i=t.Properties;t.FillColor=this.color;for(var o=0;o<i.length;o+=1)i[o].FillColor=this.color}else t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.Rectangle||(t.FillColor=this.color)}ri("","multiFillColor")},setTrackFillColor:function(){for(var e=[],t=[],i=0;i<this.multiData.length;i+=1)e.push(this.multiData[i]),t.push({FillColor:this.multiData[i].FillColor});Bt.AddTraceFillColor(Bt.TraceType.FillColor,e,t)}},mounted:function(){var e=!0,t=this.multiData.filter(function(e){return""!==e.FillColor});if(t.length>0){for(var i=0;i<t.length;i+=1)if(t[i].FillColor!==t[0].FillColor){e=!1;break}this.colorShow=e?t[0].FillColor:"#333"}}},ar={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fillColorShow?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("填充色")]),e._v(" "),i("div",{staticClass:"text-align-box"},[i("div",{staticClass:"dropdown-box dropdown-color-box color-fill",attrs:{title:"填充色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All paint-bucket"}),e._v(" "),i("colorPickerFill",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)])]):e._e()},staticRenderFns:[]};var nr=i("VU/8")(rr,ar,!1,function(e){i("mnAs")},"data-v-a289c2ca",null).exports,sr={name:"MultiBorderProperty",props:{multiData:{type:Array,default:[]},fontSizeBorder:{type:Boolean,default:!0}},data:function(){return{color:"",borderChecked:!0,borderSize:-1,borderType:1,openMenu:!1,borderTopSelected:!0,borderRightSelected:!0,borderBottomSelected:!0,borderLeftSelected:!0,hasDisabled:!1,typeDisabled:!1,colorDisabled:!1,sizeDisabled:!1,colorShow:"#333",borderNoneChoose:!0,defaultColor:""}},components:{colorPicker:qi},created:function(){},methods:{headleChangeColor:function(){this.setTrackBorder();for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];if(t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog){t.Border.BorderColor=this.color,this.colorShow=this.color;for(var i=t.Properties,o=0;o<i.length;o+=1)t.Border.BorderSize>0&&(i[o].Border.BorderColor=this.color)}else t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.Rectangle&&t.PropertyType!==Ae.Line&&propertyType!==Ae.CustomWorkFlowLog||t.IsInSubTable||(t.Border.BorderColor=this.color,this.colorShow=this.color)}ri("","multiBorder")},openComMenu:function(){window.GlobalPrintProperties.ColorPicker.openStatus=!1,this.openMenu=!this.openMenu},chooseBorderShow:function(){},borderSizeUpdate:function(){this.setTrackBorder();for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog||t.PropertyType===Ae.Line?t.Border.BorderSize=-1===this.borderSize?1:this.borderSize:t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.Rectangle&&propertyType!==Ae.CustomWorkFlowLog||t.IsInSubTable||(t.Border.BorderSize=this.borderSize,t.Border.BorderSize>0&&(this.hasDisabled=!1))}ri("","multiBorder")},borderTypeUpdate:function(){this.setTrackBorder();for(var e=0;e<this.multiData.length;e+=1){var t=this.multiData[e];t.PropertyType===Ae.SubTable||t.PropertyType===Ae.WorkFlowLog?t.Border.BorderType=this.borderType:t.PropertyType!==Ae.Form&&t.PropertyType!==Ae.System&&t.PropertyType!==Ae.Text&&t.PropertyType!==Ae.Rectangle&&t.PropertyType!==Ae.Line&&propertyType!==Ae.CustomWorkFlowLog||t.IsInSubTable||(t.Border.BorderType=this.borderType)}ri("","multiBorder")},borderShowTop:function(){var e=this;this.setTrackBorder(),this.borderTopSelected=!this.borderTopSelected,this.multiData.forEach(function(t){t.Border.BorderTop=e.borderTopSelected}),ri("","multiBorder")},borderShowRight:function(){var e=this;this.setTrackBorder(),this.borderRightSelected=!this.borderRightSelected,this.multiData.forEach(function(t){t.Border.BorderRight=e.borderRightSelected}),ri("","multiBorder")},borderShowBottom:function(){var e=this;this.setTrackBorder(),this.borderBottomSelected=!this.borderBottomSelected,this.multiData.forEach(function(t){t.Border.BorderBottom=e.borderBottomSelected}),ri("","multiBorder")},borderShowLeft:function(){var e=this;this.setTrackBorder(),this.borderLeftSelected=!this.borderLeftSelected,this.multiData.forEach(function(t){t.Border.BorderLeft=e.borderLeftSelected}),ri("","multiBorder")},visibleChange:function(){this.openMenu=!1,window.GlobalPrintProperties.ColorPicker.openStatus=!1},selectFocus:function(e){e.target.blur()},toShowDefaultProperty:function(){for(var e=!0,t=!0,i=!0,o=!1,r=!1,a=!0,n=!0,s=!0,l=!0,d=0,c=0;c<this.multiData.length;c+=1){var h=this.multiData[c];""===h.Border.BorderColor&&(h.PropertyType===Ae.SubTable||h.PropertyType===Ae.WorkFlowLog?h.Border.BorderColor="#666":h.PropertyType!==Ae.Line&&h.PropertyType!==Ae.Form&&h.PropertyType!==Ae.System&&h.PropertyType!==Ae.Text&&h.PropertyType!==Ae.Rectangle||(h.Border.BorderColor="#333")),h.PropertyType===Ae.SubTable||h.PropertyType===Ae.WorkFlowLog||h.PropertyType===Ae.Line?(o=!0,h.Border.BorderSize!==this.multiData[0].Border.BorderSize&&(e=!1),h.Border.BorderColor!==this.multiData[0].Border.BorderColor&&(t=!1),h.Border.BorderType!==this.multiData[0].Border.BorderType&&(i=!1)):h.PropertyType!==Ae.Form&&h.PropertyType!==Ae.System&&h.PropertyType!==Ae.Text&&h.PropertyType!==Ae.Rectangle||(d=c,h.Border.BorderSize>0&&(r=!0),h.Border.BorderSize!==this.multiData[0].Border.BorderSize&&(e=!1),h.Border.BorderColor!==this.multiData[0].Border.BorderColor&&(t=!1),h.Border.BorderType!==this.multiData[0].Border.BorderType&&(i=!1),h.Border.BorderTop!==this.multiData[d].Border.BorderTop&&(a=!1),h.Border.BorderRight!==this.multiData[d].Border.BorderRight&&(n=!1),h.Border.BorderBottom!==this.multiData[d].Border.BorderBottom&&(s=!1),h.Border.BorderLeft!==this.multiData[d].Border.BorderLeft&&(l=!1))}this.multiData.length&&this.multiData[0].Border&&(this.borderSize=e?this.multiData[0].Border.BorderSize:-1,this.colorShow=t?this.multiData[0].Border.BorderColor:this.defaultColor,this.borderType=i?this.multiData[0].Border.BorderType:1),this.hasDisabled=!1,this.defaultColor="#333",o&&!r&&(this.hasDisabled=!0,this.defaultColor="#666"),this.multiData.length&&this.multiData[d].Border&&(this.borderTopSelected=!a||this.multiData[d].Border.BorderTop,this.borderRightSelected=!n||this.multiData[d].Border.BorderRight,this.borderBottomSelected=!s||this.multiData[d].Border.BorderBottom,this.borderLeftSelected=!l||this.multiData[d].Border.BorderLeft)},setTrackBorder:function(){for(var e=[],t=[],i=0;i<this.multiData.length;i+=1){var o={BorderSize:this.multiData[i].Border.BorderSize,BorderColor:this.multiData[i].Border.BorderColor,BorderType:this.multiData[i].Border.BorderType,Enable:this.multiData[i].Border.Enable,BorderTop:this.multiData[i].Border.BorderTop,BorderRight:this.multiData[i].Border.BorderRight,BorderBottom:this.multiData[i].Border.BorderBottom,BorderLeft:this.multiData[i].Border.BorderLeft};e.push(this.multiData[i]),t.push(o)}Bt.AddTraceBorder(Bt.TraceType.Border,e,t)}},mounted:function(){var e=this;ee()(document).on("click",function(){e.openMenu=!1}),this.toShowDefaultProperty()},watch:{multiData:{handler:function(e){this.multiData=e,this.multiData&&this.multiData.length>0&&this.toShowDefaultProperty()}}}},lr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fontSizeBorder?i("div",{staticClass:"property-group property-group-position"},[i("div",{staticClass:"property-item property-title"},[e._v("边框")]),e._v(" "),i("div",{staticClass:"dropdown-box fl",attrs:{disabled:e.sizeDisabled,title:"线宽"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("el-select",{staticClass:"border-box",attrs:{disabled:e.sizeDisabled,placeholder:"请选择","popper-class":"border-dropdown"},on:{"visible-change":e.visibleChange,change:e.borderSizeUpdate,focus:e.selectFocus},model:{value:e.borderSize,callback:function(t){e.borderSize=e._n(t)},expression:"borderSize"}},[i("i",{staticClass:"icon h3yun_All onerow-twocolumn border-set-icon",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),i("el-option",{directives:[{name:"show",rawName:"v-show",value:e.borderNoneChoose,expression:"borderNoneChoose"}],attrs:{label:0,value:0}},[i("div",[e._v("无边框")])]),e._v(" "),i("el-option",{attrs:{label:1,value:1}},[i("div",{staticClass:"line_1"})]),e._v(" "),i("el-option",{attrs:{label:2,value:2}},[i("div",{staticClass:"line_2"})]),e._v(" "),i("el-option",{attrs:{label:3,value:3}},[i("div",{staticClass:"line_3"})]),e._v(" "),i("el-option",{attrs:{label:4,value:4}},[i("div",{staticClass:"line_4"})]),e._v(" "),i("el-option",{attrs:{label:5,value:5}},[i("div",{staticClass:"line_5"})])],1)],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24 dropdown-color-box",attrs:{disabled:e.colorDisabled,title:"线段颜色"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All pen-o"}),e._v(" "),i("colorPicker",{attrs:{defaultColor:e.defaultColor},on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24",attrs:{disabled:e.typeDisabled,title:"线段类型"}},[i("div",{staticClass:"mask-disabled"}),e._v(" "),i("el-select",{staticClass:"border-box",attrs:{disabled:e.typeDisabled,placeholder:"请选择","popper-class":"border-dropdown"},on:{"visible-change":e.visibleChange,change:e.borderTypeUpdate,focus:e.selectFocus},model:{value:e.borderType,callback:function(t){e.borderType=e._n(t)},expression:"borderType"}},[i("i",{staticClass:"icon h3yun_All line-segment border-set-icon",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),i("el-option",{directives:[{name:"show",rawName:"v-show",value:e.borderNoneChoose,expression:"borderNoneChoose"}],attrs:{label:0,value:0}},[i("div",[e._v("无")])]),e._v(" "),i("el-option",{attrs:{label:1,value:1}},[i("div",{staticClass:"line_solid"})]),e._v(" "),i("el-option",{attrs:{label:2,value:2}},[i("div",{staticClass:"line_dash"})])],1)],1),e._v(" "),i("div",{staticClass:"dropdown-box fl ml24 dropdown-com-box dropdown-round",attrs:{disabled:e.hasDisabled,title:"边框可见性"},on:{click:function(t){return t.stopPropagation(),e.chooseBorderShow(t)}}},[i("div",{staticClass:"dropdown-btn",on:{click:function(t){return t.stopPropagation(),e.openComMenu(t)}}}),e._v(" "),i("div",{staticClass:"mask-disabled"}),e._v(" "),i("i",{staticClass:"icon h3yun_All frame border-set-icon"}),e._v(" "),i("i",{staticClass:"el-select__caret el-input__icon el-icon-arrow-up",class:{transformArr:e.openMenu}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.openMenu,expression:"openMenu"}],staticClass:"dropdowm-menu-box"},[i("div",{staticClass:"option-box top"}),e._v(" "),i("div",{staticClass:"option-border-item",class:{"option-selected":e.borderTopSelected},on:{click:e.borderShowTop}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item right translate90",class:{"option-selected":e.borderRightSelected},on:{click:e.borderShowRight}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item bottom",class:{"option-selected":e.borderBottomSelected},on:{click:e.borderShowBottom}},[i("div",{staticClass:"border-line"})]),e._v(" "),i("div",{staticClass:"option-border-item left translate90",class:{"option-selected":e.borderLeftSelected},on:{click:e.borderShowLeft}},[i("div",{staticClass:"border-line"})])])]),e._v(" "),i("div",{staticClass:"clearfix"})]):e._e()},staticRenderFns:[]};var dr=i("VU/8")(sr,lr,!1,function(e){i("X//q")},"data-v-51889442",null).exports,cr={props:["multiData"],data:function(){return{isShow:!1,printAtFirstData:!0,printAtMiddleData:!0,printAtLastData:!0}},mounted:function(){var e=this;this.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType,this.$root.eventHub.$on("PrintDocType.change",function(){e.isShow=window.GlobalPrintProperties.pageSettings.PrintDocType,e.toShowDefaultProperty()}),this.toShowDefaultProperty()},methods:{PrintAtFirstFun:function(){this.printAtFirstData=!this.printAtFirstData;for(var e=0;e<this.multiData.length;e+=1){this.multiData[e].PrintAtFirst=this.printAtFirstData}},printAtMiddleFun:function(){this.printAtMiddleData=!this.printAtMiddleData;for(var e=0;e<this.multiData.length;e+=1){this.multiData[e].PrintAtMiddle=this.printAtMiddleData}},printAtLastFun:function(){this.printAtLastData=!this.printAtLastData;for(var e=0;e<this.multiData.length;e+=1){this.multiData[e].PrintAtLast=this.printAtLastData}},toShowDefaultProperty:function(){for(var e=!0,t=!0,i=!0,o=!0,r=0;r<this.multiData.length;r+=1)this.multiData[r].PropertyType!==Ae.SubTable&&this.multiData[r].PropertyType!==Ae.WorkFlowLog&&(o=!1),this.multiData[r].PrintAtFirst!==this.multiData[0].PrintAtFirst&&(e=!1),this.multiData[r].PrintAtMiddle!==this.multiData[0].PrintAtMiddle&&(t=!1),this.multiData[r].PrintAtLast!==this.multiData[0].PrintAtLast&&(i=!1);o&&(this.isShow=!1),this.multiData.length&&this.multiData[0].PrintAtFirst&&(this.printAtFirstData=!e||this.multiData[0].PrintAtFirst,this.printAtMiddleData=!t||this.multiData[0].PrintAtMiddle,this.printAtLastData=!i||this.multiData[0].PrintAtLast)}},watch:{multiData:{handler:function(e){this.multiData=e,this.multiData&&this.multiData.length>0&&this.toShowDefaultProperty()}}}},hr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"property-group property-group-printoption"},[i("div",{staticClass:"property-item property-title"},[e._v("打印选项")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("ul",[i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.printAtFirstData,expression:"printAtFirstData"}],attrs:{type:"checkbox",id:"ckPrintAtFirst"},domProps:{checked:Array.isArray(e.printAtFirstData)?e._i(e.printAtFirstData,null)>-1:e.printAtFirstData},on:{click:e.PrintAtFirstFun,change:function(t){var i=e.printAtFirstData,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&(e.printAtFirstData=i.concat([null])):a>-1&&(e.printAtFirstData=i.slice(0,a).concat(i.slice(a+1)))}else e.printAtFirstData=r}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtFirst"}},[i("span",{class:[e.printAtFirstData?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在第一页打印")])])]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.printAtMiddleData,expression:"printAtMiddleData"}],attrs:{type:"checkbox",id:"ckPrintAtMiddle"},domProps:{checked:Array.isArray(e.printAtMiddleData)?e._i(e.printAtMiddleData,null)>-1:e.printAtMiddleData},on:{click:e.printAtMiddleFun,change:function(t){var i=e.printAtMiddleData,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&(e.printAtMiddleData=i.concat([null])):a>-1&&(e.printAtMiddleData=i.slice(0,a).concat(i.slice(a+1)))}else e.printAtMiddleData=r}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtMiddle"}},[i("span",{class:[e.printAtMiddleData?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在中间页打印")])])]),e._v(" "),i("li",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.printAtLastData,expression:"printAtLastData"}],attrs:{type:"checkbox",id:"ckPrintAtLast"},domProps:{checked:Array.isArray(e.printAtLastData)?e._i(e.printAtLastData,null)>-1:e.printAtLastData},on:{click:e.printAtLastFun,change:function(t){var i=e.printAtLastData,o=t.target,r=!!o.checked;if(Array.isArray(i)){var a=e._i(i,null);o.checked?a<0&&(e.printAtLastData=i.concat([null])):a>-1&&(e.printAtLastData=i.slice(0,a).concat(i.slice(a+1)))}else e.printAtLastData=r}}}),e._v(" "),i("label",{staticClass:"checkbox-inline",attrs:{for:"ckPrintAtLast"}},[i("span",{class:[e.printAtLastData?"check-square":"rectangle-o","h3yun_All"]}),e._v(" "),i("span",{staticClass:"option"},[e._v("在最后一页打印")])])])])])])},staticRenderFns:[]};var ur=i("VU/8")(cr,hr,!1,function(e){i("Kr3/")},"data-v-06ae4442",null).exports,pr={name:"NoMultiproperties",props:{multiData:{type:Array,default:[]},noPerpertyShow:{type:Boolean,default:!1}},data:function(){return{}},created:function(){}},fr={render:function(){var e=this.$createElement,t=this._self._c||e;return this.noPerpertyShow?t("div",{staticClass:"property-group property-group-printoption"},[t("div",{staticClass:"nofield-property"},[this._v("\n       无可批量设置的属性\n     ")])]):this._e()},staticRenderFns:[]};var gr=i("VU/8")(pr,fr,!1,function(e){i("OTWl")},"data-v-0c890159",null).exports,vr=window.GlobalPropertyMultiData,mr={name:"MultiFieldsProperty",props:["allFields"],data:function(){return{multiData:vr.data,fontSizeBorder:!1,textAlignShow:!1,fontSetShow:!1,noPerpertyShow:!1,fillColorShow:!1,multiPropertyNum:2,multiOperateTip:"可对所有选中控件设置以下属性"}},created:function(){},mounted:function(){this.multiPropertyNum=this.multiData.length,this.toShowFieldsProperty()},methods:{inputFocus:function(){Ke.Focus=!0},inputBlur:function(){Ke.Focus=!1},selectFocus:function(e){e.target.blur()},toShowFieldsProperty:function(){var e=this;this.textAlignShow=!1,this.fontSetShow=!1;for(var t=0;t<this.multiData.length;t+=1)this.multiData[t].PropertyType===Ae.Form||this.multiData[t].PropertyType===Ae.System||this.multiData[t].PropertyType===Ae.Text?(this.textAlignShow=!0,this.fontSetShow=!0,this.fontSizeBorder=!0,this.fillColorShow=!0):this.multiData[t].PropertyType===Ae.SubTable||this.multiData[t].PropertyType===Ae.WorkFlowLog?(this.textAlignShow=!0,this.fontSetShow=!0,this.fontSizeBorder=!0,this.fillColorShow=!0):this.multiData[t].PropertyType!==Ae.Rectangle&&this.multiData[t].PropertyType!==Ae.Line||(this.fontSizeBorder=!0,this.fillColorShow=!0),this.multiData[t].PropertyType===Ae.Line&&(this.fillColorShow=!1);!0!==this.fontSetShow&&!0!==this.fontSizeBorder&&(0===window.GlobalPrintProperties.pageSettings.PrintDocType&&(this.noPerpertyShow=!0,this.multiOperateTip="无可批量设置的属性"),this.$root.eventHub.$on("PrintDocType.change",function(){0===window.GlobalPrintProperties.pageSettings.PrintDocType?(e.noPerpertyShow=!0,e.multiOperateTip="无可批量设置的属性"):(e.noPerpertyShow=!1,e.multiOperateTip="可对所有选中控件设置以下属性")}))}},components:{PrintOptionVue:ur,FontSize:er,BorderSetting:dr,TextAlign:or,NoPerpertySet:gr,FillColor:nr},computed:{},watch:{multiData:{handler:function(e){this.multiData=e,this.multiPropertyNum=this.multiData.length,this.toShowFieldsProperty()}}}},br={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("div",{staticClass:"property-group property-group-textsource"},[i("div",{staticClass:"property-item property-title mutiProperty-title"},[e._v("已选中("+e._s(e.multiPropertyNum)+")个控件，"+e._s(e.multiOperateTip))])]),e._v(" "),i("fill-color",{attrs:{multiData:e.multiData,fillColorShow:e.fillColorShow}}),e._v(" "),i("border-setting",{attrs:{multiData:e.multiData,fontSizeBorder:e.fontSizeBorder}}),e._v(" "),i("font-size",{attrs:{multiData:e.multiData,fontSetShow:e.fontSetShow}}),e._v(" "),i("text-align",{attrs:{multiData:e.multiData,textAlignShow:e.textAlignShow}}),e._v(" "),i("NoPerpertySet",{attrs:{multiData:e.multiData,noPerpertyShow:e.noPerpertyShow}}),e._v(" "),i("print-option-vue",{attrs:{multiData:e.multiData}})],1)},staticRenderFns:[]};var Pr=i("VU/8")(mr,br,!1,function(e){i("GI2n")},"data-v-4c343c2e",null).exports,yr={props:{headerFooterVisible:{type:Boolean,default:!1}},components:{InputNumber:So},data:function(){return{visible:!1,showHeader:!0,editorPosition:"",headerSetting:{},footerSetting:{},showSetting:{}}},created:function(){},methods:{editorHF:function(e){0===e?(this.showHeader=!0,this.showSetting=this.headerSetting):(this.showHeader=!1,this.showSetting=this.footerSetting)},choosePosition:function(e){this.editorPosition=e},handlerEmoji:function(){this.showSetting[this.editorPosition]=this.showSetting[this.editorPosition].replace(this.filterEmojiExp,"")},settingHeaderFooter:function(e,t){this.editorPosition&&(this.showHeader?this.headerSetting[this.editorPosition]+="["+t+"]":this.footerSetting[this.editorPosition]+="["+t+"]","SPAN"===e.target.tagName?(ee()(e.target).css("color","rgba(0,0,0,0.60)"),ee()(e.target).parent(".el-button.el-button--default").css("border-color","#D9D9D9")):(ee()(e.target).css("border-color","#D9D9D9"),ee()(e.target).find("span").css("color","rgba(0,0,0,0.60)")))},cancel:function(){this.visible=!1},ok:function(){this.visible=!1,this.headerSetting.MarginTop=at(this.headerSetting.MarginTop).toFixed(2)-0,this.footerSetting.MarginBottom=at(this.footerSetting.MarginBottom).toFixed(2)-0,window.GlobalPrintProperties.pageSettings.PageHeader=this.headerSetting,window.GlobalPrintProperties.pageSettings.PageFooter=this.footerSetting},handlerMMPX:function(){this.headerSetting.MarginTop=nt(this.headerSetting.MarginTop).toFixed(1)-0,this.footerSetting.MarginBottom=nt(this.footerSetting.MarginBottom).toFixed(1)-0},inputFocus:function(){Ke.Focus=!0},inputBlur:function(){Ke.Focus=!1}},watch:{headerFooterVisible:function(e){this.visible=e},visible:function(e){if(e){var t=window.GlobalPrintProperties.pageSettings.PageHeader,i=window.GlobalPrintProperties.pageSettings.PageFooter;this.headerSetting=pe()({},{},t),this.footerSetting=pe()({},{},i),this.handlerMMPX(),this.editorHF(0)}else this.$emit("close")}}},wr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"页面设置",width:"520px",top:"100px",visible:e.visible,"custom-class":"header-footer-setting"},on:{"update:visible":function(t){e.visible=t}}},[i("el-row",[i("el-col",{staticClass:"btn-grounp",attrs:{span:24}},[i("el-button",{class:{"el-button--primary":e.showHeader},on:{click:function(t){return e.editorHF(0)}}},[e._v("页眉")]),e._v(" "),i("el-button",{class:{"el-button--primary":!e.showHeader},on:{click:function(t){return e.editorHF(1)}}},[e._v("页脚")])],1)],1),e._v(" "),i("el-row",{staticClass:"editor-container"},[i("el-row",{staticClass:"header-distance-row"},[i("el-col",{attrs:{span:7}},[i("div",{staticClass:"row-title item-title"},[e._v("\n              "+e._s(e.showHeader?"页眉":"页脚")+"到"+e._s(e.showHeader?"顶部":"底部")+"距离：")])]),e._v(" "),i("el-col",{attrs:{span:5}},[i("div",{staticClass:"item-content"},[i("input-number",{directives:[{name:"show",rawName:"v-show",value:e.showHeader,expression:"showHeader"}],attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.showSetting.MarginTop,callback:function(t){e.$set(e.showSetting,"MarginTop",t)},expression:"showSetting.MarginTop"}}),e._v(" "),i("input-number",{directives:[{name:"show",rawName:"v-show",value:!e.showHeader,expression:"!showHeader"}],attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.showSetting.MarginBottom,callback:function(t){e.$set(e.showSetting,"MarginBottom",t)},expression:"showSetting.MarginBottom"}})],1)])],1),e._v(" "),i("el-row",{staticClass:"header-content-row"},[i("el-col",{staticClass:"row-title",attrs:{span:24}},[i("div",[e._v("若要插入以下内容，将光标放到分区中，选择按钮插入")])]),e._v(" "),i("el-col",{staticClass:"content-type",class:{disabled:""==e.editorPosition},attrs:{span:24}},[i("el-button",{on:{click:function(t){return e.settingHeaderFooter(t,"页码")}}},[e._v("页码")]),e._v(" "),i("el-button",{on:{click:function(t){return e.settingHeaderFooter(t,"页数")}}},[e._v("页数")]),e._v(" "),i("el-button",{on:{click:function(t){return e.settingHeaderFooter(t,"日期")}}},[e._v("日期")]),e._v(" "),i("el-button",{on:{click:function(t){return e.settingHeaderFooter(t,"时间")}}},[e._v("时间")])],1),e._v(" "),i("el-col",{staticClass:"content-posi-title left",attrs:{span:8}},[e._v("\n\t\t\t\t\t\t左：\n\t\t\t\t\t")]),e._v(" "),i("el-col",{staticClass:"content-posi-title center",attrs:{span:8}},[e._v("\n\t\t\t\t\t\t中：\n\t\t\t\t\t")]),e._v(" "),i("el-col",{staticClass:"content-posi-title right",attrs:{span:8}},[e._v("\n\t\t\t\t\t\t右：\n\t\t\t\t\t")]),e._v(" "),i("el-col",{staticClass:"content-posi-content left",attrs:{span:8}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.showSetting.Left,expression:"showSetting.Left"}],class:{active:"Left"==e.editorPosition},domProps:{value:e.showSetting.Left},on:{click:function(t){return e.choosePosition("Left")},input:[function(t){t.target.composing||e.$set(e.showSetting,"Left",t.target.value)},e.handlerEmoji],focus:e.inputFocus,blur:e.inputBlur}})]),e._v(" "),i("el-col",{staticClass:"content-posi-content center",attrs:{span:8}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.showSetting.Center,expression:"showSetting.Center"}],class:{active:"Center"==e.editorPosition},domProps:{value:e.showSetting.Center},on:{click:function(t){return e.choosePosition("Center")},input:[function(t){t.target.composing||e.$set(e.showSetting,"Center",t.target.value)},e.handlerEmoji],focus:e.inputFocus,blur:e.inputBlur}})]),e._v(" "),i("el-col",{staticClass:"content-posi-content right",attrs:{span:8}},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.showSetting.Right,expression:"showSetting.Right"}],class:{active:"Right"==e.editorPosition},domProps:{value:e.showSetting.Right},on:{click:function(t){return e.choosePosition("Right")},input:[function(t){t.target.composing||e.$set(e.showSetting,"Right",t.target.value)},e.handlerEmoji],focus:e.inputFocus,blur:e.inputBlur}})])],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Cr=i("VU/8")(yr,wr,!1,function(e){i("qQqD")},null,null).exports,Tr={props:{schemaCode:{type:String,default:""},printCode:{type:String,default:""},backgroundVisible:{type:Boolean,default:!1}},data:function(){return{visible:!1,backgroundImg:"",hasBackgroundImg:!1,IsPrintBackGround:!1}},created:function(){},methods:{UploadFile:function(){var e=this;return ge()(he.a.mark(function t(){var i,o;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.backgroundImg){t.next=4;break}return window.GlobalPrintProperties.pageSettings.BackGround="",ri("","BackGround"),t.abrupt("return");case 4:return t.next=6,Ci(e.schemaCode,e.printCode,e.backgroundImg,"background");case 6:(i=t.sent).Successful&&(o=i.ReturnData.AttachmentsAddress+"&random="+e.getRandom(),e.backgroundImg=o,window.GlobalPrintProperties.pageSettings.BackGround=o,ri("","BackGround"));case 8:case"end":return t.stop()}},t,e)}))()},ok:function(){var e=!0===this.IsPrintBackGround;window.GlobalPrintProperties.pageSettings.IsPrintBackGround=e,this.UploadFile(),this.visible=!1},chooseFile:function(){this.$refs.uploadInput.value="",this.$refs.uploadInput.click()},uploadImg:function(e){var t=this,i=e.target.files[0];if(""!==e.target.value){var o=e.target.value.toLocaleLowerCase();if(/\.(gif|jpg|png|jpeg)$/.test(o)){if(i){var r=new FileReader;r.onload=function(e){var i=e.target.result;t.backgroundImg=i},r.readAsDataURL(i)}}else this.$message({message:"图片只支持jpg,gif,png,jpeg格式",showClose:!0,type:"error"})}},deleteBackground:function(){var e=this.$refs.uploadInput,t=-1===navigator.appVersion.indexOf("MSIE");if(this.backgroundImg="",t){var i=e.cloneNode(!1);i.onchange=e.onchange,e.parentNode.replaceChild(i,e)}else ee()(e).val("")}},computed:{isProduction:function(){return-1===window.location.origin.indexOf("localhost")}},watch:{backgroundVisible:function(e){if(e){var t=window.GlobalPrintProperties.pageSettings;if(!this.backgroundImg){var i=t.BackGround;i=this.isProduction?i.replace("http:","https:"):i.replace("https:","http:"),this.backgroundImg=i,this.IsPrintBackGround=t.IsPrintBackGround}}this.visible=e},visible:function(e){e||this.$emit("close")},backgroundImg:function(e){e?(this.hasBackgroundImg=!0,ee()(".file-upload").removeClass("file-upload").addClass("file-reupload")):(this.hasBackgroundImg=!1,ee()(".file-reupload").removeClass("file-reupload").addClass("file-upload"))}}},Sr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"设置背景图片",width:"700px",top:"100px",visible:e.visible,"custom-class":"background-setting"},on:{"update:visible":function(t){e.visible=t}}},[i("el-row",[i("el-col",{staticClass:"col-left",attrs:{span:24}},[i("div",{staticClass:"title"},[e._v("添加图片")]),e._v(" "),i("div",{staticClass:"select-pic"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasBackgroundImg,expression:"!hasBackgroundImg"}],staticClass:"default-img"},[i("p",[e._v("点击下方“上传图片”按钮")]),e._v(" "),i("p",[e._v("（仅支持一张图片）")])]),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:e.hasBackgroundImg,expression:"hasBackgroundImg"}],staticClass:"preview-img",attrs:{src:e.backgroundImg,alt:""}})]),e._v(" "),i("div",{staticClass:"action action-file"},[i("el-button",{staticClass:"file-upload",class:{hasImgClass:e.hasBackgroundImg},on:{click:e.chooseFile}},[i("label",{staticClass:"btn"},[i("i",{staticClass:"h3yun_All upload-o"}),e._v(" "+e._s(e.hasBackgroundImg?"重新上传":"上传图片"))]),e._v(" "),i("input",{ref:"uploadInput",staticStyle:{position:"absolute",clip:"rect(0 0 0 0)",display:"none"},attrs:{type:"file",accept:"image/png, image/gif, image/jpg, image/jpeg"},on:{change:function(t){return e.uploadImg(t)}}})]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hasBackgroundImg,expression:"hasBackgroundImg"}],staticClass:"button-right",on:{click:e.deleteBackground}},[e._v("删除")])],1),e._v(" "),i("div",{staticClass:"help"},[e._v("\n\t\t\t\t\t\t支持jpg,gif,png,jpeg格式（上传高清图打印更清晰）\n\t\t\t\t\t")])]),e._v(" "),i("el-col",{staticClass:"col-right",attrs:{span:12}},[i("div",[i("el-checkbox",{attrs:{size:"medium"},model:{value:e.IsPrintBackGround,callback:function(t){e.IsPrintBackGround=t},expression:"IsPrintBackGround"}},[e._v("打印背景")])],1)])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var Fr=i("VU/8")(Tr,Sr,!1,function(e){i("Qf25")},null,null).exports,xr={props:{schemaCode:{type:String,default:""},printCode:{type:String,default:""},pageSettingVisible:{type:Boolean,default:!1}},components:{HeaderFooter:Cr,BackGround:Fr,InputNumber:So},data:function(){return{data:{},visible:!1,widthDisable:!1,heightDisable:!1,PageDirectionList:qe,PageTypeList:$e,backgroundVisible:!1,headerFooterVisible:!1}},methods:{remove:function(){ee()(".el-input__inner").addClass("gray")},add:function(e){ee()(".el-input__inner").removeClass("gray"),this.selectFocus(e)},cancel:function(){this.$emit("close")},ok:function(){var e=pe()({},window.GlobalPrintProperties.pageSettings,this.data);window.GlobalPrintProperties.pageSettings=e;var t=window.GlobalPrintProperties.pageSettings;t.Width=at(t.Width).toFixed(2)-0,t.Height=at(t.Height).toFixed(2)-0,t.MarginTop=at(t.MarginTop).toFixed(2)-0,t.MarginRight=at(t.MarginRight).toFixed(2)-0,t.MarginBottom=at(t.MarginBottom).toFixed(2)-0,t.MarginLeft=at(t.MarginLeft).toFixed(2)-0,ri("","PageSetting"),this.$emit("close")},changPageType:function(e){var t=$e[e];this.data.Height=t.height,this.data.Width=t.width,this.handlerDisabled()},headerFooterClose:function(){this.headerFooterVisible=!1},backgroundClose:function(){this.backgroundVisible=!1},handlerMMPX:function(){this.data.Width=nt(this.data.Width).toFixed(1)-0,this.data.Height=nt(this.data.Height).toFixed(1)-0,this.data.MarginTop=nt(this.data.MarginTop).toFixed(1)-0,this.data.MarginRight=nt(this.data.MarginRight).toFixed(1)-0,this.data.MarginBottom=nt(this.data.MarginBottom).toFixed(1)-0,this.data.MarginLeft=nt(this.data.MarginLeft).toFixed(1)-0},handlerDisabled:function(){var e=this.data.PageType;"自定义"!==$e[e].text?(this.widthDisable=!0,this.heightDisable=!0):this.widthDisable&&(this.widthDisable=!1,this.heightDisable=!1)},selectFocus:function(e){e.target.blur()},pageDirectionChange:function(){var e=this.data.Width;this.data.Width=this.data.Height,this.data.Height=e}},computed:{},watch:{pageSettingVisible:function(e){this.visible=e,e&&(this.data=pe()({},{},window.window.GlobalPrintProperties.pageSettings),delete this.data.PageHeader,delete this.data.PageFooter,delete this.data.BackGround,delete this.data.IsPrintBackGround,this.handlerMMPX(),this.handlerDisabled())}}},Dr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"页面设置",width:"520px",top:"100px",visible:e.visible,"custom-class":"page-setting","close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.cancel},on:{"update:visible":function(t){e.visible=t}}},[i("el-row",[i("el-col",{staticClass:"row-title",attrs:{span:24}},[i("div",[e._v("纸张大小")])]),e._v(" "),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"item-title"},[e._v("类型:")])]),e._v(" "),i("el-col",{attrs:{span:17}},[i("div",{staticClass:"item-content"},[i("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{change:e.changPageType,blur:e.remove,focus:e.add},model:{value:e.data.PageType,callback:function(t){e.$set(e.data,"PageType",t)},expression:"data.PageType"}},e._l(e.PageTypeList,function(e,t){return i("el-option",{key:t,attrs:{label:e.text,value:e.value,size:"mini"}})}),1)],1)]),e._v(" "),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"item-title"},[e._v("宽:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,disabled:e.widthDisable,unit:"mm",selectAll:!0},model:{value:e.data.Width,callback:function(t){e.$set(e.data,"Width",e._n(t))},expression:"data.Width"}})],1)]),e._v(" "),i("el-col",{attrs:{span:3}},[i("div",{staticClass:"item-title"},[e._v("高:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,disabled:e.heightDisable,unit:"mm",selectAll:!0},model:{value:e.data.Height,callback:function(t){e.$set(e.data,"Height",e._n(t))},expression:"data.Height"}})],1)])],1),e._v(" "),i("el-row",[i("el-col",{attrs:{span:4}},[i("div",{staticClass:"row-title item-title"},[e._v("纸张方向：")])]),e._v(" "),i("el-col",{attrs:{span:17}},[i("div",{staticClass:"item-content"},[i("el-select",{attrs:{placeholder:"请选择",size:"small"},on:{blur:e.remove,focus:e.add,change:e.pageDirectionChange},model:{value:e.data.PageDirection,callback:function(t){e.$set(e.data,"PageDirection",t)},expression:"data.PageDirection"}},e._l(e.PageDirectionList,function(e,t){return i("el-option",{key:t,attrs:{label:e.text,value:e.value,size:"mini"}})}),1)],1)])],1),e._v(" "),i("el-row",[i("el-col",{staticClass:"row-title",attrs:{span:24}},[i("div",[e._v("页边距")])]),e._v(" "),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"item-title"},[e._v("上:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.data.MarginTop,callback:function(t){e.$set(e.data,"MarginTop",e._n(t))},expression:"data.MarginTop"}})],1)]),e._v(" "),i("el-col",{attrs:{span:3}},[i("div",{staticClass:"item-title"},[e._v("下:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.data.MarginBottom,callback:function(t){e.$set(e.data,"MarginBottom",e._n(t))},expression:"data.MarginBottom"}})],1)]),e._v(" "),i("el-col",{staticStyle:{height:"0",margin:"0"},attrs:{span:24}}),e._v(" "),i("el-col",{attrs:{span:4}},[i("div",{staticClass:"item-title"},[e._v("左:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.data.MarginLeft,callback:function(t){e.$set(e.data,"MarginLeft",e._n(t))},expression:"data.MarginLeft"}})],1)]),e._v(" "),i("el-col",{attrs:{span:3}},[i("div",{staticClass:"item-title"},[e._v("右:")])]),e._v(" "),i("el-col",{attrs:{span:6}},[i("div",{staticClass:"item-content"},[i("input-number",{attrs:{min:0,unit:"mm",selectAll:!0},model:{value:e.data.MarginRight,callback:function(t){e.$set(e.data,"MarginRight",e._n(t))},expression:"data.MarginRight"}})],1)])],1),e._v(" "),i("el-row",{staticClass:"row-action"},[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"item-content",on:{click:function(t){e.headerFooterVisible=!0}}},[i("i",{staticClass:"icon h3yun_All setting-o"}),e._v(" "),i("span",[e._v("页眉/页脚设置")])])]),e._v(" "),i("el-col",{attrs:{span:24}},[i("div",{staticClass:"item-content",on:{click:function(t){e.backgroundVisible=!0}}},[i("i",{staticClass:"icon h3yun_All plus-o"}),e._v(" "),i("span",[e._v("添加背景图片")])])])],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1),e._v(" "),i("header-footer",{attrs:{headerFooterVisible:e.headerFooterVisible},on:{close:e.headerFooterClose}}),e._v(" "),i("back-ground",{attrs:{schemaCode:e.schemaCode,printCode:e.printCode,backgroundVisible:e.backgroundVisible},on:{close:e.backgroundClose}})],1)},staticRenderFns:[]};var kr=i("VU/8")(xr,Dr,!1,function(e){i("iNYV")},null,null).exports,Br={name:"Pageguide",props:{pdfPreviewGuide:{type:Boolean,default:!1}},data:function(){return{showModal:!1,showOne:!1,showTwo:!1,showThree:!1,showPdfPreviewOne:!0,showPdfPreviewTwo:!1,showPdfPreviewThree:!1,showPdfPreviewModal:!0}},mounted:function(){localStorage.getItem("hasGuide")||(this.showModal=!0,this.showOne=!0)},methods:{pageNext:function(e){1===e?(this.showOne=!1,this.showTwo=!0):2===e?(this.showOne=!1,this.showTwo=!1,this.showThree=!0):3===e&&(this.showModal=!1,this.showOne=!1,this.showTwo=!1,this.showThree=!1),localStorage.setItem("hasGuide",!0)},pagePreviewNext:function(e){1===e?(this.showPdfPreviewOne=!1,this.showPdfPreviewTwo=!0):2===e?(this.showPdfPreviewOne=!1,this.showPdfPreviewTwo=!1,this.showPdfPreviewThree=!0):3===e&&(this.showPdfPreviewOne=!1,this.showPdfPreviewTwo=!1,this.showPdfPreviewThree=!1,this.showPdfPreviewModal=!1),localStorage.setItem("hasPreviewGuide",!0)}}},_r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.showModal?o("div",{staticClass:"modal"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showOne,expression:"showOne"}],staticClass:"guide-one"},[e._m(0),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("ribD")}}),e._v(" "),o("div",{staticClass:"area-active guide-show"})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showOne,expression:"showOne"}],staticClass:"guide-btn"},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pageNext(1)}}},[e._v("下一步")]),e._v(" "),o("a",{staticClass:"next-btn out-btn",on:{click:function(t){return e.pageNext(3)}}},[e._v("退出引导")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showTwo,expression:"showTwo"}],staticClass:"guide-two"},[e._m(1),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("Vrf5")}}),e._v(" "),o("div",{staticClass:"area-active guide-show"})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showTwo,expression:"showTwo"}],staticClass:"guide-btn"},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pageNext(2)}}},[e._v("下一步")]),e._v(" "),o("a",{staticClass:"next-btn out-btn",on:{click:function(t){return e.pageNext(3)}}},[e._v("退出引导")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showThree,expression:"showThree"}],staticClass:"guide-three"},[e._m(2),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("4uAZ")}}),e._v(" "),e._m(3),e._v(" "),e._m(4)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showThree,expression:"showThree"}],staticClass:"guide-btn",staticStyle:{"text-align":"center"}},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pageNext(3)}}},[e._v("我知道了")])])]):e._e(),e._v(" "),e.pdfPreviewGuide&&e.showPdfPreviewModal?o("div",{staticClass:"modal"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewOne,expression:"showPdfPreviewOne"}],staticClass:"guide-one print-guide-one"},[e._m(5),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("ribD")}}),e._v(" "),o("div",{staticClass:"area-active guide-show"})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewOne,expression:"showPdfPreviewOne"}],staticClass:"guide-btn"},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pagePreviewNext(1)}}},[e._v("下一步")]),e._v(" "),o("a",{staticClass:"next-btn out-btn",on:{click:function(t){return e.pagePreviewNext(3)}}},[e._v("退出引导")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewTwo,expression:"showPdfPreviewTwo"}],staticClass:"guide-one print-guide-two"},[e._m(6),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("ribD")}}),e._v(" "),o("div",{staticClass:"area-active guide-show"})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewTwo,expression:"showPdfPreviewTwo"}],staticClass:"guide-btn"},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pagePreviewNext(2)}}},[e._v("下一步")]),e._v(" "),o("a",{staticClass:"next-btn out-btn",on:{click:function(t){return e.pagePreviewNext(3)}}},[e._v("退出引导")])]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewThree,expression:"showPdfPreviewThree"}],staticClass:"guide-one print-guide-three"},[e._m(7),e._v(" "),o("img",{staticClass:"guide-img",attrs:{src:i("ribD")}}),e._v(" "),o("div",{staticClass:"area-active guide-show"})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPdfPreviewThree,expression:"showPdfPreviewThree"}],staticClass:"guide-btn",staticStyle:{"text-align":"center"}},[o("a",{staticClass:"next-btn",on:{click:function(t){return e.pagePreviewNext(3)}}},[e._v("我知道了")])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("1、点击"),t("span",[this._v("“页面设置”")]),this._v("可以进行"),t("span",[this._v("“页边距”")]),this._v("及"),t("span",[this._v("“页眉页脚”")]),this._v("设置")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("2、右侧"),t("span",[this._v("“模版属性”")]),this._v("可设置"),t("span",[this._v("“模版类型”")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("3、可将左侧"),t("span",[this._v("“面板字段”")]),this._v("等或"),t("span",[this._v("“顶部工具”")]),this._v("（文本、矩形、直线、图片）拖入面板进行自定义")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"area-active guide-show"},[t("img",{attrs:{src:i("/Bxx")}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-main guide-show-s"},[i("div",{staticClass:"workspace-toolbar"},[i("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"6","data-name":"文本"}},[i("i",{staticClass:"h3yun_All text-t"}),e._v(" "),i("span",{staticClass:"name"},[e._v("文本")])]),e._v(" "),i("div",{staticClass:"tool vertical-divider"}),e._v(" "),i("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"7","data-name":""}},[i("i",{staticClass:"h3yun_All rectangle-o"}),e._v(" "),i("span",{staticClass:"name"},[e._v("矩形")])]),e._v(" "),i("div",{staticClass:"tool vertical-divider"}),e._v(" "),i("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"8","data-name":""}},[i("i",{staticClass:"h3yun_All straightline"}),e._v(" "),i("span",{staticClass:"name"},[e._v("直线")])]),e._v(" "),i("div",{staticClass:"tool vertical-divider"}),e._v(" "),i("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"9","data-name":""}},[i("i",{staticClass:"h3yun_All picture-o"}),e._v(" "),i("span",{staticClass:"name trl"},[e._v("图片")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("1、这里可以"),t("span",[this._v("下载")]),this._v("和"),t("span",[this._v("打印")]),this._v("不带数据的模版样式")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("2、这里可以"),t("span",[this._v("放大")]),this._v("和"),t("span",[this._v("缩小")]),this._v("模版预览页")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-one-tip"},[t("p",[this._v("3、这里可以打开"),t("span",[this._v("侧栏")]),this._v("、"),t("span",[this._v("搜索")]),this._v("以及"),t("span",[this._v("切换页面")])])])}]};var Ar=i("VU/8")(Br,_r,!1,function(e){i("xY7F")},null,null).exports,Rr={methods:{login:function(){Pi("/login/LoginByMobile",{dingid:"$:LWCP_v1:$CCLAhywOjm0Sr72E79boj5hVEOO4CD5y",engineCode:"mi4x54jcr54b0p8hwoad4wxo3",clusterTokenId:1},"POST")}}},Ir={render:function(){var e=this.$createElement;return(this._self._c||e)("button",{on:{click:this.login}},[this._v("登录")])},staticRenderFns:[]};var Or=i("VU/8")(Rr,Ir,!1,function(e){i("Voe7")},"data-v-12b1f2d2",null).exports,Lr={name:"HelpDropdown",data:function(){return{helpList:[{icon:"book-o",title:"帮助文档",link:"http://help.h3yun.com/channels/773.html"},{icon:"notebook-o",title:"开发者手册",link:"http://help.h3yun.com/channels/3.html"},{icon:"play-circle-o",title:"氚微课",link:"http://help.h3yun.com/channels/4.html"},{icon:"question-circle-o",title:"常见问题",link:"http://help.h3yun.com/channels/6.html"},{icon:"sync-o",title:"产品更新",link:"http://help.h3yun.com/channels/7.html"},{icon:"conversation-o",title:"氚云社区",link:"#goBBS"}],showHelp:!1,visible:!1,companyName:"",engineCode:"",expiryDate:"",isCharged:"",isDeveloper:"",userName:"",userCount:""}},mounted:function(){this.getUserInfo()},methods:{gotoHelp:function(e){this.visible=!1,"#goBBS"!==e.link?window.open(e.link):this.getGoBBS()},getGoBBS:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r,a,n,s;return he.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi("/Navigation/OnAction",{PostData:hi()({ActionName:"GoBBS"})},"POST");case 2:(i=e.sent).Successful&&(o=i.ReturnData.mapId,r=i.ReturnData.nonceStr,a=i.ReturnData.sign,n=i.ReturnData.token,s=i.ReturnData.url+"&mapid="+o+"&nonceStr="+r+"&sign="+a+"&token="+n,window.open(s));case 4:case"end":return e.stop()}},t,e)}))()},getUserInfo:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r,a,n,s,l,d,c;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Si();case 2:(i=t.sent).Successful&&(o=i.ReturnData,r=o.CompanyName,a=o.EngineCode,n=o.ExpiryDate,s=o.IsCharged,l=o.IsDeveloper,d=o.UserName,c=o.UserCount,e.companyName=r,e.engineCode=a,e.expiryDate=n,e.isCharged=s,e.isDeveloper=l,e.userName=d,e.userCount=c);case 4:case"end":return t.stop()}},t,e)}))()},open:function(e){var t=this;return ge()(he.a.mark(function i(){var o,r,a,n,s,l,d,c,h,u,p,f;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("suggestion"!==e){t.next=4;break}window.open("https://www.sobot.com/workorder/index.html?sysNum=ba53512829e343058872e7c2ab942a7e&templateId=1"),t.next=9;break;case 4:if("service"!==e){t.next=9;break}return t.next=7,Si();case 7:(o=t.sent).Successful&&(r=o.ReturnData,a=r.CompanyName,n=r.EngineCode,s=r.ExpiryDate,l=r.IsCharged,d=r.IsDeveloper,c=r.UserName,h=r.UserCount,u="https://chat.sobot.com/chat/pc/v2/index.html?sysnum=ba53512829e343058872e7c2ab942a7e",p={customField11:l?"是":"否",customField13:d?"专业版":"标准版",customField14:s.replace(/\//g,"-").substr(0,10),customField15:h},f="&partnerid="+n+"&uname="+a+"&realname="+c+"&customer_fields="+hi()(p),u=""+u+f,window.open(encodeURI(u)));case 9:case"end":return t.stop()}},i,t)}))()},initZhiChi:function(){var e=this;return ge()(he.a.mark(function t(){var i,o;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:!function(e,t,i){e.zc=function(){e.cbk=e.cbk||[],e.cbk.push(arguments)};var o=t.createElement("script");o.async=!0,o.id="zhichiScript",o.className="zhiCustomBtn",o.src="https://chat.sobot.com/chat/frame/v2/entrance.js?sysnum=ba53512829e343058872e7c2ab942a7e&channelid=2",t.body.appendChild(o)}(window,document),i={customField11:e.isCharged?"是":"否",customField13:e.isDeveloper?"专业版":"标准版",customField14:e.dateFormat(e.expiryDate,"YYYY-MM-DD"),customField15:e.userCount},zc("config",{custom:!0,partnerid:e.engineCode,uname:e.companyName,realname:e.userName,customer_fields:hi()(i)}),(o=document.getElementById("onlineService")).classList.add("zhiCustomBtn"),o.addEventListener("click",function(){e.visible=!1}),zc("dynamic_ready");case 7:case"end":return t.stop()}},t,e)}))()},dateFormat:function(e,t){try{var i=new Date(e),o=t,r={"M+":i.getMonth()+1,"D+":i.getDate(),"H+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var a in/(Y+)/.test(o)&&(o=o.replace(RegExp.$1,(""+i.getFullYear()).substr(4-RegExp.$1.length))),r)new RegExp("("+a+")").test(o)&&(o=o.replace(RegExp.$1,1===RegExp.$1.length?r[a]:("00"+r[a]).substr((""+r[a]).length)));return o}catch(t){return e}}},watch:{visible:function(e){var t=this,i=document.getElementById("onlineService");!e||i&&window.zc||this.$nextTick(function(){setTimeout(function(){t.initZhiChi()},500)})}}},zr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"questiong-wrap"},[i("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"h3-console-header-helptip adjust-arrow-place"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"help-content"},[i("ul",e._l(e.helpList,function(t,o){return i("li",{key:o,on:{click:function(i){return e.gotoHelp(t)}}},[i("span",{staticClass:"icon h3yun_All help-pop-icon",class:t.icon}),e._v(" "),i("span",{staticClass:"help-pop-title"},[e._v(" "+e._s(t.title))])])}),0),e._v(" "),i("div",{staticClass:"bottom-button-wrap"},[i("el-button",{attrs:{type:"primary",id:"onlineService"}},[e._v("在线客服")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.open("suggestion")}}},[e._v("投诉建议")])],1)]),e._v(" "),i("div",{staticClass:"wrap-icon",attrs:{slot:"reference"},slot:"reference"},[i("span",{staticClass:"icon h3yun_All question-circle-o "})])])],1)},staticRenderFns:[]};var Hr=i("VU/8")(Lr,zr,!1,function(e){i("Q2u4"),i("A2qz")},null,null).exports,Gr={bind:function(e,t){function i(i){if(e.contains(i.target))return!1;t.expression&&t.value&&t.value.handler&&"function"==typeof t.value.handler&&t.value.handler(i)}e.__h3ClickOutside__=i,document.addEventListener("click",i)},unbind:function(e){e.__h3ClickOutside__&&(document.removeEventListener("click",e.__h3ClickOutside__),delete e.__h3ClickOutside__)}},Wr=i("hyIN"),Mr=i.n(Wr);window.dd=Mr.a;var Er=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";me?Mr.a.biz.util.openLink({url:e,onSuccess:function(){},onFail:function(e){console.log(e)}}):window.open(e,t)},jr=this,Nr=function(){var e=ge()(he.a.mark(function e(t,i){var o,r,a,n,s,l,d,c;return he.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t,!me){e.next=6;break}return e.next=4,Pi("/DingTalkAttach/OnAction",{PostData:hi()({ActionName:"GetLoginTimestamp"})},"POST");case 4:(r=e.sent).Successful&&(a=r.ReturnData,n=a.Key,s=a.Value,l=window.redirectLoginParams,d=window.location.origin+"/DingTalkAttach/RedirectLogin?",c=se()(l).map(function(e){return e+"="+l[e]}).join("&"),d+=c,d+="&Value="+s+"&Key="+n+"&RedirectUrl="+encodeURIComponent(t),o=d);case 6:Er(o,i);case 7:case"end":return e.stop()}},e,jr)}));return function(t,i){return e.apply(this,arguments)}}(),Ur=i("lbHh"),Vr=i.n(Ur),Yr={name:"UserHeader",data:function(){return{CurUser:{DingTalkAccount:"",DingTalkCorpId:"",UserId:"",Name:"",ProfilePhotoUrl:""},CurEngineCode:"",showEngines:!1,LogoUrl:"",IsAdministrator:!1,OptionalEngines:{},ShowEngineOptions:!1,showAddModal:!1,hasUploadAuthorized:!0,previousImg:"",logoImage:"",showOpenInBrower:!1,managerPages:[{icon:"department-o",title:"组织机构",link:"/pc/organization.html",code:"organization"},{icon:"lock-o",title:"权限管理",link:"/pc/role.html",code:"rights"},{icon:"associated-o",title:"高级数据源",link:"/home.html#/ReportDataSourceList/",code:"advanced"},{icon:"setting-o",title:"系统管理",link:"/pc/system-integration.html#/version-info",code:"system integrity"},{icon:"mbzx-o",title:"模板中心",link:"/Login/AutoLoginStore",code:"appStore",blank:!0}]}},directives:{clickoutside:Gr},computed:{hideChangeEngin:function(){return 1===se()(this.OptionalEngines).length},CurEngineName:function(){return this.OptionalEngines[this.CurEngineCode]}},created:function(){this.getUserEnginInfo(),this.showOpenInBrower=me},methods:{toggleShowEngineOptions:function(){this.ShowEngineOptions=!this.ShowEngineOptions},getUserEnginInfo:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pi("/Home/OnAction",{PostData:hi()({ActionName:"GetUserInfo"})},"POST");case 2:(i=t.sent).Successful&&(o={EngineCode:i.ReturnData.EngineCode,DevCode:i.ReturnData.DevCode,IsDeveloper:i.ReturnData.IsDeveloper,OptionalEngines:i.ReturnData.OptionalEngines},e.$emit("setEngineInfo",o),e.showAppStore(i.ReturnData.AppStore_Switch),e.CurUser=i.ReturnData.CurUser,e.CurEngineCode=i.ReturnData.EngineCode,e.OptionalEngines=i.ReturnData.OptionalEngines,"1"!==i.ReturnData.AdvancedDataSourceEnabled&&-1!==(r=e.managerPages.findIndex(function(e){return"advanced"===e.code}))&&e.managerPages.splice(r,1),e.$emit("setAdminGuideState",i.ReturnData.IsShowAdminGuide),e.$emit("setOldUserGuideFinish",i.ReturnData.IsShowOldUserGuide),e.IsAdministrator=i.ReturnData.IsAdministrator,e.$emit("loaded",i.ReturnData),me&&(window.redirectLoginParams={DingAccount:e.CurUser.DingTalkAccount,SuiteKey:i.ReturnData.SuiteKey,SolutionCode:i.ReturnData.EntrySolutionCode,EngineCode:i.ReturnData.EngineCode}));case 4:case"end":return t.stop()}},t,e)}))()},showAppStore:function(e){if(1!==parseInt(e)){var t=this.managerPages.findIndex(function(e){return"appStore"===e.code});t>-1&&this.managerPages.splice(t,1)}},openInBrowser:function(){this.trackEvent("browser");var e=window.location.href;Nr(e)},logout:function(){this.trackEvent("logout"),localStorage.removeItem("auto_login"),this.clearAuthorization(),window.location.href="/Login/Logout"},clearAuthorization:function(){this.setCookie2("h3_token","",-1),this.setCookie2("token_corp","",-1),this.setCookie2("h3_EngineCode","",-1),this.setCookie2("h3_Session","",-1)},setCookie2:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=new Date;o.setTime(o.getTime()+60*i*60*1e3),Vr.a.set(e,t,{expires:o})},toggleEngine:function(e){this.trackEvent("switch engine"),document.cookie="EngineCode="+e+";path=/",window.location.href="/Login/Index?enginecode="+e},handleClose:function(){this.ShowEngineOptions=!1},goToMamagerPage:function(e){if(e.blank){var t=e.link+"?engineCode="+this.CurEngineCode;Nr(t)}else window.location.href=e.link},handleEnginClose:function(){this.showEngines=!1},trackEvent:function(e){this.$emit("trackEvent",e)}}},Xr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:{handler:e.handleClose},expression:"{handler: handleClose}"}],staticClass:"user-wrap"},[i("a",{staticClass:"user-link",attrs:{href:"javascript:void(0);"},on:{click:e.toggleShowEngineOptions}},[e.CurUser.ProfilePhotoUrl?i("div",{staticClass:"user-avatar user-avatar-wrap",staticStyle:{display:"inline-block"}},[i("img",{staticClass:"img-circle",staticStyle:{width:"32px",height:"32px","border-radius":"50%"},attrs:{src:e.CurUser.ProfilePhotoUrl}}),e._v(" "),e._m(0)]):i("div",{staticClass:"user-info user-avatar-wrap",staticStyle:{display:"inline-block"}},[i("span",{staticClass:"avatar-user user-name"},[e._v(e._s(e.CurUser.Name.length>2?e.CurUser.Name.slice(e.CurUser.Name.length-2):e.CurUser.Name))]),e._v(" "),e._m(1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ShowEngineOptions,expression:"ShowEngineOptions"}],staticClass:"optionengines"},[i("div",{staticClass:"engine-name"},[i("h3",{attrs:{title:e.CurEngineName}},[e._v(e._s(e.CurEngineName))]),e._v(" "),e.hideChangeEngin?e._e():i("span",{on:{click:function(t){t.stopPropagation(),e.showEngines=!e.showEngines}}},[e._v("切换")])]),e._v(" "),e.IsAdministrator?i("ul",{staticClass:"manager-tab",attrs:{tabindex:"0"}},e._l(e.managerPages,function(t,o){return i("li",{key:o,on:{click:function(i){return e.goToMamagerPage(t)}}},[i("span",{staticClass:"h3yun_All",class:t.icon}),e._v(" "),i("span",{staticClass:"manager-title"},[e._v(e._s(t.title))])])}),0):e._e(),e._v(" "),i("div",{staticClass:"user-panel-bottom"},[e.showOpenInBrower?[i("span",{staticClass:"h3yun_All compass-o"}),e._v(" "),i("span",{on:{click:function(t){return e.openInBrowser()}}},[e._v("在浏览器中打开")])]:[i("span",{staticClass:"h3yun_All logout-o"}),e._v(" "),i("span",{staticClass:"logout",on:{click:e.logout}},[e._v("退出登录")])]],2),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.showEngines,expression:"showEngines"},{name:"clickoutside",rawName:"v-clickoutside",value:{handler:e.handleEnginClose},expression:"{handler: handleEnginClose}"}],staticClass:"engines-wrap"},e._l(e.OptionalEngines,function(t,o){return i("li",{key:o,class:{onlyOneEngine:1===e.OptionalEngines.length,isCurEngine:o===e.CurEngineCode},on:{click:function(t){return e.toggleEngine(o)}}},[e._v(e._s(t))])}),0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("img",{attrs:{src:i("kF65")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("img",{attrs:{src:i("kF65")}})])}]};var Qr={name:"PrintHeader",props:{pageTitle:{default:""}},components:{HelpDropdown:Hr,UserHeader:i("VU/8")(Yr,Xr,!1,function(e){i("1Ja4"),i("bkag")},"data-v-28f9eeb6",null).exports},data:function(){return{loaded:!1,showLeft:!0,IsAdministrator:!1,showHelpDropdown:!0}},methods:{goBack:function(){this.$emit("go-back")},getUserInfo:function(e){this.loaded=!0,this.IsAdministrator=e.IsAdministrator,this.showHelpDropdown="1"===e.Helper_Switch,me&&(window.redirectLoginParams={DingAccount:e.CurUser.DingTalkAccount,SuiteKey:e.SuiteKey,SolutionCode:e.EntrySolutionCode,EngineCode:e.EngineCode})}}},qr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"portal-header"},[i("div",{staticClass:"portal-left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showLeft,expression:"showLeft"}],staticClass:"left-content"},[[i("span",{staticClass:"header-left-back"},[i("span",{staticClass:" go-back icon h3yun_All arrow-left-o",on:{click:e.goBack}}),e._v(" "),e.pageTitle?i("span",[e._v(e._s(e.pageTitle))]):e._e()])]],2)]),e._v(" "),i("div",{staticClass:"portal-right"},[e.IsAdministrator&&e.showHelpDropdown?i("help-dropdown"):e._e(),e._v(" "),i("user-header",{on:{loaded:e.getUserInfo}})],1)])},staticRenderFns:[]};var $r=i("VU/8")(Qr,qr,!1,function(e){i("iFrB"),i("e+R0")},"data-v-aea71a2c",null).exports,Jr={name:"WorkflowActivity",props:["activity"],data:function(){return{data:[],value:""}},created:function(){this.data=JSON.parse(hi()(window.GlobalWorkflowActivityList)),this.activity&&(this.value=this.activity)},methods:{onSelectChange:function(e){var t=this.data.find(function(t){return t.ActivityCode===e});this.$emit("change",t)}}},Kr={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"property-group property-group-workflow-activity"},[i("div",{staticClass:"property-item property-title"},[e._v("\n    选择节点\n    "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n        自定义流程日志不支持选取已被删除的节"),i("br"),e._v("点；如打印的数据没有该节点，此处打印为"),i("br"),e._v("空白\n      ")]),e._v(" "),i("i",{staticClass:"icon h3yun_All question-circle"})])],1),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("el-select",{attrs:{clearable:"",placeholder:"选择流程节点"},on:{change:e.onSelectChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.data,function(e){return i("el-option",{key:e.ActivityCode,attrs:{label:e.DisplayName,value:e.ActivityCode}})}),1)],1)])},staticRenderFns:[]};var Zr=i("VU/8")(Jr,Kr,!1,function(e){i("6FPN")},"data-v-5b99b6a3",null).exports,ea={name:"ActivityContent",components:{draggable:wo.a},props:["contents","disabled"],data:function(){return{noDraggable:[],content:[]}},created:function(){this.resetContents(this.contents)},methods:{onDraggable:function(e){this.$emit("content-change",[].concat(it()(this.content),it()(this.noDraggable)))},resetContents:function(e){this.noDraggable=e.filter(function(e){return"Signature"===e.FieldName}),this.content=e.filter(function(e){return"Signature"!==e.FieldName})}},computed:{checkedContents:{get:function(){var e=this.content.filter(function(e){return e.Checked}).map(function(e){return e.FieldDes}),t=this.noDraggable.filter(function(e){return e.Checked}).map(function(e){return e.FieldDes});return[].concat(it()(e),it()(t))},set:function(e){this.content.forEach(function(t){t.Checked=e.includes(t.FieldDes)}),this.noDraggable.forEach(function(t){t.Checked=e.includes(t.FieldDes)}),this.$emit("content-change",[].concat(it()(this.content),it()(this.noDraggable)))}}},watch:{contents:function(e){Array.isArray(e)&&e.length&&this.resetContents(e)}}},ta={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"property-group property-group-activity-content"},[i("div",{staticClass:"property-item property-title"},[e._v("打印节点内容")]),e._v(" "),i("div",{staticClass:"property-item property-context"},[i("el-checkbox-group",{staticClass:"activity-wrapper",attrs:{min:1,disabled:e.disabled},model:{value:e.checkedContents,callback:function(t){e.checkedContents=t},expression:"checkedContents"}},[i("draggable",{attrs:{options:{handle:".canDragBox"}},on:{change:e.onDraggable},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}},e._l(e.content,function(t){return i("el-checkbox",{key:t.FieldName,attrs:{label:t.FieldDes}},[e._v("\n                 "+e._s(t.FieldDes)+"\n                 "),i("span",{staticClass:"h3yun_All col-action-move move-o canDragBox"})])}),1),e._v(" "),i("div",{staticClass:"fixed-items"},e._l(e.noDraggable,function(t){return i("el-checkbox",{key:t.FieldName,attrs:{label:t.FieldDes}},[e._v("\n               "+e._s(t.FieldDes)+"\n               "),i("span",{staticClass:"h3yun_All col-action-move move-o canDragBox"})])}),1)],1)],1)])},staticRenderFns:[]};var ia=i("VU/8")(ea,ta,!1,function(e){i("bIOU")},"data-v-1ed379ff",null).exports;const oa=[{FieldDes:"处理人",FieldName:"Processer"},{FieldDes:"处理节点",FieldName:"ActivityName"},{FieldDes:"到达时间",FieldName:"ProcessTime"},{FieldDes:"完成时间",FieldName:"FinishedTime"},{FieldDes:"处理结果",FieldName:"ProcessState"},{FieldDes:"处理意见",FieldName:"ProcessComment"},{FieldDes:"手写签名",FieldName:"Signature"}];var ra=window.GlobalPropertyData,aa={name:"CustomLogProperty",components:{FontSize:Ni,BorderSetting:Ki,TextAlign:Yi,FillColor:ro,PositionSizeVue:ho,WorkflowActivity:Zr,ActivityContent:ia},props:{},data:function(){return{data:ra.data,contents:[],activity:""}},created:function(){this.contents=this.data.Contents||JSON.parse(hi()(oa)),this.disabled=!this.data.Contents,this.activity=this.data.SelectedActivity},methods:{onSelectChange:function(e){if(!e)return this.contents=JSON.parse(hi()(oa)),this.disabled=!0,this.data.SelectedActivity=null,void this.updateProperties(this.contents);this.contents=JSON.parse(hi()(oa)),this.contents[0].Checked=!0,3===e.ActivityType&&this.contents.pop(),this.disabled=!1,this.data.SelectedActivity=e.ActivityCode,this.updateProperties(this.contents)},onContentChange:function(e){this.contents=[].concat(e),this.updateProperties(e)},updateProperties:function(e){this.data.Contents=e,ri("","customLogProperty",null,this.data)}}},na={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-property"},[i("workflow-activity",{attrs:{activity:e.activity},on:{change:e.onSelectChange}}),e._v(" "),i("activity-content",{attrs:{contents:e.contents,disabled:e.disabled},on:{"content-change":e.onContentChange}}),e._v(" "),i("position-size-vue",{attrs:{data:e.data}}),e._v(" "),i("fill-color",{attrs:{data:e.data}}),e._v(" "),i("border-setting",{attrs:{data:e.data,fontSizeBorder:!0}}),e._v(" "),i("font-size",{attrs:{data:e.data,fontSizeShow:!0}}),e._v(" "),i("text-align",{attrs:{data:e.data,textAlignShow:!0}})],1)},staticRenderFns:[]};var sa=i("VU/8")(aa,na,!1,function(e){i("GEWA")},"data-v-0baf485a",null).exports,la=window.GlobalPropertyData,da={name:"HandSign",components:{PositionSize:ho},props:["allFields"],data:function(){return{data:la.data,displayFields:[]}},created:function(){this.displayFields=this.allFields[0].FieldItems.filter(function(e){return"FormHandSign"===e.ControlKey})},methods:{}},ca={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hand-sign"},[e.data.IsInSubTable?i("div",{staticClass:"property-group"},[i("div",{staticClass:"property-title"},[e._v("\n      数据来源\n    ")]),e._v(" "),i("div",{staticClass:"property-context"},[e._v("\n      手写签名\n    ")])]):i("div",{staticClass:"property-group"},[i("div",{staticClass:"property-title"},[e._v("\n      手写签名\n    ")]),e._v(" "),i("div",{staticClass:"property-context"},[i("el-select",{ref:"selectDataField",attrs:{placeholder:"请选择",size:"small"},model:{value:e.data.DataField,callback:function(t){e.$set(e.data,"DataField",t)},expression:"data.DataField"}},e._l(e.displayFields,function(e){return i("el-option",{key:e.FieldName,attrs:{label:e.FieldDes,value:e.FieldName,size:"mini","popper-class":"select-datafield"}})}),1)],1)]),e._v(" "),i("position-size",{attrs:{data:e.data}})],1)},staticRenderFns:[]},ha=i("VU/8")(da,ca,!1,null,null,null).exports,ua={FormTextBox:"single-line-text",FormTextArea:"text-multiline",FormDateTime:"calendar-o",FormNumber:"number",FormRadioButtonList:"single-selection-o",FormCheckboxList:"check-square-o",FormDropDownList:"drop-down-o",FormAttachment:"paperclip-o",FormAreaSelect:"get-address-o",FormMap:"position-o",formuser:"add-user-o",formmultiuser:"add-user-group-o",formdepartment:"department-single-se",formmultidepartment:"department-multiple-",FormPhoto:"picture-o",FormCheckbox:"logic-switch-o",FormGridView:"table-o",FormQuery:"form-related-o",FormMultiQuery:"form-related-manycho",ObjectId:"code-square-o",OwnerId:"user-o",CreatedTime:"clock-circle-o",ModifiedTime:"clock-edit-o",OwnerDeptId:"process-o",FormSeqNo:"barcode-o",ModifiedBy:"user-modifier-o",CreatedBy:"user-o",Printer:"user-printer-o",PrintTime:"clock-printer-o",QRCode:"qrcode-o",BarCode:"barcode-o",WorkFlowLog:"book-o",WorkFlowStamp:"process-seal-o",CustomTextWaterMark:"text-water-mark",CustomImageWaterMark:"image-water-mark",CustomWorkFlowLog:"operation-log-o",FormHandSign:"edit-o"},pa={name:"app",components:{PrintTopNav:_i,NoFieldProperty:Ri,TransitionProperty:Oi,TemplateProperty:Hi,Pageguide:Ar,FormProperty:go,RectangleProperty:Po,SubTabProperty:ko,QrcodeProperty:Ro,BarcodeProperty:zo,LineProperty:Uo,PageSetting:kr,ImageControlProperty:Jo,MultiProperty:Pr,Login:Or,PrintHeader:$r,CustomLogProperty:sa},data:function(){return{schemaCode:"",printCode:"",appCode:"",templateName:"",editorVue:"",allFields:[],deleteActive:!1,pageSettingVisible:!1,backgroundVisible:!1,headerFooterVisible:!1,showDeletGuide:!1,maxHeight:0,preDragPoint:{y:0},printDocType:-1,PrintHeadRepeatedly:!1,rowSpace:10,isUndoDisabled:!1,isRedoDisabled:!1,trackOperate:"trackOperate",guid:null,fullscreenLoading:!1,loadingTip:null,pdfPreviewUrl:"",pdfPreviewShow:!1,iframeWidth:800,iframeCss:{marginLeft:"-400px"},isDownload:!0,pdfPreviewGuide:!1}},methods:{goBack:function(){window.location.href=window.location.origin+"/pc/form-designer.html#/form-setting/print-template?id="+this.schemaCode+"&appcode="+this.appCode},_getPrintInfo:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r,a,n,s,l,d;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c=e.schemaCode,h=e.printCode,void 0,u={ActionName:"LoadTemplate",PrintTemplateCode:h,SchemaCode:c},Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(u)},"POST");case 2:if(i=t.sent,o={Children:null,ControlKey:null,DataType:"ShortString",FieldDes:"序号",FieldName:Le,FieldType:0,ColumnType:Oe},r={Children:null,ControlKey:null,DataType:"ShortString",FieldDes:"空白列",FieldName:ze,FieldType:0,ColumnType:Oe,MultiSelect:!0},i.Successful){if(e.allFields=i.ReturnData.FieldList,e.allFields[0].FieldItems.forEach(function(e){e.FieldType===Ae.SubTable&&(e.Children.unshift(pe()({},o)),e.Children.push(pe()({},r)))}),e.allFields[3]&&e.allFields[3].FieldItems.forEach(function(e){e.FieldType===Ae.WorkFlowLog&&(e.Children.unshift(pe()({},o)),e.Children.push(pe()({},r)))}),""===i.ReturnData.Result.SchemaCode&&0===i.ReturnData.Result.PageSetting.Width&&(i.ReturnData.Result=""),e.templateName=i.ReturnData.TemplateName,document.title="氚云-打印模板-"+e.templateName,window.GlobalPrintProperties.allFields=e.allFields,i.ReturnData.WorkFlowActivities&&(window.GlobalPrintProperties.WorkFlowActivities=i.ReturnData.WorkFlowActivities),(a=i.ReturnData.Result.PageSetting)?(window.GlobalPrintProperties.pageSettings=a,e.printDocType=a.PrintDocType,e.isDownload=a.IsDownload,e.PrintHeadRepeatedly=!!a.PrintHeadRepeatedly,e.rowSpace=a.RowSpace):e.printDocType=Qe.Document,n=i.ReturnData.Result.Properties)for(s=i.ReturnData.Result.MaxPageIndex,l=0;l<s;l+=1)d=te(),window.GlobalPrintProperties.Prints[d]=null;window.GlobalPrintProperties.IsDeveloper=!0,window.GlobalPrintProperties.IsSaasApp=!0,window.GlobalPrintProperties.IsDetachApp=!0,i.ReturnData.ActivityListItem&&(window.GlobalWorkflowActivityList=JSON.parse(i.ReturnData.ActivityListItem)),di(n)}case 6:case"end":return t.stop()}var c,h,u},t,e)}))()},savePrint:function(e){var t=this;return ge()(he.a.mark(function i(){var o,r,a;return he.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Tt()){i.next=2;break}return i.abrupt("return");case 2:return o=t.handlePropertiesBeforeSave(),r=o.pageSetting,a=o.properties,r.IsNewTemplate=!0,i.next=6,wi(t.schemaCode,t.printCode,r,a);case 6:i.sent.Successful&&(e?(t.publishPrint(),(window.GlobalPrintProperties.WorkFlowActivities||[]).forEach(function(e){r.ActivityType.includes(e.Value)?e.HasChoose=!0:e.HasChoose=!1})):t.$message({message:"保存成功",showClose:!0,type:"success"}));case 8:case"end":return i.stop()}},i,t)}))()},publishPrint:function(){var e=this;return ge()(he.a.mark(function t(){return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i=e.printCode,void 0,o={ActionName:"DoPublish",PrintTemplateCode:i},Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(o)},"POST");case 2:t.sent.Successful&&(e.$message({message:"保存成功",showClose:!0,type:"success"}),Bt.UndoTraceStack=[],Bt.RedoTraceStack=[],e.isUndoDisabled=!0,e.isRedoDisabled=!0);case 4:case"end":return t.stop()}var i,o},t,e)}))()},previewPrint:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Tt()){t.next=2;break}return t.abrupt("return");case 2:return i=e.handlePropertiesBeforeSave(),o=i.pageSetting,r=i.properties,e.guid=te(),t.next=6,Ti(e.guid,e.schemaCode,e.printCode,o,r);case 6:if(t.sent.Successful){t.next=10;break}return e.handleGetProgressError(),t.abrupt("return");case 10:e.progressTimer=new Date,e.getPreviewProgress();case 12:case"end":return t.stop()}},t,e)}))()},getPreviewProgress:function(){var e=this;return ge()(he.a.mark(function t(){var i,o,r;return he.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=e.progressTimer&&(Date.now()-e.progressTimer)/1e3>60)){t.next=3;break}return e.handleGetProgressError(),t.abrupt("return");case 3:return t.next=5,a=e.schemaCode,n=e.guid,s=e.printCode,void 0,l={ActionName:"GetPreviewProgress",SchemaCode:a,ActionGuid:n,PrintTemplateCode:s},Pi("/Console/PrintDesigner/OnAction",{PostData:hi()(l)},"POST");case 5:if(i=t.sent,o=!1,i.Successful){t.next=10;break}return e.handleGetProgressError(),t.abrupt("return");case 10:i.ReturnData.PrintState>0?i.ReturnData.PrintProcess<100?setTimeout(function(){e.getPreviewProgress()},500):(e.progressTimer=null,o=!0,e.pdfPreviewUrl=encodeURIComponent(i.ReturnData.OSSUrl),e.pdfPreviewUrl=e.pdfPreviewUrl.replace("http","https"),e.pdfPreviewShow=!0,r="<div id='previewPdfMain'><div class='lightbox-gms' id='lightboxGms'></div>",r+="<div id='pop' class='pop-gms'><i class='icon h3yun_All close-circle close-previewPdf'></i>",r+="<iframe src='' frameborder='0' id='pdfContainer' name='pdfContainer'></iframe>",r+="<a href='static/pdfJs/web/viewer.html?file="+e.pdfPreviewUrl+"' target='pdfContainer' id='pdfShowGms'></a></div></div>",ee()("body").append(r),document.getElementById("pdfShowGms").click(),ee()(document).on("click","#lightboxGms, .close-previewPdf",function(){ee()("#previewPdfMain").remove()}),localStorage.getItem("hasPreviewGuide")||(e.pdfPreviewGuide=!0)):(e.loadingTip=e.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),setTimeout(function(){e.getPreviewProgress()},500)),o&&null!=e.loadingTip&&e.loadingTip.close();case 12:case"end":return t.stop()}var a,n,s,l},t,e)}))()},handleGetProgressError:function(){this.progressTimer=null,this.$message({message:"预览失败",showClose:!0,type:"error"}),this.closePreview()},handlePropertiesBeforeSave:function(){var e=pe()({},{},window.GlobalPrintProperties.pageSettings);this.handlerSaveSettingData(e);var t=[],i=window.GlobalPrintProperties.Prints,o=0;for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){o+=1;for(var a=i[r].fields,n=0;n<a.length;n+=1){var s=pe()({},{},a[n]);if(s.pageIndex=o,this.handlerSaveFieldData(s),delete s.htmlObject,s.Properties){s.Properties=[];var l=!0,d=!1,c=void 0;try{for(var h,u=de()(a[n].Properties);!(l=(h=u.next()).done);l=!0){var p=h.value;p=pe()({},{},p),this.handlerSaveFieldData(p),delete p.htmlObject,s.Properties.push(p)}}catch(e){d=!0,c=e}finally{try{!l&&u.return&&u.return()}finally{if(d)throw c}}}t.push(s)}}return{pageSetting:e,properties:t}},closePreview:function(){this.pdfPreviewUrl="",this.pdfPreviewShow=!1},showProperty:function(e){switch(e){case Ae.NoField:this.editorVue=Ri;break;case Ae.Form:case Ae.System:case Ae.Text:case Ae.TextWatermark:this.editorVue=go;break;case Ae.Rectangle:case Ae.FlowSeal:this.editorVue=Po;break;case Ae.SubTable:case Ae.WorkFlowLog:this.editorVue=ko;break;case Ae.QrCode:this.editorVue=Ro;break;case Ae.BarCode:this.editorVue=zo;break;case Ae.Image:case Ae.ImageWatermark:this.editorVue=Mo;break;case Ae.Line:this.editorVue=Uo;break;case Ae.ImageControl:this.editorVue=Jo;break;case Ae.MultiPropertyCode:this.editorVue=Pr;break;case Ae.CustomWorkFlowLog:this.editorVue=sa;break;case Ae.FormHandSign:this.editorVue=ha;break;default:this.editorVue=Oi}},getSelectedFields:function(){var e=[];for(var t in window.GlobalPrintProperties.Prints)if(Object.prototype.hasOwnProperty.call(window.GlobalPrintProperties.Prints,t)){var i=window.GlobalPrintProperties.Prints[t].selectedFields;if(i.length>0){e=i;break}}return e},moveAction:function(e){var t=this.restructureFields(this.filterSelFields(e)),i=t.fieldsObj,o=t.fields,r=se()(i).length;r<2||("horizontalOffset"===e||"verticalOffset"===e)&&r<3||(this.addPosTrace(o),ri({type:e,fields:o},"Align"))},addPosTrace:function(e){var t=[],i=[];ee()(e).each(function(){t.push(this),i.push({x:this.PointX,y:this.PointY,width:this.Width,height:this.Height})}),Bt.AddTrace(Bt.TraceType.MoveScaleAction,t,i)},restructureFields:function(e){var t=window.GlobalPrintProperties.Print.fields,i=e.reduce(function(e,t){return e[t.Code]||e[t.PairFieldCode]||(e[t.Code]=[]),e[t.Code]&&e[t.Code].push(t),e[t.PairFieldCode]&&e[t.PairFieldCode].push(t),e},{});return se()(i).forEach(function(o){var r=i[o];if(r.length<2){var a=t.find(function(e){return e.PairFieldCode===r[0].Code});a&&(e.push(a),r.push(a))}}),{fieldsObj:i,fields:e}},filterSelFields:function(e){var t=this.getSelectedFields();return t="sameSize"===e?t.filter(function(e){return(e.PropertyType===Ae.Form||e.PropertyType===Ae.System||e.PropertyType===Ae.Text)&&!0!==e.IsInSubTable}):t.filter(function(e){return e.PropertyType!==Ae.SubTable&&e.PropertyType!==Ae.WorkFlowLog&&!0!==e.IsInSubTable})},deleteAction:function(){this.deleteActive&&Wt()},toggleField:function(e){var t=e;t.Fold=!t.Fold},addPage:function(){Gt(),this.showDeletGuideFun()},fieldIcon:function(e){var t=e.ControlKey||e.FieldName||e.ControlName;return"FormLabel"===t&&(t=e.FieldName||e.ControlName),ua[t]||"text-multiline"},pageSetting:function(){this.pageSettingVisible=!0},pageSettingClose:function(){this.pageSettingVisible=!1},headerFooterSetting:function(){this.headerFooterVisible=!0},headerFooterClose:function(){this.headerFooterVisible=!1},backgroundClose:function(){this.backgroundVisible=!1},changeDeleteState:function(e){this.deleteActive=e},closeDeleteGuide:function(){this.showDeletGuide=!1},showDeletGuideFun:function(){localStorage.getItem("delete_guide")||(document.getElementsByClassName("workspace-container")[0].scrollTop=0,this.showDeletGuide=!0,localStorage.setItem("delete_guide",!0))},docTypeChange:function(e){this.printDocType=e},repeatHeadChange:function(e){this.PrintHeadRepeatedly=e},rowSpaceChange:function(e){this.rowSpace=e},handlerSaveFieldData:function(e){var t=e;t.PointX=lt(t.PointX),t.PointY=lt(t.PointY),t.Width=lt(t.Width),t.Height=lt(t.Height),t.PropertyType!==Ae.SubTable&&t.PropertyType!==Ae.WorkFlowLog||(t.HeaderHeight=lt(t.HeaderHeight),t.DefaultRowHeight=lt(t.DefaultRowHeight),t.Height=ut(t))},handlerSaveSettingData:function(e){gt(e,"getRealValue")},doKeyDown:function(e){var t=e||window.event;83===(t.keyCode||t.which||t.charCode)&&(t.ctrlKey||t.metaKey)?(t.preventDefault(),this.savePrint(!0)):Et(e)},undoTrack:function(){this.isUndoDisabled||(Bt.Undo(),this.resetTraceStatus())},redoTrace:function(){this.isRedoDisabled||(Bt.Redo(),this.resetTraceStatus())},resetTraceStatus:function(){this.isRedoDisabled=0===Bt.RedoTraceStack.length,this.isUndoDisabled=0===Bt.UndoTraceStack.length}},computed:{backgroundImg:function(){return this.vueCropperOption.img}},mounted:function(){this.undoTrack(),this.redoTrace(),this.printPropertyType=Ae;for(var e=window.location.search.split("?")[1].split("&"),t={},i=0;i<e.length;i+=1){var o=e[i].split("=");if(2===o.length){var r=ae()(o,2),a=r[0],n=r[1];t[a]=n}}this.schemaCode=t.id||"",this.printCode=t.pid||"",this.appCode=t.appcode||"",window.GlobalPrintProperties.PrintContainer=this.$refs.workspaceContainer,window.GlobalPrintProperties.MainContainer=this.$refs.mainContainer,window.GlobalPrintProperties.PageAdd=this.$refs.PageAdd,window.GlobalPrintProperties.SchemaCode=this.schemaCode,window.GlobalPrintProperties.PrintCode=this.printCode,window.GlobalPrintProperties.VueInstance=this,this._getPrintInfo(),ee()(document).bind("keyup"+je,this.doKeyUp).bind("keydown"+je,this.doKeyDown)}},fa={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{"doc-type-document":0==e.printDocType,"doc-type-bill":1==e.printDocType},attrs:{id:"app"}},[o("print-header",{attrs:{pageTitle:e.templateName},on:{"go-back":e.goBack}}),e._v(" "),o("div",{staticClass:"save-container"},[e._m(0),e._v(" "),o("div",{staticClass:"preview-btn",on:{click:e.previewPrint}},[o("i",{staticClass:"icon h3yun_All eye-o"}),e._v(" "),o("span",[e._v("预览")])]),e._v(" "),o("button",{staticClass:"el-button--primary",on:{click:function(t){return e.savePrint(!0)}}},[e._v("保存")])]),e._v(" "),o("div",{staticClass:"content"},[o("div",{ref:"contentLeft",staticClass:"content-left"},e._l(e.allFields,function(t){return o("div",{key:t.Id,staticClass:"root"},[o("div",{staticClass:"root-title",on:{click:function(i){return e.toggleField(t)}}},[o("span",{staticClass:"text"},[e._v(e._s(t.GroupName))]),e._v(" "),o("span",{staticClass:"icon h3yun_All",class:{"up-o":t.Fold,"down-o":!t.Fold}})]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.Fold,expression:"fields.Fold"}],staticClass:"root-tree"},e._l(t.FieldItems,function(t,i){return o("div",{key:i,staticClass:"field-modal",class:{left:i%2==0,right:i%2==1,"field-modal-disabled":t.Children&&!t.Children.length},attrs:{"data-controlkey":t.FieldName,"data-type":t.FieldType,"data-name":t.FieldDes}},[o("i",{staticClass:"icon h3yun_All",class:e.fieldIcon(t)}),e._v(" "),o("span",{staticClass:"name"},[e._v(e._s(t.FieldDes))])])}),0)])}),0),e._v(" "),o("div",{ref:"mainContainer",staticClass:"content-main"},[o("div",{staticClass:"workspace-toolbar"},[o("span",{class:[{disabled:e.isUndoDisabled},e.trackOperate],on:{click:e.undoTrack}},[o("i",{staticClass:"icon h3yun_All back-o"})]),e._v(" "),o("span",{class:[{disabled:e.isRedoDisabled},e.trackOperate],on:{click:e.redoTrace}},[o("i",{staticClass:"icon h3yun_All back-cancel-o"})]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),e._m(1),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),e._m(2),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),e._m(3),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),e._m(4),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool field-modal",attrs:{title:"等大小"},on:{click:function(t){return t.stopPropagation(),e.moveAction("sameSize")}}},[o("i",{staticClass:"h3yun_All move-active"},[e._v("")])]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool field-modal",attrs:{title:"水平对齐"},on:{click:function(t){return t.stopPropagation(),e.moveAction("alignToHorizon")}}},[o("i",{staticClass:"h3yun_All move-active"},[e._v("")])]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool field-modal",attrs:{title:"垂直对齐"},on:{click:function(t){return t.stopPropagation(),e.moveAction("alignToVertical")}}},[o("i",{staticClass:"h3yun_All move-active"},[e._v("")])]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool field-modal",attrs:{title:"水平等距"},on:{click:function(t){return t.stopPropagation(),e.moveAction("horizontalOffset")}}},[o("i",{staticClass:"h3yun_All move-active"},[e._v("")])]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool field-modal",attrs:{title:"垂直等距"},on:{click:function(t){return t.stopPropagation(),e.moveAction("verticalOffset")}}},[o("i",{staticClass:"h3yun_All move-active"},[e._v("")])]),e._v(" "),o("div",{staticClass:"tool vertical-divider"}),e._v(" "),o("div",{staticClass:"tool tool-action tool-action-delete",on:{click:function(t){return t.stopPropagation(),e.deleteAction(t)}}},[o("i",{staticClass:"h3yun_All delete-o",class:{"delete-active":e.deleteActive}}),e._v(" "),o("span",{staticClass:"name delete"},[e._v("删除")])]),e._v(" "),o("div",{staticClass:"tool right",on:{click:e.pageSetting}},[o("i",{staticClass:"h3yun_All setting-o"}),e._v(" "),o("span",{staticClass:"name"},[e._v("页面设置")])])]),e._v(" "),o("div",{ref:"workspaceContainer",staticClass:"workspace-container"},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.showDeletGuide,expression:"showDeletGuide"}],staticClass:"guide-to-delete"},[o("img",{staticClass:"guide-arr",attrs:{src:i("3Uj3"),alt:""}}),e._v(" "),o("div",{staticClass:"tip-message-box"},[o("a",{attrs:{href:"javascript:;"},on:{click:e.closeDeleteGuide}},[o("i",{staticClass:"icon h3yun_All close"})]),e._v(" "),o("p",[e._v("点击头部边缘处，选中该页面后，点击键盘")]),e._v(" "),o("p",[e._v("“delete”或者点击工具栏“删除”按钮可进行删除")])])]),e._v(" "),o("div",{ref:"PageAdd",staticClass:"add-page",staticStyle:{display:"none"},on:{click:e.addPage}},[o("i",{staticClass:"icon h3yun_All plus-o"}),e._v("\n          增加新页面\n        ")])])]),e._v(" "),o("div",{staticClass:"content-right"},[o("div",{attrs:{id:"divPropertyContainer",position:"right"}},[e._m(5),e._v(" "),o("div",{staticClass:"pro-item",attrs:{id:"TemplateSet"}},[o("div",{staticClass:"PropertyTable"},[o("TemplateProperty",{attrs:{printDocType:e.printDocType,isDownload:e.isDownload,PrintHeadRepeatedly:e.PrintHeadRepeatedly,rowSpaceProp:e.rowSpace},on:{"doc-type-change":e.docTypeChange,"repeat-head-change":e.repeatHeadChange,"row-space-change":e.rowSpaceChange}})],1)]),e._v(" "),o("div",{staticClass:"pro-item",attrs:{id:"ControlSet"}},[o("div",{staticClass:"PropertyTable"},[o("transition",{attrs:{name:"fade"}},[o(e.editorVue,{tag:"div",attrs:{schemaCode:e.schemaCode,printCode:e.printCode,allFields:e.allFields}})],1)],1)])])])]),e._v(" "),e._m(6),e._v(" "),o("page-setting",{attrs:{schemaCode:e.schemaCode,printCode:e.printCode,pageSettingVisible:e.pageSettingVisible},on:{close:e.pageSettingClose}}),e._v(" "),o("Pageguide",{attrs:{pdfPreviewGuide:e.pdfPreviewGuide}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{attrs:{id:"linkOther"}},[t("li",[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"videoEnter"},[this._v("图形设计")])])]),this._v(" "),t("li",{},[t("a",{attrs:{href:"http://media.h3yun.net/%E6%89%93%E5%8D%B0%E4%BB%8B%E7%BB%8D0713.mp4",target:"_Blank"}},[t("span",{staticClass:"videoEnter"},[this._v("\n            视频演示\n            "),t("i",{staticClass:"icon h3yun_All play-circle-o"})])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"6","data-name":"文本"}},[t("i",{staticClass:"h3yun_All text-t"}),this._v(" "),t("span",{staticClass:"name trl"},[this._v("文本")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"7","data-name":""}},[t("i",{staticClass:"h3yun_All rectangle-o"}),this._v(" "),t("span",{staticClass:"name trl"},[this._v("矩形")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"8","data-name":""}},[t("i",{staticClass:"h3yun_All straightline"}),this._v(" "),t("span",{staticClass:"name trl"},[this._v("直线")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tool field-modal",attrs:{"data-controlkey":"","data-type":"9","data-name":""}},[t("i",{staticClass:"h3yun_All picture-o"}),this._v(" "),t("span",{staticClass:"name trl"},[this._v("图片")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"property-tabs clearfix"},[t("div",{staticClass:"h3-lnk-bar"}),this._v(" "),t("a",{attrs:{href:"javascript:void(0);",id:"btn_ControlSet","data-target":"#ControlSet"}},[this._v("控件属性")]),this._v(" "),t("a",{staticClass:"active",attrs:{href:"javascript:void(0);",id:"btn_TemplateSet","data-target":"#TemplateSet"}},[this._v("模板属性")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-tip"},[this._v("\n    当控件中有多张图片时，仅显示第一张\n    "),t("br")])}]};var ga=i("VU/8")(pa,fa,!1,function(e){i("moQ0")},null,null).exports;oe.default.config.productionTip=!1,oe.default.use(K.a),oe.default.component($.a.name,$.a),oe.default.component(Q.a.name,Q.a),oe.default.component(Y.a.name,Y.a),oe.default.component(U.a.name,U.a),oe.default.component(j.a.name,j.a),oe.default.component(M.a.name,M.a),oe.default.component(G.a.name,G.a),oe.default.component(z.a.name,z.a),oe.default.component(O.a.name,O.a),oe.default.component(R.a.name,R.a),oe.default.component(_.a.name,_.a),oe.default.component(k.a.name,k.a),oe.default.component(x.a.name,x.a),oe.default.component(S.a.name,S.a),oe.default.component(C.a.name,C.a),oe.default.component(y.a.name,y.a),oe.default.component(b.a.name,b.a),oe.default.component(v.a.name,v.a),oe.default.use(f.a),oe.default.use(u.a.directive),oe.default.component(c.a.name,c.a),oe.default.prototype.$confirm=l.a.confirm,oe.default.prototype.$alert=l.a.alert,oe.default.prototype.$loading=u.a.service,oe.default.prototype.$message=n.a,oe.default.mixin({data:function(){return{filterEmojiExp:/[^\u4e00-\u9fa5a-zA-Z\d,~·`!！@#￥$%^……&*()-=_+——（）【】[\]{}\\、|；;:：’'"“”,，《<.。》>/、？? ]/g}},methods:{filterEmoji:function(e){var t=e;this.data.BarCodeContent?this.data.BarCodeContent=this.data.BarCodeContent.replace(this.filterEmojiExp,""):this.data.QrCodeContent?this.data.QrCodeContent=this.data.QrCodeContent.replace(this.filterEmojiExp,""):this.data.Properties&&(t.Text=t.Text.replace(this.filterEmojiExp,""))},getRandom:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()||0;return("x"===e?t:t?3:8).toString(16)})},handlerNumber:function(e,t,i,o){var a=e;return a=""===a?t:Number(a),r()(a)&&(a=t),a>o?a=o:a<i&&(a=i),a=Math.floor(a)}}}),new oe.default({el:"#app",data:{eventHub:new oe.default},render:function(e){return e(ga)}})},OTWl:function(e,t){},PFCx:function(e,t){},PR7e:function(e,t){window.GlobalPrintProperties={SchemaCode:"",PrintCode:"",FieldCount:0,PrintContainer:void 0,MainContainer:void 0,Prints:{},Print:void 0,PrintTemplate:void 0,Zoom:1,IsDeveloper:!1,IsDetachApp:!1,IsSaasApp:!1,VueInstance:void 0,TraceManager:void 0,ColorPicker:void 0,ColorPickerFont:void 0,ColorPickerFill:void 0,BorderVueInstance:void 0,MMHeight:0,allFields:[],keyEventTimeOut:null,pageSettings:{PageType:1,PageDirection:1,Width:210,Height:297,MarginTop:20,MarginLeft:17,MarginBottom:20,MarginRight:17,BackGround:"",IsPrintBackGround:!1,IsDownload:!0,PageHeader:{MarginTop:10,Left:"",Center:"",Right:""},PageFooter:{MarginBottom:10,Left:"",Center:"",Right:""},PrintDocType:0}},window.GlobalPropertyData={},window.GlobalPropertyMultiData={}},Q2u4:function(e,t){},Qbok:function(e,t){},Qf25:function(e,t){},RK66:function(e,t){},RWjY:function(e,t){},SbeX:function(e,t){},TExn:function(e,t){},TFIm:function(e,t){},"U/ZW":function(e,t){},UnTz:function(e,t){},VdBx:function(e,t){},Voe7:function(e,t){},Vrf5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAABMCAYAAAAyRRjeAAAFA0lEQVR4Xu2dT6hVVRTGf58Ijpw58c9MaFQSNHEQNHCUghIEOohC0EE8HgSBUBQ4CCqEcCCREgQvCxQiciARKIJIOrBhSX9wkCNtlJFC2Ykt18d7vnfv3ft497tnnfud6V1r7W//1v04555z7t5ixNE0zTZgH7AH2AFsAjaMyvFnJlCRwAPgT+BX4AJwDrgqqZnUmFqtUNM0W4CjwEFg/aQGcx0TqEDgOnBE0sVJ1F5hiKZp9gKngY2TGMA1TGCNCJwE5iX98yTjLTNE0zTzwHFg3ZMUda4JTInAJWC3pHttx180xODM8LXN0Bal8zpC4IykA221PDTE4DfDDV8mtcXovI4RmJP0cRtNjwxxCjjcpoBzTKCDBO4A2yXdLdWmwa3Vm76bVIrO8R0nkO48HSvVmAwxB5woTXS8CXScwDVJO0s1JkOcB14sTXS8CXScwH/AZkm3S3QmQ9wCtpYkOdYEghDYVfrALhnivl/HCNJeyywlsF/S2ZKkZIiJvQdSMrBjTWANCLwq6fOScWyIElqOjUbAhojWMeutSsCGqIrXxaMRsCGidcx6qxKwIaridfFoBGyIaB2z3qoEbIiqeF08GgEbIlrHrLcqARuiKl4Xj0bAhojWMeutSsCGqIrXxaMRsCGidcx6qxJ4T9K7JSP4XaYSWo6NRuAXSU+ViLYhSmg5NiKB5yVdyRVuQ+SSclxUAt9Kyv5HqA0Rtc3WnUsg/d/nBUmXcxJsiBxKjolO4Gfg2ZwV/WyI6K22/lwCn0h6fVywDTGOkD/vE4E3JX00akI2RJ/a7bmMI5CWpkkrhA9d5tKGGIfQn/eRwPvAO5KSQZYdNkQf2+055RBIzyZek/Tb0mAbIgedY/pK4G8gXT59KOmPNEkboq+t9rxKCPwFfAUs2BAl2BzbVwJpE8dPgS9tiL622PPKIfD7YHPRBUn/+pIpB5lj+krgM+ANSWmb38XDZ4i+ttvzGkYg7VJ6SNLCagE2hL84s0Qg3VV6SdJ3wyZtQ8zS12G255oewr0sKe20O/SwIWb7SzJLs39bUnpCPfKwIcYR8ud9IPA9kP45t+JVjccnZ0P0od2ewygCD4BnJP2Ug8mGyKHkmMgEvpD0Su4EbIhcUo6LSCD9ffRpST/mirchckk5LiKBHyQ9VyLchiih5dhoBN6S9EGJaBuihJZjoxHwUpbROma9VQnYEFXxung0AjZEtI5Zb1UCNkRVvC4ejYANEa1j1luVgA1RFa+LRyNgQ0TrmPVWJWBDVMXr4tEI2BDROma9VQnYEFXxung0AjZEtI5Zb1UCNkRVvC4ejYANEa1j1luVQCtD3Ac2VJXl4iYwHQL7JZ0tGTq9/n0L2FqS5FgTCEJgl6SLJVqTIc4D2duWlhR3rAlMkUBaYWOzpNslGpIh5oATJUmONYEABK5J2lmqMxliG3ATWF+a7HgT6DCBI5KOlepTSmia5hRwuDTZ8SbQUQJ3gO2S7pbqe2SILcANYGNpAcebQAcJzI3aaXSU3oeGGJwl9gJpIdh1HZygJZlALoEzkg7kBj8et2iIgSnmgeM2RVuczpsygUvAbkn32upYZoglZ4rTvnxqi9R5UyJwcrApe9oQpfWxwhADU6TfFEeBg7771JqtE9eGwHUg3VEqegA3TNqqhljyuyLdkt0H7AF2AJv8msfadNmjrEogreSd9oRLm61fAL4BrkpKa7hO5Pgf6i2itRnW6RsAAAAASUVORK5CYII="},Wogn:function(e,t){},"X+ky":function(e,t){},"X//q":function(e,t){},X0YM:function(e,t){},Xd7X:function(e,t){},Yq4J:function(e,t){},Z1El:function(e,t){},ZACa:function(e,t){},bIOU:function(e,t){},bRYy:function(e,t){},bkag:function(e,t){},cDSy:function(e,t){},cwe7:function(e,t){},d7TW:function(e,t){},dNpC:function(e,t){},dmRH:function(e,t){},"e+R0":function(e,t){},hSKF:function(e,t){},iFrB:function(e,t){},iNYV:function(e,t){},jAzQ:function(e,t){},jZDA:function(e,t){},kF65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAUCAYAAACqJ5zlAAAAN0lEQVQoU2PsmLzCk5Hh/0wGBgaG/wyM6Yydk5c/+s/AIAsSYGRgeIwpgKEFpBQZMJIhMIzcAQAhOjo7JEcKTQAAAABJRU5ErkJggg=="},mnAs:function(e,t){},moQ0:function(e,t){},nFw3:function(e,t){},oq7i:function(e,t){},qQqD:function(e,t){},ribD:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAABvCAYAAAC3iL97AAAFt0lEQVR4Xu2awYtVZRiHn1cEFyFtpIW6yIiYWtg62rQISiRFqJ0RRs5GBf+AFrMLWgm6UsIiIYhCFFRaVLSTVuHKnRvHoGzlxgnxi0/uDKPO6Iz3vp15vc/dzrm/8/ue9zxzzj3nBH42BIHW2scR8e2GKGMJQgbDE2itvQ18ExGvDt/GBp2AYmyA46C19jXwCfBuRPy8ASpNfQXFGPgQaK29DlwDNgNXI+KtgSu5e88Ywx8DrbWLwAfLmnwUET8M32y6G3jGGHD+rbVPga8eqfA38GZE/DlgtanftWIMdAi01t4AfgdeWKHCL8B7EXFvoHpTv1vFGOAQaK29AvwG7HzC7r8DDkbE/QEqTv0uFeN/PgRaa68BPwEvr2HX/bnGZxHx7xq2dZMJElCMCcJ8WlRrbX9/XgG8+LRtl/39KvBhRMyv4ztuOiYBxRgT4Fq+3lp7CfgCOPSMdwJvA58DZ7y0Wgvx8bdRjPEZrprQWtsOzALH13mWWC3zD+BL4EcvrxIH94z/vXIbFU9vrc0A7wDvA3tHD+4mvaq/gO+BX/uP+Ij4Z9I7mPa8J54xWmv9rkm/Lu4D3g1sA7ZMOzTXX5LAAtAvSftbBpeACxFxc7WVrCjG6BJgbnRN3F9V8COB541Af0Z0FpiLiFuPLu4xMVpr+4BzwNbnjYTrkcAKBO6Mnhf1V3OWPg+J0Vo7BpwANolQAlNEoD9EPR4RJxfXvCTG6ExxXimm6HBwqcsJdDkORMSDM8cDMUa/Ka57+eSRMuUE+mXVTP/NsSjGaeDwlENx+RLoBPpD1NkY3ZK9kXS/XdQSqEag363a1cU4Apyq1t6+EkgkcLSLcRnYk7gToyVQjcCVLkZ/+rejWnP7SiCRwHwX466veSQiNroigYUuRqvY3M4SyCSgGJl0zS5LQDHKjs7imQQUI5Ou2WUJKEbZ0Vk8k4BiZNI1uywBxSg7OotnElCMTLpmlyWgGGVHZ/FMAoqRSdfssgQUo+zoLJ5JQDEy6ZpdloBilB2dxTMJKEYmXbPLElCMsqOzeCYBxcika3ZZAopRdnQWzySgGJl0zS5LQDHKjs7imQQUI5Ou2WUJKEbZ0Vk8k4BiZNI1uywBxSg7OotnElCMTLpmlyWgGGVHZ/FMAoqRSdfssgQUo+zoLJ5JQDEy6ZpdloBilB2dxTMJKEYmXbPLElCMsqOzeCYBxcika3ZZAopRdnQWzySgGJl0zS5LQDHKjs7imQQUI5Ou2WUJKEbZ0Vk8k4BiZNI1uywBxSg7OotnElCMTLpmlyWgGGVHZ/FMAoqRSdfssgQUo+zoLJ5JQDEy6ZpdloBilB2dxTMJKEYmXbPLElCMsqOzeCYBxcika3ZZAopRdnQWzySgGJl0zS5LQDHKjs7imQQUI5Ou2WUJKEbZ0Vk8k4BiZNI1uywBxSg7OotnElCMTLpmlyWgGGVHZ/FMAoqRSdfssgQUo+zoLJ5JQDEy6ZpdloBilB2dxTMJKEYmXbPLElCMsqOzeCYBxcika3ZZAopRdnQWzySgGJl0zS5LQDHKjs7imQQUI5Ou2WUJKEbZ0Vk8k4BiZNI1uywBxSg7OotnElCMTLpmlyWgGGVHZ/FMAoqRSdfssgS6GHeBLWVXYHEJTJ7AQhfjJrBj8tkmSqAsgfkuxmVgT9klWFwCkydwpYtxBDg1+WwTJVCWwNEuxk7gBrC57DIsLoHJEbgH7Iqe11o7DRyeXLZJEihL4ExEzC6KsR24DmwtuxyLS2B8AneAmYi49UCM0VljH3Ae2DR+vgkSKEfgPnAgIi725ktijOQ4BpxQjnJDtfB4BLoUxyPi5GLMQ2IsO3Oc87JqPNJ+uwyBfvl0cPFMsaoYIzn6b4454JB3q8oM2KLrI9DvPp3tx3n/TfHoVx87YyzfYHQrdz+wF9gNbPP1kfXRd+sNQ2ABuA1cAy4BFyKiv/Wx4uc/tLD8axEfdHsAAAAASUVORK5CYII="},uepK:function(e,t){},veoo:function(e,t){},xB4q:function(e,t){},xY7F:function(e,t){},ysXI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.961ee17be44cdd736fec.js.map